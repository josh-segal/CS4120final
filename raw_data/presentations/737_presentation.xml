<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>SSD Characterization:</p>
    <p>From Energy Consumption's Perspective</p>
    <p>Balgeun Yoo, Youjip Won Seokhei Cho, Sooyong Kang</p>
    <p>Hanyang University</p>
    <p>Jongmoo Choi</p>
    <p>Dankook University</p>
    <p>Sungroh Yoon</p>
    <p>Korea University</p>
    <p>HotStorage 11</p>
    <p>June 14, 2011, Portland OR</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Outline</p>
    <p>Motivation</p>
    <p>SSD Organization and Energy Consumption</p>
    <p>Channels, Ways and Clusters</p>
    <p>Case Study</p>
    <p>Power Budget</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>Motivation</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Motivation</p>
    <p>Hard disk</p>
    <p>Sector layout: cylinder serpentine vs. surface serpentine vs. hybrid</p>
    <p>serpentine</p>
    <p>Number of zones</p>
    <p>Degree of track skew</p>
    <p>Disk scheduling algorithm</p>
    <p>Understanding of Internal Mechanism of Storage Device is very important!</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Characterizing HDD: Sector Layout</p>
    <p>Jongmin Gim et al, ACM ToS 6, 2 (July 2010)</p>
    <p>Surface serpentine</p>
    <p>Cylinder serpentine SpindleSpindle</p>
    <p>Traditional SpindleSpindle SpindleSpindle</p>
    <p>Zone rewind SpindleSpindle</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Characterizing Storage Devices</p>
    <p>HDD Characterization is via measuring Seek time and Rotational Latency.</p>
    <p>Characterizing SSD what do we use?...</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Motivation</p>
    <p>What is available  the number of channels</p>
    <p>the number of chips/packages per channels</p>
    <p>What is not available?  Sector placement , Garbage collection algorithm</p>
    <p>How do we figure out the internals of SSD?</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Operations on NAND Flash Cell</p>
    <p>Erased (1)Programmed (0)</p>
    <p>Substrate</p>
    <p>Source Drain</p>
    <p>Floating Gate</p>
    <p>Control Gate Oxide Layer</p>
    <p>- -</p>
    <p>Substrate</p>
    <p>Source Drain</p>
    <p>Floating Gate</p>
    <p>Control Gate</p>
    <p>- -</p>
    <p>program erase</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Operations on NAND Flash Cell</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>SSD Characterization</p>
    <p>We will use Energy Consumption</p>
  </div>
  <div class="page">
    <p>SSD Organization and Energy Consumption</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>SSD Organization</p>
    <p>ControllerDRAM</p>
    <p>I/O Physical</p>
    <p>Interface</p>
    <p>Bus</p>
    <p>Host Interface</p>
    <p>NAND Flash Memory</p>
    <p>Host</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Characteristics of SSD Behavior</p>
    <p>=Page Write</p>
    <p>=Write Complete</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>IO Size vs. Energy Consumption</p>
  </div>
  <div class="page">
    <p>Channels, Ways, and Clusters</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Writing 4 pages: 1 Channel X 1 Way</p>
    <p>C u rr</p>
    <p>e n t(</p>
    <p>m A</p>
    <p>)</p>
    <p>time</p>
    <p>P</p>
    <p>=Page Write</p>
    <p>C D</p>
    <p>=Write Complete</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Way switch vs. Channel switch Delay</p>
    <p>C u rr</p>
    <p>e n t(</p>
    <p>m A</p>
    <p>)</p>
    <p>time</p>
    <p>=Page Write</p>
    <p>C D P</p>
    <p>=Write Complete</p>
    <p>C u rr</p>
    <p>e n t(</p>
    <p>m A</p>
    <p>)</p>
    <p>time</p>
    <p>P</p>
    <p>C D</p>
    <p>Way Switch Channel Switch</p>
    <p>Way Switch Channel Switch</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Writing 4 pages: 1 Channel X 2 Way</p>
    <p>C u rr</p>
    <p>e n t(</p>
    <p>m A</p>
    <p>)</p>
    <p>time</p>
    <p>=Page Write</p>
    <p>C D P</p>
    <p>=Write Complete</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Writing 4 pages: 2 Channel X 1 Way</p>
    <p>C u rr</p>
    <p>e n t(</p>
    <p>m A</p>
    <p>)</p>
    <p>time</p>
    <p>P</p>
    <p>=Page Write</p>
    <p>C D</p>
    <p>=Write Complete</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Writing 4 pages: 2 Channel X 2 Way</p>
    <p>C u rr</p>
    <p>e n t(</p>
    <p>m A</p>
    <p>)</p>
    <p>time</p>
    <p>P</p>
    <p>=Page Write</p>
    <p>C D</p>
    <p>=Write Complete</p>
    <p>Way Switch</p>
    <p>Channel Switch</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Cluster</p>
    <p>Cluster : Write Unit of SSD</p>
    <p>=Page Write</p>
    <p>=</p>
  </div>
  <div class="page">
    <p>Case Studies</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Measurement</p>
    <p>Oscilloscope (TDS3032)</p>
    <p>High resolution current probe(TCP202)</p>
    <p>Current probe to power line(Vdd) of the</p>
    <p>SSD</p>
    <p>Sampling interval(10samples MA): 10usec</p>
    <p>Model Vendor Size Channels DRAM Size Package Type</p>
    <p>X25M Intel 80GB 10 16MB 20 MLC</p>
    <p>MXP SAMSUNG 128GB 8 128MB 16 MLC</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : Intel X25M</p>
    <p>Capacity 80GB</p>
    <p>No. of Channels 10</p>
    <p>Packages/Channel 2</p>
    <p>Package 4 GB</p>
    <p>NAND (4GB)</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : Intel X25M</p>
    <p>IO Size: 4KB to 80KB</p>
    <p>Increase 20 steps</p>
    <p>Channel switch = 30 sec</p>
    <p>NAND programming: 17 mA</p>
    <p>Simple Round Robin 600 sec</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : Intel X25M</p>
    <p>4KB to 80KB Sequential Write</p>
    <p>= Page Write</p>
    <p>MUX</p>
    <p>Channel Switch =30 sec</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : Intel X25M</p>
    <p>?</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : Intel X25M</p>
    <p>=1 Page Write</p>
    <p>=Write Complete MUX</p>
    <p>time</p>
    <p>P1 P0</p>
    <p>P2 P3 P4 P5 P6 P7 P8 P9 P10 P11 P12</p>
    <p>P14 P P13 P</p>
    <p>P15 P16</p>
    <p>P19 P18</p>
    <p>P17</p>
    <p>P20</p>
    <p>F lo</p>
    <p>w</p>
    <p>time</p>
    <p>C u rr</p>
    <p>e n t</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : SAMSUNG MXP</p>
    <p>NAND (8GB)</p>
    <p>Capacity 128GB</p>
    <p>No. of Channels 8</p>
    <p>Packages/Channel 2</p>
    <p>Package 8 GB</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : SAMSUNG MXP</p>
    <p>Peak Current</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : SAMSUNG MXP</p>
    <p>Same Peak Current</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : SAMSUNG MXP</p>
    <p>Same Peak Current</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : SAMSUNG MXP</p>
    <p>Cluster Size of MXP is 32KB</p>
    <p>Same Peak Current</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Case Study : SAMSUNG MXP</p>
    <p>What we still do not know of</p>
    <p>Peak of 128 Kbyte &lt; Peak Current of 124 KByte</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Forth Coming Problem in Multi-channel SSD</p>
    <p>Read Write Capacity channel</p>
    <p>Model Name Release</p>
    <p>SATA3035 (Mtron) 2008.01</p>
    <p>Vertex (OCZ) 2009.03</p>
    <p>Vertex2 (OCZ) 2010.07</p>
    <p>REVO Drive X2 (OCZ) 2011.01</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Forth Coming Problem in Multi-channel SSD</p>
    <p>10 channel: peak 500 mA</p>
    <p>16 Channel: peak 800  900 mA  SSD is no long Green.</p>
    <p>Further, excessive peak current can cause</p>
    <p>supply voltage drop</p>
    <p>ground bounce</p>
    <p>signal noise</p>
    <p>black-out</p>
    <p>Etc</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Power Budget</p>
    <p>Feasible Solutions</p>
    <p>Power Budget</p>
    <p>P e rfo</p>
    <p>rm a n c e B</p>
    <p>o u n d</p>
    <p>Power</p>
    <p>I/O Latency</p>
    <p>Feasible Region</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Summary</p>
    <p>Cluster Size : 4KB</p>
    <p>programming: 17 mA</p>
    <p>Peak Current : 500mA</p>
    <p>Channel switch: 30 sec</p>
    <p>MXPX25M</p>
    <p>Energy</p>
    <p>Performance</p>
    <p>Small Write</p>
    <p>Large write</p>
    <p>Standby current</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Summary</p>
    <p>Energy Consumption is very good tool to characterizeSSD.</p>
    <p>For larger number of channels, peak current will soon be a</p>
    <p>significant issue.</p>
    <p>We introduce the notion of Power Budge to resolve this</p>
    <p>issue.</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Related Works</p>
    <p>Dongkun Shin et al, NVRAMOS 2010 Spring</p>
    <p>Laura M. Grupp et al, MICRO 2009</p>
    <p>Applied different workloads(random, sequential, etc) to SSDs and Measured the power consumption</p>
    <p>Read</p>
    <p>Program</p>
    <p>Erase</p>
    <p>Custom Board + Flash Memory</p>
    <p>Basic Operation</p>
    <p>Power Consumption of Flash Memory Basic Operations</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Related Works</p>
    <p>Euiseong Seo et al, HotPower08</p>
    <p>Vidyabhushan Mohan et al, Date 10</p>
    <p>CACTI 5.3</p>
    <p>developed a detailed power model for the NAND flash chip itself with CACTI 5.3</p>
    <p>Applied different workloads(random, sequential, etc) to SSDs with different request sizes (varied the file systems)</p>
    <p>Measured the Power Consumption</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Operations on NAND Flash Cell</p>
    <p>Model Read (mA)</p>
    <p>Write (mA)</p>
    <p>Erase (mA)</p>
    <p>Voltage(V)</p>
    <p>MD332B (Intel) 20 20 20 3.3</p>
    <p>K9XXG08XXM (Samsung) 25 25 25 3.3</p>
    <p>MT29FXXG08CXXBB (Micron) 20 20 20 3.3</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Power Consumption of Storage Devices: System Boot</p>
    <p>stand-by current s</p>
    <p>Active current of HDD</p>
    <p>SSDs have various stand-by currents</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>FTL</p>
    <p>FTL</p>
    <p>LPN: Logical Page Number PPN: Physical Page Number</p>
    <p>LPN</p>
    <p>PPN</p>
    <p>Mapping Table</p>
    <p>Flash Memory</p>
    <p>Page 0 Page 8</p>
    <p>Block 0 Block 1 Block 2</p>
    <p>Page FTL Block FTL</p>
    <p>PBN: Physical Block Number</p>
    <p>Hybrid FTL</p>
    <p>Write to LPN = 5</p>
    <p>Write to LPN = 3</p>
    <p>LBN</p>
    <p>PBN</p>
    <p>Mapping Table</p>
    <p>Flash Memory</p>
    <p>Page 0 Page 8</p>
    <p>Block 0 Block 1 Block 2</p>
    <p>Write to LPN = 5</p>
    <p>Write to LPN = 3</p>
    <p>LBN = 1 Offset =</p>
    <p>Page 0 Page 8</p>
    <p>Block 0 Block 1 Block 2</p>
    <p>Flash Memory</p>
    <p>Write to LPN = 5</p>
    <p>Write to LPN = 3</p>
    <p>LBN = 1</p>
    <p>LBN</p>
    <p>PBN</p>
    <p>Mapping</p>
    <p>LBN = 1 Offset =</p>
    <p>LPN</p>
    <p>PPN</p>
  </div>
  <div class="page">
    <p>Trivia in Measurement Methodology</p>
  </div>
  <div class="page">
    <p>Youjip Won Hanyang University HotStorage 11, Portland, OR</p>
    <p>Trivia of Measurement Methodology</p>
    <p>Sampling interval should be small enough.( Read/Program Latency)</p>
    <p>Smoothing the data to filter out measurement noise.</p>
    <p>Smoothing</p>
  </div>
</Presentation>
