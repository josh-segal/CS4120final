<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Semantically-Aligned Equation Generation</p>
    <p>for Solving and Reasoning Math Word Problems</p>
    <p>Ting-Rui Chiang and Yun-Nung (Vivian) Chen</p>
    <p>https://github.com/MiuLab/E2EMathSolver</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
    <p>Math Word Problem</p>
    <p>x = 10  1  5  0.5</p>
    <p>Reasoning &amp; Solving</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Prior Work</p>
    <p>Non-neural approaches</p>
    <p>Template-based (Kushman et al., Upadhyay and Chang)</p>
    <p>Rely on hand-crafted features!</p>
    <p>Deep learning</p>
    <p>Seq2Seq (Wang et al., Ling et al.)</p>
    <p>Does not use the structure of math expression.</p>
    <p>x = (? + ?)  ? - ?</p>
    <p>x = (1+ 2)  3 - 4</p>
    <p>fill</p>
    <p>Problem</p>
    <p>x = (1+ 2)  3 - 4</p>
    <p>generate</p>
    <p>Our model is end-to-end and structural!</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Decoder</p>
    <p>Encoder</p>
    <p>Overview of the Proposed Model</p>
    <p>stack action</p>
    <p>stack action</p>
    <p>stack action</p>
    <p>stack action</p>
    <p>Each notebook takes $0.5 and each pen takes $1.</p>
    <p>Tom has $10. How many notebooks can he buy</p>
    <p>after buying 5 pens?</p>
    <p>x = 10  1  5  0.5</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
    <p>Look Again at the Problem</p>
    <p>$1</p>
    <p>$10</p>
    <p>$0.5 ?</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
    <p>Semantic Meaning of the Operands</p>
    <p>x = ( 10  1  5 )  0.5</p>
    <p>The amount of money Tom has</p>
    <p>Price of a pen</p>
    <p>Price of a notebook</p>
    <p>Number of pens bought</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Idea: Bridging Symbolic and Semantic Worlds</p>
    <p>Symbolic World Semantic World</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Preprocess</p>
    <p>Preprocess</p>
    <p>Symbolic Part</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Symbol Encoding</p>
    <p>Preprocess</p>
    <p>Symbolic Part</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
    <p>Encode</p>
    <p>Semantic Part</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Inside Encoder</p>
    <p>Each notebook takes 0.5 ...$ and</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Semantic Generation for Unknown x</p>
    <p>Each notebook takes 0.5 ...$ and</p>
    <p>* This part is actually done when decoding, but is present at this place for illustration. Check our paper for more information.</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Operands &amp; Their Semantics</p>
    <p>xSymbolic Part Semantic Part</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Intuition of Using Semantics</p>
    <p>x = ( 10  1 ? 5 )</p>
    <p>Price of a pen.</p>
    <p>Number of pens bought.</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>x 10 1 5   0.5  =</p>
    <p>Equation Generation in Postfix</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has</p>
    <p>$10. How many notebooks can he buy after buying 5 pens?</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Stack is used</p>
    <p>The decoder generates stack actions.</p>
    <p>An equation is generated with actions on stack.</p>
    <p>Equation Generation by Stack Actions</p>
    <p>x = 10  1  5  0.5</p>
    <p>Decoder</p>
    <p>stack action</p>
    <p>stack action</p>
    <p>stack action</p>
    <p>stack action</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Encoder</p>
    <p>Action Selection in Each Step</p>
    <p>Decoder</p>
    <p>classifier</p>
    <p>stack action</p>
    <p>{+, -, , , =, Push}</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions:</p>
    <p>Equation Generation by Stack Actions</p>
    <p>x</p>
    <p>Action: push</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>x</p>
    <p>x</p>
    <p>Action: push</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x</p>
    <p>Equation Generation by Stack Actions</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10 1</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10 1 5</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>x</p>
    <p>x</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x</p>
    <p>Equation Generation by Stack Actions</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10 1</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10 1 5</p>
    <p>Action:</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>x=(101 5) 0.5</p>
    <p>x</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x</p>
    <p>Equation Generation by Stack Actions</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10 1</p>
    <p>Target Equation: x = 10  1  5  0.5</p>
    <p>Generated Actions: x 10 1 5  0.5 =</p>
    <p>After many steps</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Target equation is given.</p>
    <p>Trained as Seq2Seq.</p>
    <p>Training Process</p>
    <p>DecoderEncoder</p>
    <p>Each notebook takes $0.5 and each pen takes $1. Tom has $10. How many</p>
    <p>notebooks can he buy after buying 5 pens?</p>
    <p>x 10 1 5</p>
    <p>x 10 1 5 &lt;bos&gt;</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Dataset: Math23k</p>
    <p>In Chinese</p>
    <p>23000 math word problems.</p>
    <p>Operators: +, -, ,</p>
    <p>Experiments</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Results</p>
    <p>Retrieval BLSTM Self-Attention Seq2Seq w/SNI Proposed Hybrid</p>
    <p>Acc. Retrieval Template Generation Ensemble</p>
    <p>8%</p>
    <p>&gt; 1%</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Char-Based Word-Based Word-Based -Semantic</p>
    <p>Word-Based -Gate</p>
    <p>Word-Based -Gate</p>
    <p>-Attention</p>
    <p>Word-Based -Gate</p>
    <p>-Attention -Stack</p>
    <p>Acc.</p>
    <p>Ablation Test</p>
    <p>3%</p>
    <p>2.5%</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Encoder</p>
    <p>Self-Attention for Qualitative Analysis</p>
    <p>Each notebook takes 0.5 ...$ and</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B Encoder</p>
    <p>Self-Attention for Qualitative Analysis</p>
    <p>Each notebook takes 0.5 ...$ and</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>The attention focuses on:</p>
    <p>Informative verbs o gain, get, fill, etc.</p>
    <p>Quantifier-related words o every, how many, etc.</p>
    <p>Attention for Operand Semantics</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Three main contributions</p>
    <p>Approach: equation generation with stack</p>
    <p>Originality: automatic extraction of operand semantics</p>
    <p>Performance: a SOTA end-to-end neural model on Math23k</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>U M</p>
    <p>I U</p>
    <p>L A</p>
    <p>B</p>
    <p>Code Available @ https://github.com/MiuLab/E2EMathSolver</p>
  </div>
</Presentation>
