<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Physical Disentanglement in a Container-Based File System</p>
    <p>Lanyue Lu,Yupu Zhang, Thanh Do, Samer AI-Kiswany Andrea C. Arpaci-Dusseau, Remzi H. Arpaci-Dusseau</p>
    <p>University of Wisconsin Madison</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolation Is Important</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolation Is Important</p>
    <p>Reliability  independent failures and recovery</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolation Is Important</p>
    <p>Reliability  independent failures and recovery</p>
    <p>Performance  isolated performance</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolation Is Important</p>
    <p>Reliability  independent failures and recovery</p>
    <p>Performance  isolated performance</p>
    <p>Isolation at various scenarios  computing: virtual machines, Linux containers  security: BSD jail, sandbox  cloud: multi-tenant systems</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>File Systems Lack Isolation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>File Systems Lack Isolation</p>
    <p>Local file systems are core building blocks  manage user data  long-standing and stable  foundation for distributed file systems</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>File Systems Lack Isolation</p>
    <p>Local file systems are core building blocks  manage user data  long-standing and stable  foundation for distributed file systems</p>
    <p>Existing abstractions provide logical isolation  file, directory, namespace  just illusion</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>File Systems Lack Isolation</p>
    <p>Local file systems are core building blocks  manage user data  long-standing and stable  foundation for distributed file systems</p>
    <p>Existing abstractions provide logical isolation  file, directory, namespace  just illusion</p>
    <p>Physical entanglement in local file systems prevents isolation</p>
    <p>entangled data structures and transactions</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>Shared metadata for multiple files</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>one 4KB inode block</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>foo.txt</p>
    <p>foo.txt inode</p>
    <p>one 4KB inode block</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>foo.txt</p>
    <p>foo.txt inode</p>
    <p>bar.c</p>
    <p>one 4KB inode block</p>
    <p>bar.c inode</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>foo.txt</p>
    <p>foo.txt inode</p>
    <p>bar.c</p>
    <p>one 4KB inode block</p>
    <p>bar.c inode</p>
    <p>I/O failure Metadata corruption</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>foo.txt</p>
    <p>foo.txt inode</p>
    <p>bar.c</p>
    <p>one 4KB inode block</p>
    <p>bar.c inode</p>
    <p>I/O failure Metadata corruption</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block  many shared structures: bitmap, directory block</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Metadata Entanglement</p>
    <p>foo.txt</p>
    <p>foo.txt inode</p>
    <p>bar.c</p>
    <p>one 4KB inode block</p>
    <p>bar.c inode</p>
    <p>I/O failure Metadata corruption</p>
    <p>Shared metadata for multiple files  e.g., multiple files share one inode block  many shared structures: bitmap, directory block</p>
    <p>Problem: faults in shared structures lead to shared failures and recovery</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>A shared transaction for all updates</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>foo.txt bar.c</p>
    <p>Disk</p>
    <p>Mem</p>
    <p>A shared transaction for all updates</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>data of foo.txt data of bar.c</p>
    <p>foo.txt bar.c</p>
    <p>Disk</p>
    <p>Mem</p>
    <p>A shared transaction for all updates</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>data of foo.txt data of bar.c</p>
    <p>foo.txt bar.c</p>
    <p>Disk</p>
    <p>Mem</p>
    <p>fsync(bar.c)</p>
    <p>A shared transaction for all updates</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>data of foo.txt data of bar.c</p>
    <p>foo.txt bar.c</p>
    <p>Disk</p>
    <p>Mem</p>
    <p>fsync(bar.c)</p>
    <p>A shared transaction for all updates</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>data of foo.txt data of bar.c</p>
    <p>foo.txt bar.c</p>
    <p>Disk</p>
    <p>Mem</p>
    <p>fsync(bar.c)</p>
    <p>A shared transaction for all updates</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Transaction Entanglement</p>
    <p>data of foo.txt data of bar.c</p>
    <p>foo.txt bar.c</p>
    <p>Disk</p>
    <p>Mem</p>
    <p>fsync(bar.c)</p>
    <p>A shared transaction for all updates</p>
    <p>Problem: shared transactions lead to entangled performance</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Our Solution: IceFS</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Our Solution: IceFS</p>
    <p>Propose a data container abstraction: cube</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Our Solution: IceFS</p>
    <p>Propose a data container abstraction: cube</p>
    <p>Disentangle data structures and transactions</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Our Solution: IceFS</p>
    <p>Propose a data container abstraction: cube</p>
    <p>Disentangle data structures and transactions</p>
    <p>Provide reliability and performance isolation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Our Solution: IceFS</p>
    <p>Propose a data container abstraction: cube</p>
    <p>Disentangle data structures and transactions</p>
    <p>Provide reliability and performance isolation</p>
    <p>Benefits for local file systems  isolated failures for data containers  up to 8x faster localized recovery  up to 50x higher performance</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Our Solution: IceFS</p>
    <p>Propose a data container abstraction: cube</p>
    <p>Disentangle data structures and transactions</p>
    <p>Provide reliability and performance isolation</p>
    <p>Benefits for local file systems  isolated failures for data containers  up to 8x faster localized recovery  up to 50x higher performance</p>
    <p>Benefits for high-level services  virtualized systems: reduce the downtime over 5x  HDFS: improve the recovery efficiency over 7x</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>File System Disentanglement  Data container abstraction  Principles of disentanglement</p>
    <p>The Ice File System</p>
    <p>Evaluation</p>
    <p>Conclusion</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>An isolated directory in a file system  physically disentangled on disk and in memory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>An isolated directory in a file system  physically disentangled on disk and in memory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>cube1</p>
    <p>An isolated directory in a file system  physically disentangled on disk and in memory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>cube1 cube2</p>
    <p>An isolated directory in a file system  physically disentangled on disk and in memory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>Disk</p>
    <p>cube1 cube2</p>
    <p>An isolated directory in a file system  physically disentangled on disk and in memory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Data Container Abstraction: Cube</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>b, b1, b2 d, d1/, a, c, c1Disk</p>
    <p>cube1 cube2</p>
    <p>An isolated directory in a file system  physically disentangled on disk and in memory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Principles of Disentanglement</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Principles of Disentanglement</p>
    <p>No shared physical resources  no shared metadata: e.g., block groups  no shared disk blocks or buffers</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Principles of Disentanglement</p>
    <p>No shared physical resources  no shared metadata: e.g., block groups  no shared disk blocks or buffers</p>
    <p>No dependency  partition linked lists or trees  avoid directory hierarchy dependency</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Principles of Disentanglement</p>
    <p>No shared physical resources  no shared metadata: e.g., block groups  no shared disk blocks or buffers</p>
    <p>No dependency  partition linked lists or trees  avoid directory hierarchy dependency</p>
    <p>No entangled updates  use separate transactions  enable customized journaling modes</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>File System Disentanglement</p>
    <p>The Ice File System  Design and implementation  Benefits</p>
    <p>Evaluation</p>
    <p>Conclusion</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Overview</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Overview</p>
    <p>A data container based file system  isolated reliability and performance for containers</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Overview</p>
    <p>A data container based file system  isolated reliability and performance for containers</p>
    <p>Disentanglement techniques  physical resource isolation  directory indirection  transaction splitting</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Overview</p>
    <p>A data container based file system  isolated reliability and performance for containers</p>
    <p>Disentanglement techniques  physical resource isolation  directory indirection  transaction splitting</p>
    <p>A prototype based on Ext3  local file system: Ext3/JBD  kernel: VFS  user level tool: e2fsprogs</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>A disk is divided into block groups  physical partition for disk locality</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>Disk</p>
    <p>A disk is divided into block groups  physical partition for disk locality</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>SBDisk</p>
    <p>A disk is divided into block groups  physical partition for disk locality</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>block groupSBDisk</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>A disk is divided into block groups  physical partition for disk locality</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>One block group</p>
    <p>block groupSBDisk</p>
    <p>metadata data blocks</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>A disk is divided into block groups  physical partition for disk locality</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Disk Layout</p>
    <p>One block group</p>
    <p>block groupSBDisk</p>
    <p>metadata data blocks</p>
    <p>group descriptors bitmaps inodes</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>A disk is divided into block groups  physical partition for disk locality</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>Each cube has isolated metadata  sub-super block (Si) and isolated block groups</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>Disk</p>
    <p>Each cube has isolated metadata  sub-super block (Si) and isolated block groups</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>SBDisk</p>
    <p>Each cube has isolated metadata  sub-super block (Si) and isolated block groups</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>SBDisk</p>
    <p>sub super blocks</p>
    <p>Each cube has isolated metadata  sub-super block (Si) and isolated block groups</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>SBDisk S0 block group block group</p>
    <p>sub super blocks</p>
    <p>Each cube has isolated metadata  sub-super block (Si) and isolated block groups</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Disk Layout</p>
    <p>SBDisk S0 block group block groupS1</p>
    <p>block group</p>
    <p>block group</p>
    <p>block group</p>
    <p>sub super blocks</p>
    <p>cube metadata</p>
    <p>Each cube has isolated metadata  sub-super block (Si) and isolated block groups</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Directory Indirection</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Directory Indirection</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Directory Indirection</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>cube1 Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Directory Indirection</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>cube1 cube2 Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Directory Indirection</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>cube1 cube2</p>
    <p>/a/b/, cube1 dentry /d/, cube2 dentry ... ...</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Directory Indirection</p>
    <p>b1 b2</p>
    <p>a</p>
    <p>d1</p>
    <p>c</p>
    <p>c1</p>
    <p>/</p>
    <p>b d</p>
    <p>cube1 cube2</p>
    <p>/a/b/, cube1 dentry /d/, cube2 dentry ... ...</p>
    <p>read file /a/b/b2 match cube1 jump to cube1 top directory</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>Memory</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>fsync(file1)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>fsync(file1)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3/4 Transaction</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2 file3</p>
    <p>Disk commit tx</p>
    <p>fsync(file1)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>Memory</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>fsync(file1)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>dirty data</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk</p>
    <p>fsync(file1)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1) fsync(file2)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2</p>
    <p>dirty data</p>
    <p>file3</p>
    <p>dirty data</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1) fsync(file2)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2 file3</p>
    <p>dirty data</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1)</p>
    <p>commit tx</p>
    <p>fsync(file2)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2 file3</p>
    <p>dirty data</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1)</p>
    <p>commit tx</p>
    <p>fsync(file2) fsync(file3)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2 file3</p>
    <p>dirty data</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1)</p>
    <p>commit tx</p>
    <p>fsync(file2) fsync(file3)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>IceFS Transaction Splitting</p>
    <p>Journal</p>
    <p>file1</p>
    <p>Memory</p>
    <p>file2 file3</p>
    <p>Disk commit</p>
    <p>tx</p>
    <p>fsync(file1)</p>
    <p>commit tx</p>
    <p>commit tx</p>
    <p>fsync(file2) fsync(file3)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>File System Disentanglement</p>
    <p>The Ice File System  Design and implementation  Benefits</p>
    <p>Evaluation</p>
    <p>Conclusion</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Benefits of Disentanglement</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Benefits of Disentanglement</p>
    <p>Localized reactions to failures  per-cube read-only and crash  encourage more runtime checking</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Benefits of Disentanglement</p>
    <p>Localized reactions to failures  per-cube read-only and crash  encourage more runtime checking</p>
    <p>Localized recovery  only check faulty cubes  offline and online</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Benefits of Disentanglement</p>
    <p>Localized reactions to failures  per-cube read-only and crash  encourage more runtime checking</p>
    <p>Localized recovery  only check faulty cubes  offline and online</p>
    <p>Specialized journaling  concurrent and independent transactions  diverse journal modes (e.g., no journal, no fsync)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>File System Disentanglement</p>
    <p>The Ice File System</p>
    <p>Evaluation</p>
    <p>Conclusion</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Does IceFS isolate failures ?</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Does IceFS isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) in IceFS</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Does IceFS isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) in IceFS</p>
    <p>Does IceFS have faster recovery ?</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Recovery In Ext3</p>
    <p>Fs ck</p>
    <p>T im</p>
    <p>e (s</p>
    <p>)</p>
    <p>File-system Capacity 200GB 400GB 600GB 800GB</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Recovery In Ext3</p>
    <p>Ext3: 20 directories</p>
    <p>Fs ck</p>
    <p>T im</p>
    <p>e (s</p>
    <p>)</p>
    <p>File-system Capacity 200GB 400GB 600GB 800GB</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Fast Recovery In IceFS</p>
    <p>Fs ck</p>
    <p>T im</p>
    <p>e (s</p>
    <p>)</p>
    <p>File-system Capacity 200GB 400GB 600GB 800GB</p>
    <p>Ext3 IceFS</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Fast Recovery In IceFS</p>
    <p>Ext3: 20 directories</p>
    <p>IceFS: 20 cubes</p>
    <p>Fs ck</p>
    <p>T im</p>
    <p>e (s</p>
    <p>)</p>
    <p>File-system Capacity 200GB 400GB 600GB 800GB</p>
    <p>Ext3 IceFS</p>
    <p>Partial recovery for a cube (up to 8x)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Does IceFS isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) for IceFS</p>
    <p>Does IceFS have faster recovery ?  independent recovery for a cube</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Does IceFS isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) for IceFS</p>
    <p>Does IceFS have faster recovery ?  independent recovery for a cube</p>
    <p>Does IceFS have better performance ?</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Workloads</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Workloads</p>
    <p>SQLite  a database application  sequentially write large key/value pairs  asynchronous</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Workloads</p>
    <p>SQLite  a database application  sequentially write large key/value pairs  asynchronous</p>
    <p>Varmail  an email server workload  randomly write small blocks  fsync after each write</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Journaling</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Journaling</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Alone Ext3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Journaling</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Alone Ext3</p>
    <p>Ext3 runs with 2 directories</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Journaling</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Journaling</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Alone Ext3</p>
    <p>Together Ext3</p>
    <p>Ext3 runs with 2 directories</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Ext3 Journaling</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Alone Ext3</p>
    <p>Together Ext3</p>
    <p>Shared transactions hurt performance (over 10x)</p>
    <p>Ext3 runs with 2 directories</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolated Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolated Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Alone in Ext3</p>
    <p>Together in Ext3</p>
    <p>Together in IceFS</p>
    <p>Ext3 runs with 2 directories</p>
    <p>IceFS runs with 2 cubes</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Isolated Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Alone in Ext3</p>
    <p>Together in Ext3</p>
    <p>Together in IceFS</p>
    <p>Ext3 runs with 2 directories</p>
    <p>IceFS runs with 2 cubes</p>
    <p>Parallel transactions in IceFS provide isolated performance (over 5x)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>or de</p>
    <p>re d</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>or de</p>
    <p>re d</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>or de</p>
    <p>re d</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>or de</p>
    <p>re d</p>
    <p>Both cubes use ordered mode</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>SQLite runs with no journal Varmail runs with ordered</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>SQLite runs with ordered</p>
    <p>Varmail runs with no journal</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Specialized Journaling In IceFS</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (M</p>
    <p>B /s</p>
    <p>)</p>
    <p>SQLite Varmail</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>or de</p>
    <p>re d</p>
    <p>no jo</p>
    <p>ur na</p>
    <p>l</p>
    <p>SQLite runs with ordered</p>
    <p>Varmail runs with no journal</p>
    <p>Specialized journaling in IceFS provide flexibility between consistency and performance (over 50x)</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) for IceFS</p>
    <p>Faster recovery ?  independent recovery for a cube</p>
    <p>Better journaling performance ?  isolated journaling performance  flexibility between consistency and performance</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) for IceFS</p>
    <p>Faster recovery ?  independent recovery for a cube</p>
    <p>Better journaling performance ?  isolated journaling performance  flexibility between consistency and performance</p>
    <p>Useful for applications ?</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization</p>
    <p>vm1 vm2 vm3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization</p>
    <p>Shared file system</p>
    <p>Disk virtual disk 2 virtual disk 3virtual disk 1</p>
    <p>vm1 vm2 vm3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization</p>
    <p>Shared file system</p>
    <p>Disk virtual disk 2 virtual disk 3virtual disk 1</p>
    <p>vm1 vm2 vm3</p>
    <p>Failures and recovery of the shared file system impact all virtual machines</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Virtual Machines</p>
    <p>Time (Second)</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (I</p>
    <p>O P</p>
    <p>S )</p>
    <p>fsck: 496s + bootup: 68s</p>
    <p>VM1 VM2 VM3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Virtual Machines</p>
    <p>Time (Second)</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (I</p>
    <p>O P</p>
    <p>S )</p>
    <p>fsck: 496s + bootup: 68s</p>
    <p>VM1 VM2 VM3</p>
    <p>Inject metadata corruption</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Virtual Machines</p>
    <p>Time (Second)</p>
    <p>Th ro</p>
    <p>ug hp</p>
    <p>ut (I</p>
    <p>O P</p>
    <p>S )</p>
    <p>fsck: 496s + bootup: 68s</p>
    <p>VM1 VM2 VM3</p>
    <p>Inject metadata corruption bootup three vms</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>Shared file system with cubes</p>
    <p>Disk virtual disk 2 virtual disk 3virtual disk 1</p>
    <p>vm1 vm2 vm3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>Shared file system with cubes</p>
    <p>Disk virtual disk 2 virtual disk 3virtual disk 1</p>
    <p>vm1 vm2 vm3</p>
    <p>cube1</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>Shared file system with cubes</p>
    <p>Disk virtual disk 2 virtual disk 3virtual disk 1</p>
    <p>vm1 vm2 vm3</p>
    <p>cube1 cube2</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>Shared file system with cubes</p>
    <p>Disk virtual disk 2 virtual disk 3virtual disk 1</p>
    <p>vm1 vm2 vm3</p>
    <p>cube1 cube2 cube3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>Inject metadata corruption</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>recover a cube offline</p>
    <p>Inject metadata corruption</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>recover a cube offline</p>
    <p>bootup three vms</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>recover a cube offline</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Server Virtualization with IceFS</p>
    <p>ro ug</p>
    <p>hp ut</p>
    <p>(I O</p>
    <p>P S</p>
    <p>) IceFS-Offline</p>
    <p>Time (Second)</p>
    <p>IceFS-Online</p>
    <p>fsck: 35s +</p>
    <p>bootup: 67s</p>
    <p>fsck: 74s +</p>
    <p>bootup: 39s</p>
    <p>VM1 VM2 VM3</p>
    <p>recover a cube offline</p>
    <p>recover a cube online</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Isolate failures ?  inject around 200 faults  per-cube failure (read-only or crash) for IceFS</p>
    <p>Faster recovery ?  independent recovery for a cube</p>
    <p>Better journaling performance ?  isolated journaling performance for cubes  flexibility between consistency and performance</p>
    <p>Useful for applications ?  significantly reduce system downtime</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>IceFS provides isolation with data containers</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>IceFS provides isolation with data containers</p>
    <p>Computing is becoming virtualized, shared, and multi-tenant</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>IceFS provides isolation with data containers</p>
    <p>Computing is becoming virtualized, shared, and multi-tenant</p>
    <p>isolation is the key</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>IceFS provides isolation with data containers</p>
    <p>Computing is becoming virtualized, shared, and multi-tenant</p>
    <p>isolation is the key</p>
    <p>Systems need to rethink isolation</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>IceFS provides isolation with data containers</p>
    <p>Computing is becoming virtualized, shared, and multi-tenant</p>
    <p>isolation is the key</p>
    <p>Systems need to rethink isolation  avoid entanglement</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Local file systems lack physical isolation  physical entanglement  reliability and performance problems</p>
    <p>IceFS provides isolation with data containers</p>
    <p>Computing is becoming virtualized, shared, and multi-tenant</p>
    <p>isolation is the key</p>
    <p>Systems need to rethink isolation  avoid entanglement  provide useful abstractions for applications</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Source code available soon at : http://research.cs.wisc.edu/adsl/Software/icefs/</p>
    <p>Friday, October 17, 14</p>
  </div>
  <div class="page">
    <p>Source code available soon at : http://research.cs.wisc.edu/adsl/Software/icefs/</p>
    <p>Questions ?</p>
    <p>Friday, October 17, 14</p>
  </div>
</Presentation>
