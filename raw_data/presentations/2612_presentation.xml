<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>FastRoute</p>
    <p>Internet Topology image courtesy of www.opte.org</p>
    <p>FastRoute: A Scalable Load-Aware Anycast Rou5ng Architecture for Modern CDNs</p>
    <p>Ashley Flavel, Pradeepkumar Mani, David A. Maltz, Nick Holt, Jie Liu, Yingying Chen, Oleg Surmachev</p>
  </div>
  <div class="page">
    <p>FastRoute Overview</p>
    <p>Microso&gt;s online services exist inside small set of datacenters distributed throughout the world.</p>
    <p>Edge nodes distributed throughout the Internet reduce network latency of such services.</p>
    <p>FastRoute is the fully distributed mechanism used to direct users to nearby edge.</p>
  </div>
  <div class="page">
    <p>Why use an Edge?</p>
    <p>DC</p>
  </div>
  <div class="page">
    <p>Why use an Edge?</p>
    <p>DC</p>
    <p>Mum</p>
  </div>
  <div class="page">
    <p>Why use an Edge?</p>
    <p>DC</p>
    <p>RTT=180ms</p>
    <p>Network Latency of first-byte = 2*RTT (360ms)</p>
    <p>Mum</p>
  </div>
  <div class="page">
    <p>Why use an Edge?</p>
    <p>DC</p>
    <p>RTT=20ms</p>
    <p>RTT=170ms</p>
    <p>Network Latency of first-byte = 2*(short) RTT + 1*(long) RTT = 210ms Savings of 150ms by using edge</p>
    <p>Mum</p>
  </div>
  <div class="page">
    <p>Which edge for which user?</p>
    <p>Which edge do I direct users to?  How do I direct users to the right edge?</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
    <p>D</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
    <p>D</p>
    <p>Map Calculator</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
    <p>D</p>
    <p>? DNS</p>
    <p>Map Calculator</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
    <p>D</p>
    <p>? DNS</p>
    <p>A B</p>
    <p>C</p>
    <p>D</p>
    <p>Map Calculator</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
    <p>D</p>
    <p>? DNS</p>
    <p>A B</p>
    <p>C</p>
    <p>D</p>
    <p>Map Calculator</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
    <p>D</p>
    <p>? DNS</p>
    <p>A B</p>
    <p>C</p>
    <p>C</p>
    <p>Map Calculator</p>
    <p>Detect topology change  update map</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>Primary Benefit  Flexible Control: Can direct any DNS request to any node</p>
    <p>Trade off  High opera5onal cost and complexity (Large scale central global co-ordinator required)  DNS can be inaccurate for client proximity rou5ng.</p>
  </div>
  <div class="page">
    <p>The Map the Internet Approach</p>
    <p>Primary Benefit  Flexible Control: Can direct any DNS request to any node</p>
    <p>Trade off  High opera5onal cost and complexity (Large scale central global co-ordinator required)  DNS can be inaccurate for client proximity rou5ng.</p>
    <p>There is an alterna9ve</p>
  </div>
  <div class="page">
    <p>The Anycast Approach</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
  </div>
  <div class="page">
    <p>The Anycast Approach</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>? DNS</p>
  </div>
  <div class="page">
    <p>The Anycast Approach</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>? DNS</p>
    <p>A A</p>
    <p>A</p>
    <p>A</p>
  </div>
  <div class="page">
    <p>The Anycast Approach</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>? DNS</p>
    <p>A A</p>
    <p>A</p>
    <p>A</p>
  </div>
  <div class="page">
    <p>The Anycast Approach</p>
    <p>Benefits  Simple  Avoids DNS-based proximity rou5ng</p>
    <p>Trade off  Relinquish rou5ng control to The Internet</p>
  </div>
  <div class="page">
    <p>FastRoute</p>
    <p>Design Goals:  Simple (easy to operate)  Highly available (minimal down5me)  High Performance (becer than exis5ng solu5on)</p>
    <p>Desire:  A solu5on with the simplicity of Anycast, with just enough control to handle overloaded nodes.</p>
  </div>
  <div class="page">
    <p>FastRoute</p>
    <p>Ques5ons: 1. Does Anycast provide sufficient performance? 2. How can we manage the rare (but expected) individual overloaded node without sacrificing Anycasts simplicity?</p>
  </div>
  <div class="page">
    <p>Performance of Anycast?</p>
    <p>Note: Anything above 0% is good</p>
  </div>
  <div class="page">
    <p>Not all Nodes are Equal!</p>
  </div>
  <div class="page">
    <p>UHlizing Anycast Layers</p>
    <p>ISP Nodes</p>
    <p>DC Nodes</p>
    <p>Backbone Nodes</p>
    <p>IP A</p>
    <p>IP B</p>
    <p>IP C</p>
  </div>
  <div class="page">
    <p>Load Management using Anycast Layers Individual edge gehng hot</p>
  </div>
  <div class="page">
    <p>Load Management using Anycast Layers</p>
    <p>Note: Architecture choice not to send traffic to another edge in same layer. This prevents oscillatory behavior.</p>
    <p>Hot edge throws a frac5on of traffic to next layer</p>
  </div>
  <div class="page">
    <p>Load Management using Anycast Layers</p>
    <p>Anycast layer 0 is provisioned to absorb overflow. Further op9miza9on can occur to improve absorp9on in this layer. An edge in any layer can</p>
    <p>throw to the next layer</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>DNS</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>DNS</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>DNS</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>DNS</p>
    <p>Preserves the independence of each node (no real-9me communica9on outside a node).</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>Major assump5on  DNS request for a user lands in the same loca5on as HTTP request (i.e. self- correlated)</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>Major assump5on  DNS request for a user lands in the same loca5on as HTTP request (i.e. self- correlated)</p>
    <p>This is not guaranteed for all requests.</p>
  </div>
  <div class="page">
    <p>How to throw traffic to next layer?</p>
    <p>Major assump5on  DNS request for a user lands in the same loca5on as HTTP request (i.e. self- correlated)</p>
    <p>This is not guaranteed for all requests.</p>
    <p>Is it good enough?</p>
  </div>
  <div class="page">
    <p>FastRoute Self-CorrelaHon Ideal 100% self-correlated</p>
  </div>
  <div class="page">
    <p>DNS Load Management In PracHce</p>
  </div>
  <div class="page">
    <p>Basic Architecture Summary</p>
    <p>Sta5cally configure edges in mul5ple Anycast layers  Each edge independently monitors its own load and decides whether to throw traffic to the next layer.  Final layer is dimensioned sufficiently to handle all load</p>
    <p>Edge nodes act independently without any knowledge outside the edge.</p>
  </div>
  <div class="page">
    <p>Internet Topology image courtesy of www.opte.org</p>
    <p>FastRoute: A Scalable Load-Aware Anycast Rou5ng Architecture for Modern CDNs</p>
    <p>QuesLons?</p>
  </div>
</Presentation>
