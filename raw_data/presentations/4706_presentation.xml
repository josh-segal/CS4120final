<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>A Combination of Trie-trees and Inverted files for the Indexing of</p>
    <p>Set-valued Attributes</p>
    <p>Manolis Terrovitis (NTUA) Spyros Passas (NTUA) Panos Vassiliadis (UoI)</p>
    <p>Timos Sellis (NTUA)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Problem</p>
    <p>We are interested in low cardinality set-values  Retail store transaction logs  Web logs  Biomedical databases etc.</p>
    <p>We address the efficient evaluation of containment queries  In which transactions were products a and b sold together?  Which users visited only the main page or the download page</p>
    <p>of our site?</p>
    <p>We propose the Hybrid Trie-Inverted file (HTI) index</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Outline</p>
    <p>Problem definition  The HTI index  Query evaluation  Experiments  Conclusions</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Outline</p>
    <p>Problem definition  The HTI index  Query evaluation  Experiments  Conclusions</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Data and queries</p>
    <p>tid products tid product s</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Data and queries</p>
    <p>Find all transactions that contain a, b and d (subset)</p>
    <p>tid products tid product s</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Data and queries</p>
    <p>Find all transactions that contain a, b and d (subset)</p>
    <p>Find all transactions that contain exactly a, b and d (equality)</p>
    <p>tid products tid product s</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Data and queries</p>
    <p>Find all transactions that contain a, b and d (subset)</p>
    <p>Find all transactions that contain exactly a, b and d (equality)</p>
    <p>Find all transactions that contain only items from a, b and d (superset)</p>
    <p>tid products tid product s</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Data and queries</p>
    <p>Traditional methods  Signature files  Inverted files</p>
    <p>Differences from text databases:  Low cardinality  Large number of records in comparison with</p>
    <p>vocabulary size  New types of queries (equality-superset)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Outline</p>
    <p>Problem definition  The HTI index  Query evaluation  Experiments  Conclusions</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>The HTI index Background  The inverted file</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index Inverted files - problems</p>
    <p>The evaluation of containment queries relies on merge-joining the inverted lists</p>
    <p>The inverted lists become very long  when the database size is very big compared to the</p>
    <p>vocabulary  when the items distribution is skewed</p>
    <p>This is often the case in the real world!</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index Solution?</p>
    <p>We need to break up the lists!</p>
    <p>But how?  Lets make a list for every combination of</p>
    <p>items!</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index Solution?</p>
    <p>We assume a total order based on the frequency of appearance for the items of the database</p>
    <p>We order the items in each set-value and we transform it to a sequence</p>
    <p>We create a path in the access tree for each sequence</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index All combinations?</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index All combinations?</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index All combinations?</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index All combinations?</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index All combinations? Maybe, not</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index An access tree for the frequent items</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index An access tree for the frequent items</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>The HTI index</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>The HTI index</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>The HTI index</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>The HTI index</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>HTI index The basic points</p>
    <p>The access tree is used only for the most frequent items</p>
    <p>The inverted lists are restructured so that each node of the access tree points to a different inverted sublist</p>
    <p>We keep the access tree in main memory</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Outline</p>
    <p>Problem definition  The HTI index  Query evaluation  Experiments  Conclusions</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Query Evaluation Basic Steps</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Subset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Subset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Subset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Subset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Subset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Equality - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Equality - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Equality - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Equality - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Superset - (b, c, d)</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Outline</p>
    <p>Problem definition  The HTI index  Query evaluation  Experiments  Conclusions</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Setup</p>
    <p>Real Data from UCI  web log from microsoft.com [ 320k records, 294</p>
    <p>items]  web log from msnbc.com [1M records, 17 items]</p>
    <p>Synthetic data  Zipfian distribution of order 1  100k-1M records  1k-10k items  Queries with 2-22 items</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Query performance  DB size</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Query performance  query length</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Query performance  query length</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Query performance  query length</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Query performance  query length</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Access tree size  DB size</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Access tree size  DB size</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments</p>
    <p>The HTI scales a lot better than the inverted file as the query and the database size grow</p>
    <p>A small threshold is enough for a performance gain over an order of magnitude</p>
    <p>The main memory requirements do not exceed 0.5M for the real data.</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Outline</p>
    <p>Problem Definition  The HTI index  Query evaluation  Experiments  Conclusions</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Conclusions</p>
    <p>The HTI index relies on breaking up the larger inverted lists in smaller lists that contain known combinations of items</p>
    <p>The HTI index significantly outperforms the inverted file for small domains and skewed item distributions</p>
    <p>It has moderate memory requirements that can be adjusted by using the right threshold</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>The End</p>
    <p>Thank You!</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Vocabulary size</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Threshold choice</p>
  </div>
  <div class="page">
    <p>Terrovitis et. al., CIKM '0 6</p>
    <p>Experiments Threshold choice</p>
  </div>
</Presentation>
