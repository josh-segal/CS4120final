<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>A Placement Vulnerability Study in Multi-tenant Public Clouds</p>
    <p>Venkat(anathan) Varadarajan, Yinqian Zhang, Thomas Ristenpart and Michael Swift venkatv@cs.wisc.edu</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Multi-tenancy</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Multi-tenancy + Public</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Multi-tenancy</p>
    <p>Big concern: cross-VM attacks</p>
    <p>via co-location</p>
    <p>+ Public</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Multi-tenancy</p>
    <p>Big concern: cross-VM attacks</p>
    <p>via co-location</p>
    <p>+ Public</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Multi-tenancy</p>
    <p>Big concern: cross-VM attacks</p>
    <p>via co-location</p>
    <p>+ Public</p>
  </div>
  <div class="page">
    <p>Cloud API</p>
    <p>Internet</p>
    <p>Public Clouds</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Multi-tenancy</p>
    <p>Big concern: cross-VM attacks</p>
    <p>via co-location</p>
    <p>+ Public</p>
    <p>We show attackers can achieve co-location with &gt; 90% chance for as low as 14 cents!</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Internet</p>
    <p>(1) Controls co-location</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM Hypervisor</p>
    <p>Internet</p>
    <p>(1) Controls co-location</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM Hypervisor</p>
    <p>Internet</p>
    <p>(1) Controls co-location</p>
    <p>(2) Provides isolation</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM Hypervisor</p>
    <p>Internet</p>
    <p>(1) Controls co-location</p>
    <p>(2) Provides isolation</p>
    <p>Cross-VM side- and covert-channels [Ristenpart09, Xu11, Wu12, Zhang12, Yarom14, Liu15, Gruss15]</p>
    <p>Resource-stealing, DoS [Zhou11, Varadarajan12]</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Placement and Isolation in Public Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM Hypervisor</p>
    <p>Internet</p>
    <p>(1) Controls co-location</p>
    <p>(2) Provides isolation</p>
    <p>Cross-VM side- and covert-channels [Ristenpart09, Xu11, Wu12, Zhang12, Yarom14, Liu15, Gruss15]</p>
    <p>Resource-stealing, DoS [Zhou11, Varadarajan12]</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Cloud API</p>
    <p>*Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Cloud API</p>
    <p>*Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Cloud API</p>
    <p>Target VMs</p>
    <p>*Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>*Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>*Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Co-location *Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>6 years old</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Co-location *Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>6 years old</p>
    <p>New countermeasures (e.g, virtual private clouds)</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Co-location *Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>6 years old</p>
    <p>New countermeasures (e.g, virtual private clouds)</p>
    <p>Increased scale of clouds</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Co-location *Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Prior Work on Co-location: 2009 Study</p>
    <p>6 years old</p>
    <p>New countermeasures (e.g, virtual private clouds)</p>
    <p>Increased scale of clouds</p>
    <p>Only on Amazon EC2</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Co-location *Hey you get off my cloud, Ristenpart et al., CCS 2009</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Cloud API</p>
    <p>Target VMs</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>Cloud API</p>
    <p>Target VMs</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>launch parameters to increase chances of colocation</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>launch parameters to increase chances of colocation</p>
    <p>with any target victim</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>Detect co-location</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>launch parameters to increase chances of colocation</p>
    <p>with any target victim</p>
    <p>VM</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>Detect co-location</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Co-residency Detection</p>
  </div>
  <div class="page">
    <p>Co-residency Detection</p>
    <p>e.g., private IP addresses, shared TSC counters.</p>
    <p>VMVM 102.2.1.3102.2.1.1</p>
  </div>
  <div class="page">
    <p>Co-residency Detection</p>
    <p>e.g., private IP addresses, shared TSC counters.</p>
    <p>e.g., network round-trip times, cache-based covert-channels.</p>
    <p>VMVM</p>
    <p>n/w pings or covert-channels</p>
    <p>VMVM 102.2.1.3102.2.1.1</p>
  </div>
  <div class="page">
    <p>Co-residency Detection</p>
    <p>e.g., private IP addresses, shared TSC counters.</p>
    <p>e.g., network round-trip times, cache-based covert-channels.</p>
    <p>VMVM</p>
    <p>n/w pings or covert-channels</p>
    <p>VMVM 102.2.1.3102.2.1.1</p>
  </div>
  <div class="page">
    <p>Co-residency Detection</p>
    <p>e.g., private IP addresses, shared TSC counters.</p>
    <p>e.g., network round-trip times, cache-based covert-channels.</p>
    <p>A memory-based covert-channel* can cause 3x-4x degradation</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
    <p>VMVM</p>
    <p>n/w pings or covert-channels</p>
    <p>VMVM 102.2.1.3102.2.1.1</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>Sender: Signal() { repeat atomic_op(ua_addr) done }</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>Sender: Signal() { repeat atomic_op(ua_addr) done }</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>Sender: Signal() { repeat atomic_op(ua_addr) done }</p>
    <p>Receiver: Observe() { s = start_time repeat N mem_access() done e = end_time bw = N/(e-s) }</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>Sender: Signal() { repeat atomic_op(ua_addr) done }</p>
    <p>Receiver: Observe() { s = start_time repeat N mem_access() done e = end_time bw = N/(e-s) }</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>Sender: Signal() { repeat atomic_op(ua_addr) done }</p>
    <p>Receiver: Observe() { s = start_time repeat N mem_access() done e = end_time bw = N/(e-s) }</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
    <p>Victim VM must cooperate with attack VM O.K. for measurement studies</p>
  </div>
  <div class="page">
    <p>Background: Memory Covert-Channel</p>
    <p>LLC</p>
    <p>Core (Private Caches)</p>
    <p>Core (Private Caches)</p>
    <p>LLC</p>
    <p>Memory</p>
    <p>VMVM</p>
    <p>Shared Memory Bus</p>
    <p>Sender: Signal() { repeat atomic_op(ua_addr) done }</p>
    <p>Receiver: Observe() { s = start_time repeat N mem_access() done e = end_time bw = N/(e-s) }</p>
    <p>* Wu et al. Whispers in the Hyper-space: High-speed Covert Channel Attacks in the Cloud., Usenix Security12</p>
    <p>Victim VM must cooperate with attack VM O.K. for measurement studies</p>
    <p>But not useful for real attacks in the wild</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Realistic victim setting: modern multi-tier cloud app.</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>A</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Realistic victim setting: modern multi-tier cloud app.</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>A</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Realistic victim setting: modern multi-tier cloud app.</p>
    <p>background load</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>A</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Realistic victim setting: modern multi-tier cloud app.  A way to detect co-location when VMs are behind a</p>
    <p>load-balancer in presence of background traffic</p>
    <p>background load</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>A</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Realistic victim setting: modern multi-tier cloud app.  A way to detect co-location when VMs are behind a</p>
    <p>load-balancer in presence of background traffic</p>
    <p>background load</p>
    <p>Sender() VM</p>
  </div>
  <div class="page">
    <p>A</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Realistic victim setting: modern multi-tier cloud app.  A way to detect co-location when VMs are behind a</p>
    <p>load-balancer in presence of background traffic</p>
    <p>background load</p>
    <p>Sender()Receiver() VM</p>
  </div>
  <div class="page">
    <p>A</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Data Store</p>
    <p>VM</p>
    <p>VM part of a cloud app,</p>
    <p>e.g., web server, key-value storesTarget Victims</p>
    <p>Load Balancer</p>
    <p>Send large # requests &amp; measure avg. latency</p>
    <p>Realistic victim setting: modern multi-tier cloud app.  A way to detect co-location when VMs are behind a</p>
    <p>load-balancer in presence of background traffic</p>
    <p>background load</p>
    <p>Sender()Receiver() VM</p>
  </div>
  <div class="page">
    <p>idle 100 250 500 750 1000</p>
    <p>A ve</p>
    <p>ra ge</p>
    <p>R eq</p>
    <p>ue st</p>
    <p>L at</p>
    <p>en cy</p>
    <p>(m s)</p>
    <p>(lo g</p>
    <p>sc al</p>
    <p>e)</p>
    <p>Background Load (# concurrent users)</p>
    <p>Non-coresident Co-resident</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Social networking application (Olio):</p>
    <p>HAProxy LB + 3 Web servers + 1 mysql server</p>
  </div>
  <div class="page">
    <p>idle 100 250 500 750 1000</p>
    <p>A ve</p>
    <p>ra ge</p>
    <p>R eq</p>
    <p>ue st</p>
    <p>L at</p>
    <p>en cy</p>
    <p>(m s)</p>
    <p>(lo g</p>
    <p>sc al</p>
    <p>e)</p>
    <p>Background Load (# concurrent users)</p>
    <p>Non-coresident Co-resident</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Social networking application (Olio):</p>
    <p>HAProxy LB + 3 Web servers + 1 mysql server</p>
  </div>
  <div class="page">
    <p>idle 100 250 500 750 1000</p>
    <p>A ve</p>
    <p>ra ge</p>
    <p>R eq</p>
    <p>ue st</p>
    <p>L at</p>
    <p>en cy</p>
    <p>(m s)</p>
    <p>(lo g</p>
    <p>sc al</p>
    <p>e)</p>
    <p>Background Load (# concurrent users)</p>
    <p>Non-coresident Co-resident</p>
    <p>Co-residency Detection on Uncooperative Victim</p>
    <p>Social networking application (Olio):</p>
    <p>HAProxy LB + 3 Web servers + 1 mysql server</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>launch parameters to increase chances of colocation</p>
    <p>with any target victim</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>Detect co-location</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Our Work: Exploring Co-location Attacks in Modern Clouds</p>
    <p>Steps in achieving co-location:</p>
    <p>launch parameters to increase chances of colocation</p>
    <p>with any target victim</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>Cloud API</p>
    <p>VM</p>
    <p>Target VMs</p>
    <p>Detect co-location</p>
    <p>Cluster Scheduler</p>
    <p>Placement Policy</p>
    <p>Internet</p>
    <p>VM</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Placement Variables</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Placement Variablese.g., # VMs, when you launch, datacenter, VM type, etc.</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Placement Variables</p>
    <p>Co-location?</p>
    <p>e.g., # VMs, when you launch, datacenter, VM type, etc.</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Placement Variables</p>
    <p>Co-location?</p>
    <p>e.g., # VMs, when you launch, datacenter, VM type, etc.</p>
    <p>Fix Placement Variables</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Placement Variables</p>
    <p>Co-location?</p>
    <p>e.g., # VMs, when you launch, datacenter, VM type, etc.</p>
    <p>Fix Placement Variables</p>
    <p>Observe Placement Behavior</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Placement Variables</p>
    <p>Co-location?</p>
    <p>e.g., # VMs, when you launch, datacenter, VM type, etc.</p>
    <p>Fix Placement Variables</p>
    <p>Observe Placement Behavior</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Study spanning 3 months, exploring 6 placement variables, spending more than $200 per cloud</p>
    <p>Placement Variables</p>
    <p>Co-location?</p>
    <p>e.g., # VMs, when you launch, datacenter, VM type, etc.</p>
    <p>Fix Placement Variables</p>
    <p>Observe Placement Behavior</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>Big Picture: Placement Vulnerability Study</p>
    <p>Study spanning 3 months, exploring 6 placement variables, spending more than $200 per cloud</p>
    <p>Placement Variables</p>
    <p>Co-location?</p>
    <p>e.g., # VMs, when you launch, datacenter, VM type, etc.</p>
    <p>Fix Placement Variables</p>
    <p>Observe Placement Behavior</p>
  </div>
  <div class="page">
    <p>Study Setup</p>
    <p>Two distinct accounts: proxy for victim and attacker</p>
  </div>
  <div class="page">
    <p>Study Setup</p>
    <p>Two distinct accounts: proxy for victim and attacker  6 placement variables</p>
    <p># victim &amp; attacker VMs, delay b/w launches, time of day, day of week, datacenter, cloud providers</p>
    <p>Small instance type (EC2: t2.small, GCE: g1.small, Azure: Standard-A1)</p>
    <p>Values for these variables form a launch strategy</p>
  </div>
  <div class="page">
    <p>Study Setup</p>
    <p>Two distinct accounts: proxy for victim and attacker  6 placement variables</p>
    <p># victim &amp; attacker VMs, delay b/w launches, time of day, day of week, datacenter, cloud providers</p>
    <p>Small instance type (EC2: t2.small, GCE: g1.small, Azure: Standard-A1)</p>
    <p>Values for these variables form a launch strategy</p>
    <p>Execute a launch strategy from a workstation  detect and log co-location</p>
  </div>
  <div class="page">
    <p>Study Setup</p>
    <p>Two distinct accounts: proxy for victim and attacker  6 placement variables</p>
    <p># victim &amp; attacker VMs, delay b/w launches, time of day, day of week, datacenter, cloud providers</p>
    <p>Small instance type (EC2: t2.small, GCE: g1.small, Azure: Standard-A1)</p>
    <p>Values for these variables form a launch strategy</p>
    <p>Execute a launch strategy from a workstation  detect and log co-location</p>
    <p>9 samples per strategy with 3 runs per time of day &amp; 2 days of week (weekday/weekend)</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy  N = 50,000 machines [re:Invent14]</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy  N = 50,000 machines [re:Invent14]  v - victims and a - attacker VMs</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy  N = 50,000 machines [re:Invent14]  v - victims and a - attacker VMs  Probability of Collision:</p>
    <p>Pc = 1 - (1 - v/N)a</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy  N = 50,000 machines [re:Invent14]  v - victims and a - attacker VMs  Probability of Collision:</p>
    <p>Pc = 1 - (1 - v/N)a</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM v a = ln(1 Pc)/ln(1v/N); Pc= 0.5</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy  N = 50,000 machines [re:Invent14]  v - victims and a - attacker VMs  Probability of Collision:</p>
    <p>Pc = 1 - (1 - v/N)a</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM v a = ln(1 Pc)/ln(1v/N); Pc= 0.5</p>
  </div>
  <div class="page">
    <p>Placement Policy</p>
    <p>How hard should it be to achieve co-location?</p>
    <p>Random placement policy  N = 50,000 machines [re:Invent14]  v - victims and a - attacker VMs  Probability of Collision:</p>
    <p>Pc = 1 - (1 - v/N)a</p>
    <p>Cluster Scheduler</p>
    <p>Cloud API</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM v a = ln(1 Pc)/ln(1v/N); Pc= 0.5</p>
    <p>For a modest 50% success rate with 10-30 victims we need to launch ~3000 VMs</p>
  </div>
  <div class="page">
    <p>Results: Varying Number of VMs</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
    <p>GCE</p>
    <p>Azure</p>
  </div>
  <div class="page">
    <p>Results: Varying Number of VMs</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
    <p>GCE</p>
    <p>Azure</p>
  </div>
  <div class="page">
    <p>Results: Varying Number of VMs</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
    <p>GCE</p>
    <p>Azure</p>
  </div>
  <div class="page">
    <p>Results: Varying Number of VMs</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
    <p>GCE</p>
    <p>Azure</p>
    <p>Co-location is possible with as low as 10 VMs and always achieve co-location with 30 VMs</p>
  </div>
  <div class="page">
    <p>Results: Varying Delay between Launches</p>
    <p>Azure</p>
    <p>GCE</p>
    <p>Zero One hour</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
  </div>
  <div class="page">
    <p>Results: Varying Delay between Launches</p>
    <p>Azure</p>
    <p>GCE</p>
    <p>Zero One hour</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
  </div>
  <div class="page">
    <p>Results: Varying Delay between Launches</p>
    <p>Azure</p>
    <p>GCE</p>
    <p>Zero One hour</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
  </div>
  <div class="page">
    <p>Results: Varying Delay between Launches</p>
    <p>Azure</p>
    <p>GCE</p>
    <p>Zero One hour</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
  </div>
  <div class="page">
    <p>Results: Varying Delay between Launches</p>
    <p>Azure</p>
    <p>GCE</p>
    <p>Zero One hour</p>
    <p>EC2</p>
    <p>S uc</p>
    <p>ce ss</p>
    <p>R at</p>
    <p>e</p>
    <p>Placement policy for each cloud significantly varies</p>
  </div>
  <div class="page">
    <p>Cost of a Launch Strategy</p>
    <p>C os</p>
    <p>t</p>
    <p>$0.00</p>
    <p>$1.50</p>
    <p>$3.00</p>
    <p>$4.50</p>
    <p>$6.00</p>
    <p>Ti m</p>
    <p>e to</p>
    <p>a ch</p>
    <p>ie ve</p>
    <p>&amp; d</p>
    <p>et ec</p>
    <p>t c o</p>
    <p>lo ca</p>
    <p>tio n</p>
    <p>(in m</p>
    <p>in ut</p>
    <p>es )</p>
    <p>EC2 GCE AZURE</p>
  </div>
  <div class="page">
    <p>Cost of a Launch Strategy</p>
    <p>C os</p>
    <p>t</p>
    <p>$0.00</p>
    <p>$1.50</p>
    <p>$3.00</p>
    <p>$4.50</p>
    <p>$6.00</p>
    <p>Ti m</p>
    <p>e to</p>
    <p>a ch</p>
    <p>ie ve</p>
    <p>&amp; d</p>
    <p>et ec</p>
    <p>t c o</p>
    <p>lo ca</p>
    <p>tio n</p>
    <p>(in m</p>
    <p>in ut</p>
    <p>es )</p>
    <p>EC2 GCE AZURE</p>
  </div>
  <div class="page">
    <p>Cost of a Launch Strategy</p>
    <p>C os</p>
    <p>t</p>
    <p>$0.00</p>
    <p>$1.50</p>
    <p>$3.00</p>
    <p>$4.50</p>
    <p>$6.00</p>
    <p>Ti m</p>
    <p>e to</p>
    <p>a ch</p>
    <p>ie ve</p>
    <p>&amp; d</p>
    <p>et ec</p>
    <p>t c o</p>
    <p>lo ca</p>
    <p>tio n</p>
    <p>(in m</p>
    <p>in ut</p>
    <p>es )</p>
    <p>EC2 GCE AZURE</p>
  </div>
  <div class="page">
    <p>Cost of a Launch Strategy</p>
    <p>C os</p>
    <p>t</p>
    <p>$0.00</p>
    <p>$1.50</p>
    <p>$3.00</p>
    <p>$4.50</p>
    <p>$6.00</p>
    <p>Ti m</p>
    <p>e to</p>
    <p>a ch</p>
    <p>ie ve</p>
    <p>&amp; d</p>
    <p>et ec</p>
    <p>t c o</p>
    <p>lo ca</p>
    <p>tio n</p>
    <p>(in m</p>
    <p>in ut</p>
    <p>es )</p>
    <p>EC2 GCE AZURE</p>
    <p>The cheapest launch strategy costs as low as 14 cents</p>
  </div>
  <div class="page">
    <p>Other Interesting Results</p>
  </div>
  <div class="page">
    <p>We always achieved co-location in smaller datacenter regions,</p>
    <p>GCE: europe-west1-b and EC2: us-west-1 (CA)</p>
    <p>Other Interesting Results</p>
  </div>
  <div class="page">
    <p>We always achieved co-location in smaller datacenter regions,</p>
    <p>GCE: europe-west1-b and EC2: us-west-1 (CA)</p>
    <p>In EC2, launching attacker VMs early morning (2 to 10am PST) has a higher success rate.</p>
    <p>Other Interesting Results</p>
  </div>
  <div class="page">
    <p>We always achieved co-location in smaller datacenter regions,</p>
    <p>GCE: europe-west1-b and EC2: us-west-1 (CA)</p>
    <p>In EC2, launching attacker VMs early morning (2 to 10am PST) has a higher success rate.</p>
    <p>In Azure we could co-locate 16 VMs on a single host</p>
    <p>Other Interesting Results</p>
  </div>
  <div class="page">
    <p>We always achieved co-location in smaller datacenter regions,</p>
    <p>GCE: europe-west1-b and EC2: us-west-1 (CA)</p>
    <p>In EC2, launching attacker VMs early morning (2 to 10am PST) has a higher success rate.</p>
    <p>In Azure we could co-locate 16 VMs on a single host</p>
    <p>Brief experiments with platform-as-a-service,</p>
    <p>Other Interesting Results</p>
  </div>
  <div class="page">
    <p>We always achieved co-location in smaller datacenter regions,</p>
    <p>GCE: europe-west1-b and EC2: us-west-1 (CA)</p>
    <p>In EC2, launching attacker VMs early morning (2 to 10am PST) has a higher success rate.</p>
    <p>In Azure we could co-locate 16 VMs on a single host</p>
    <p>Brief experiments with platform-as-a-service,</p>
    <p>and many more in the paper</p>
    <p>Other Interesting Results</p>
  </div>
  <div class="page">
    <p>Some Strategies Work Better than Others</p>
  </div>
  <div class="page">
    <p>Some Strategies Work Better than Others</p>
    <p>Launch Strategy</p>
    <p>Launch 10 VMs in less popular datacenter</p>
    <p>Launch 30 VMs 1 hour after victim VM launches</p>
    <p>Launch more than 20 VMs 4 hours after victim VM</p>
    <p>launches</p>
    <p>v x a</p>
    <p>Example strategies on EC2</p>
  </div>
  <div class="page">
    <p>Some Strategies Work Better than Others</p>
    <p>Launch Strategy</p>
    <p>Launch 10 VMs in less popular datacenter</p>
    <p>Launch 30 VMs 1 hour after victim VM launches</p>
    <p>Launch more than 20 VMs 4 hours after victim VM</p>
    <p>launches</p>
    <p>v x a</p>
    <p>Cost in Cloud</p>
    <p>$0.26</p>
    <p>$1.56</p>
    <p>$0.52</p>
    <p>Example strategies on EC2</p>
  </div>
  <div class="page">
    <p>Some Strategies Work Better than Others</p>
    <p>Launch Strategy</p>
    <p>Launch 10 VMs in less popular datacenter</p>
    <p>Launch 30 VMs 1 hour after victim VM launches</p>
    <p>Launch more than 20 VMs 4 hours after victim VM</p>
    <p>launches</p>
    <p>v x a</p>
    <p>Cost in Cloud</p>
    <p>$0.26</p>
    <p>$1.56</p>
    <p>$0.52</p>
    <p>Cost under Random Placement*</p>
    <p>$113.87</p>
    <p>$32.75</p>
    <p>$53.76</p>
    <p>Example strategies on EC2</p>
    <p>*Random Placement of VMs on N hosts, v x a launch strategy has a probability of collision: 1 - (1 - v/N)a</p>
  </div>
  <div class="page">
    <p>Some Strategies Work Better than Others</p>
    <p>Launch Strategy</p>
    <p>Launch 10 VMs in less popular datacenter</p>
    <p>Launch 30 VMs 1 hour after victim VM launches</p>
    <p>Launch more than 20 VMs 4 hours after victim VM</p>
    <p>launches</p>
    <p>v x a</p>
    <p>Cost in Cloud</p>
    <p>$0.26</p>
    <p>$1.56</p>
    <p>$0.52</p>
    <p>Cost under Random Placement*</p>
    <p>$113.87</p>
    <p>$32.75</p>
    <p>$53.76</p>
    <p>Success rate norm. w/ random*</p>
    <p>Example strategies on EC2</p>
    <p>*Random Placement of VMs on N hosts, v x a launch strategy has a probability of collision: 1 - (1 - v/N)a</p>
  </div>
  <div class="page">
    <p>Cluster Scheduler</p>
    <p>Summary: Co-location Attacks in Modern Clouds</p>
    <p>Cloud API</p>
    <p>Placement Policy</p>
    <p>VM VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM</p>
    <p>VM VM Hypervisor</p>
    <p>Internet</p>
    <p>(1) Controls co-location</p>
    <p>(2) Provides isolation</p>
    <p>Cross-VM Side- and covert-channels [Ristenpart09, Xu11, Wu12, Zhang12, Yarom14, Liu14, Gruss15]</p>
    <p>Resource-stealing, DoS [Zhou11, Varadarajan12]</p>
    <p>Co-location attacks are practical and very cheap in modern clouds!</p>
  </div>
</Presentation>
