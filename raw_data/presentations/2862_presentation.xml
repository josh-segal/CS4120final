<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Near-Optimal Latency Versus Cost Tradeoffs in Geo-Distributed Storage Muhammed Uluyol, Anthony Huang, Ayush Goel, Mosharaf Chowdhury, Harsha V. Madhyastha</p>
    <p>University of Michigan</p>
  </div>
  <div class="page">
    <p>Web Server</p>
    <p>Data Site</p>
    <p>Distribute Web Servers for Interactive Latency</p>
  </div>
  <div class="page">
    <p>Data Site</p>
    <p>Distribute Data for Availability</p>
    <p>Web Server</p>
  </div>
  <div class="page">
    <p>Data Site</p>
    <p>Distribute Data for Availability and Latency</p>
    <p>Web Server</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
    <p>Read</p>
    <p>Overlap ensures consistency</p>
    <p>Write</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
    <p>Read</p>
    <p>Overlap ensures consistency</p>
    <p>Write</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
    <p>Read</p>
    <p>Write</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
  </div>
  <div class="page">
    <p>Linearizability Imposes Unavoidable Trade-offs</p>
    <p>Read vs Write Latency</p>
    <p>Read Latency vs Cost</p>
  </div>
  <div class="page">
    <p>How Do Existing Approaches Perform?</p>
    <p>Lo w</p>
    <p>es t P</p>
    <p>os si</p>
    <p>bl e</p>
    <p>R ea</p>
    <p>d La</p>
    <p>te nc</p>
    <p>y</p>
    <p>Storage Overhead Budget</p>
    <p>Write Laten cy Budget</p>
  </div>
  <div class="page">
    <p>How Do Existing Approaches Perform?</p>
    <p>Be tte</p>
    <p>r</p>
    <p>Lo w</p>
    <p>es t P</p>
    <p>os si</p>
    <p>bl e</p>
    <p>R ea</p>
    <p>d La</p>
    <p>te nc</p>
    <p>y</p>
    <p>Write Laten cy Budget</p>
    <p>Storage Overhead Budget</p>
  </div>
  <div class="page">
    <p>How Do Existing Approaches Perform?</p>
    <p>Lo w</p>
    <p>es t P</p>
    <p>os si</p>
    <p>bl e</p>
    <p>R ea</p>
    <p>d La</p>
    <p>te nc</p>
    <p>y</p>
    <p>Write Laten cy Budget</p>
    <p>Storage Overhead Budget</p>
    <p>Be tte</p>
    <p>r</p>
  </div>
  <div class="page">
    <p>How Do Existing Approaches Perform?</p>
    <p>Be tte</p>
    <p>r</p>
    <p>Be tte</p>
    <p>r</p>
    <p>Lo w</p>
    <p>es t P</p>
    <p>os si</p>
    <p>bl e</p>
    <p>R ea</p>
    <p>d La</p>
    <p>te nc</p>
    <p>y</p>
    <p>Write Laten cy Budget</p>
    <p>Storage Overhead Budget</p>
  </div>
  <div class="page">
    <p>EPaxos: state-of-the-art geo-replication protocol</p>
    <p>How Do Existing Approaches Perform?</p>
  </div>
  <div class="page">
    <p>EPaxos: state-of-the-art geo-replication protocol</p>
    <p>Compare with estimate of theoretical lower bound</p>
    <p>How Do Existing Approaches Perform?</p>
  </div>
  <div class="page">
    <p>EPaxos: state-of-the-art geo-replication protocol</p>
    <p>Compare with estimate of theoretical lower bound  No particular protocol  Respects consistency and</p>
    <p>fault-tolerance constraints</p>
    <p>How Do Existing Approaches Perform?</p>
  </div>
  <div class="page">
    <p>EPaxos: state-of-the-art geo-replication protocol</p>
    <p>Compare with estimate of theoretical lower bound  No particular protocol  Respects consistency and</p>
    <p>fault-tolerance constraints</p>
    <p>How Do Existing Approaches Perform?</p>
  </div>
  <div class="page">
    <p>EPaxos: state-of-the-art geo-replication protocol</p>
    <p>Compare with estimate of theoretical lower bound  No particular protocol  Respects consistency and</p>
    <p>fault-tolerance constraints</p>
    <p>How Do Existing Approaches Perform?</p>
    <p>Core problem: replication Each site stores a full copy</p>
  </div>
  <div class="page">
    <p>Each site stores 1/kth of the data</p>
    <p>RS-Paxos: Paxos on erasure-coded data</p>
    <p>Lowering Cost with Erasure Coding Utility of RS-Paxos</p>
  </div>
  <div class="page">
    <p>Each site stores 1/kth of the data</p>
    <p>RS-Paxos: Paxos on erasure-coded data</p>
    <p>Lowering Cost with Erasure Coding</p>
  </div>
  <div class="page">
    <p>Each site stores 1/kth of the data</p>
    <p>RS-Paxos: Paxos on erasure-coded data</p>
    <p>Lowering Cost with Erasure Coding</p>
    <p>RS-Paxos Limitations</p>
    <p>Two-round writes  k-site intersection between quorums</p>
  </div>
  <div class="page">
    <p>Recap of the Problem</p>
    <p>Want to spread data across DCs, but constraints that impose trade-offs</p>
    <p>State-of-the-art falls short of the optimal</p>
    <p>Use erasure coding  hurts latency</p>
  </div>
  <div class="page">
    <p>Two-round writes Approximates latency of one-round writes</p>
    <p>k-site intersection between quorums 1-site intersection (common-case)</p>
    <p>Pando: Near-Optimal Trade-off</p>
  </div>
  <div class="page">
    <p>Paxos Review</p>
  </div>
  <div class="page">
    <p>Paxos Review</p>
    <p>2-Phase writes: first become leader</p>
    <p>I am leader Ack.</p>
  </div>
  <div class="page">
    <p>Paxos Review</p>
    <p>2-Phase writes: first become leader, then write</p>
    <p>I am leader Ack.</p>
    <p>Write data Ack.</p>
  </div>
  <div class="page">
    <p>Paxos Review</p>
    <p>2-Phase writes: first become leader, then write</p>
    <p>I am leader Ack.</p>
    <p>Write data Ack.</p>
    <p>One-round write protocol</p>
  </div>
  <div class="page">
    <p>Quickly Executing 2-Phase Writes</p>
    <p>Step 1: faster Phase 1  Flexible Paxos [OPODIS16]: need Phase 1, 2 quorums to intersect  Phase 1 quorums need not overlap</p>
    <p>Write data</p>
    <p>Ack.</p>
    <p>Ack.</p>
    <p>I am leader</p>
  </div>
  <div class="page">
    <p>Quickly Executing 2-Phase Writes</p>
    <p>Step 1: faster Phase 1  Step 2: overlap latency cost of Phase 1 with Phase 2</p>
    <p>RPC Chains [NSDI09]: start Phase 2 at a delegate</p>
    <p>Ack.Write data</p>
    <p>Ack.</p>
    <p>I am leader</p>
  </div>
  <div class="page">
    <p>Two-round writes Approximates latency of one-round writes</p>
    <p>k-site intersection between quorums 1-site intersection (common-case)</p>
    <p>Pando: Near-Optimal Trade-off</p>
  </div>
  <div class="page">
    <p>Write to All</p>
    <p>Phase 2</p>
    <p>k=2</p>
  </div>
  <div class="page">
    <p>Write to All, Wait for Quorum</p>
    <p>Phase 2</p>
    <p>k=2</p>
  </div>
  <div class="page">
    <p>v2</p>
    <p>v2</p>
    <p>v2</p>
    <p>v2</p>
    <p>Write to All, Wait for Quorum</p>
    <p>Phase 2</p>
    <p>v2</p>
    <p>v2</p>
    <p>v1</p>
    <p>v2</p>
    <p>Read</p>
    <p>Rare Case Common Casek=2</p>
    <p>Read</p>
  </div>
  <div class="page">
    <p>v2</p>
    <p>v2</p>
    <p>v2</p>
    <p>v2</p>
    <p>Achieving 1-Site Intersection</p>
    <p>Phase 2</p>
    <p>v2</p>
    <p>v2</p>
    <p>v1</p>
    <p>v2</p>
    <p>Read</p>
    <p>Rare Case Common Casek=2</p>
    <p>Read</p>
    <p>Maybe a write finished</p>
  </div>
  <div class="page">
    <p>v2</p>
    <p>v2</p>
    <p>v2</p>
    <p>v2</p>
    <p>Achieving 1-Site Intersection</p>
    <p>Phase 2</p>
    <p>v2</p>
    <p>v2</p>
    <p>v1</p>
    <p>v2</p>
    <p>Read</p>
    <p>Rare Case Common Casek=2</p>
    <p>Read</p>
    <p>Maybe a write finished</p>
  </div>
  <div class="page">
    <p>Two-round writes Approximates latency of one-round writes</p>
    <p>k-site intersection between quorums 1-site intersection (common-case)</p>
    <p>Pando: Near-Optimal Trade-off</p>
  </div>
  <div class="page">
    <p>Two-round writes Approximates latency of one-round writes</p>
    <p>k-site intersection between quorums 1-site intersection (common-case)</p>
    <p>Pando: Near-Optimal Trade-off</p>
    <p>See paper:  Correctness  Bounding latency under conflicts</p>
  </div>
  <div class="page">
    <p>Evaluation: Proximity to Lower Bound</p>
    <p>Access set: DCs hosting web servers reading/writing data</p>
    <p>MIP solver selects data sites to minimize latency</p>
    <p>500 access sets</p>
    <p>Sample access set</p>
    <p>Measure gap</p>
  </div>
  <div class="page">
    <p>Pando is Close to the Lower Bound</p>
  </div>
  <div class="page">
    <p>Pando is Close to the Lower Bound</p>
  </div>
  <div class="page">
    <p>Pando is Close to the Lower Bound</p>
  </div>
  <div class="page">
    <p>Pando is Close to the Lower Bound</p>
    <p>Cloud deployment confirms solver latency estimates</p>
    <p>Up to 46% cost ($) savings</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Pando: linearizability across geo-distributed DCs</p>
    <p>Achieves a near-optimal readwritestorage trade-off  Allow for erasure-code data to minimize cost  Rethink how to use Paxos in the wide-area setting</p>
  </div>
  <div class="page">
    <p>Backup Slides</p>
  </div>
  <div class="page">
    <p>Deployment Latency</p>
  </div>
  <div class="page">
    <p>Latency Under Conflicts</p>
  </div>
  <div class="page">
    <p>Contributions of Each Technique</p>
  </div>
  <div class="page">
    <p>Throughput</p>
  </div>
  <div class="page">
    <p>Read Latency After Failure</p>
  </div>
</Presentation>
