<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>BeamSpy: Enabling Robust 60 GHz Links</p>
    <p>Under Blockage</p>
    <p>Xinyu Zhang, Parmesh Ramanathan and Ranveer Chandra</p>
    <p>Sanjib Sur</p>
  </div>
  <div class="page">
    <p>The 1000x Challenge</p>
    <p>* Compared to 2012: www.qualcomm.com/1000x</p>
    <p>Uncompressed video streaming</p>
    <p>Figure 5: A 60GHz link in our data center.</p>
    <p>S N</p>
    <p>R (</p>
    <p>d B</p>
    <p>)</p>
    <p>Time (hrs)</p>
    <p>T h r o u</p>
    <p>g h p</p>
    <p>u t ( M</p>
    <p>b p s )</p>
    <p>Time (hrs)</p>
    <p>Figure 6: SNR and TCP are stable for 24h in adata center.</p>
    <p>an aisle (Figure 5). We ran a long-lived TCP flow (using</p>
    <p>iperf) for 24 hours across two normal workdays, measuring</p>
    <p>throughput and SNR information every second. During the</p>
    <p>last 5 minutes of the simulation, one of the authors repeat</p>
    <p>edly walked under the link.</p>
    <p>Figure 6 shows the link SNR and TCP throughput over</p>
    <p>the 24 hour period. TCP throughput achieves the full 1 Gbps</p>
    <p>rate provided by the Vendor A equipment. We see almost no</p>
    <p>variation. In fact, none of the 1s RSSI samples was off the</p>
    <p>average by more than 0.1 dB. The throughput curve shows</p>
    <p>that all the end-to-end components, not just the wireless link,</p>
    <p>are stable as perceived by the application. Even in the last</p>
    <p>five minutes, there is no variation in the throughput.</p>
    <p>To provide a counterpoint to these results, we set up a link</p>
    <p>with the same hardware, but at 3 feet above the ground. We</p>
    <p>then walked across it. Figure 7 shows the resulting variation</p>
    <p>due to line-of-sight obstruction.</p>
    <p>Theseresults showthat ina typicalDC, line-of-sight60GHz</p>
    <p>links set upat rack height provide stable performance.</p>
    <p>So far, we have studied wireless link properties in isola</p>
    <p>tion. However, our system will require multiple flyways to</p>
    <p>be active simultaneously. Interference between flyways must</p>
    <p>then be mitigated for good performance. This can be accom</p>
    <p>plished in a number of ways: by using multiple channels, by</p>
    <p>using directional antennas at both the sender and the receiver,</p>
    <p>and by carefully controlling which flyways are activated. We</p>
    <p>use all these techniques in our system design, but the bulk of</p>
    <p>interference mitigation happens due to directional antennas.</p>
    <p>We now run an experiment to show that directionality en</p>
    <p>ables good spatial reuse in a small space.</p>
    <p>We configured two parallel links using Vendor A devices</p>
    <p>equipped with NB antennas. Recall that these links use fre</p>
    <p>quency division to support bidirectional communication; we</p>
    <p>configured the links so that nodes facing in the same di</p>
    <p>rection used the same frequency to maximize interference.</p>
    <p>We separated source and destination by a fixed 85 inches to</p>
    <p>mimic the width of an aisle, and varied the separation be</p>
    <p>tween the links in small increments. At each position, each</p>
    <p>source sends a greedy TCP flow to its destination. The cumu</p>
    <p>lative throughput, shown in Figure 8, indicates whether the</p>
    <p>two links interfere with each other. Note that this prototype</p>
    <p>hardware has no MAC and uses no physical- or link-layer</p>
    <p>backoff. We see that parallel links closer than 24 inches in</p>
    <p>terfere, but directional antennas enable them to coexist per</p>
    <p>fectly with slightly more separation. Note that 24 inches is</p>
    <p>about 1 rack wide, and with 3 available 802.11ad channels,</p>
    <p>a large number of flyways can operate simultaneously.</p>
    <p>These results show that directional antennas can isolate</p>
    <p>links andenable spatial reuse.</p>
    <p>A concern with using wireless in a data center environ</p>
    <p>ment is that the signal may leak outside the data center and</p>
    <p>be picked up by an attacker. To show that this concern is</p>
    <p>unfounded, we ran the following experiment. We set up a</p>
    <p>about 6 inches apart. We then inserted a variety of obstacles</p>
    <p>in between the devices. The attenuation due to various mate</p>
    <p>rials is shown in Figure 9. We see that common construction</p>
    <p>materials such as wood, glass and metal significantly attenu</p>
    <p>ate the signal by a large margin. Coupled with normal free</p>
    <p>space attenuation, this margin makes it very unlikely that the</p>
    <p>signal can be decoded outside the data center, even with a</p>
    <p>highly directional antenna.</p>
    <p>Our experimental Vendor A devices consume 25 Watts of</p>
    <p>power. Several startups report devices that consume at most a</p>
    <p>few Watts [24, 27]. As a typical server rack draws thousands</p>
    <p>of watts of power, a few additional wireless devices per rack</p>
    <p>increase consumption by a negligible fraction.</p>
    <p>We used measurements of real 60 GHz devices to char</p>
    <p>acterize 60 GHz links in data centers. We found that link</p>
    <p>quality and performance are stable in this line-of-sight envi</p>
    <p>ronment. The use of directional antennas effectively negates</p>
    <p>the impacts of multi-path and mitigates interference to en</p>
    <p>able spatial reuse.</p>
    <p>We must rely on simulation to study the performance of</p>
    <p>many 60 GHz links in the data center. To do so with confi</p>
    <p>dence that our simulations are a good reflection of reality, we</p>
    <p>base wireless effects directly on the physical layer measure</p>
    <p>ments we took in (3) and the WiGig/802.11ad PHY and</p>
    <p>MAC design [32]. We will also release our code after the</p>
    <p>TPC meeting.1</p>
    <p>Wireless data centers</p>
    <p>P2P snap download</p>
  </div>
  <div class="page">
    <p>New Opportunity at 60 GHz</p>
    <p>Standardization activities</p>
    <p>Large unlicensed spectrum at 60 GHz millimeter-wave band</p>
    <p>IEEE 802.11ad, IEEE</p>
  </div>
  <div class="page">
    <p>Challenges:</p>
    <p>Attenuation: 60 GHz signal strength is 625 times weaker than WiFi!</p>
    <p>Directionality: Narrow beamwidth -- new challenges in link</p>
    <p>establishment and maintenance</p>
    <p>* http://www.ece.ucsd.edu/node/2812</p>
  </div>
  <div class="page">
    <p>Human Blockage on 60 GHz Beams</p>
    <p>Human blockage renders complete link outage</p>
    <p>The body absorbs most of the 60 GHz signal energy</p>
    <p>BeamSpy enables a robust link under such blockage</p>
    <p>&gt; 30 dB!</p>
    <p>Tx</p>
    <p>Rx</p>
    <p>Complete</p>
    <p>link outage</p>
  </div>
  <div class="page">
    <p>Any Issue with Nave Beam-Searching?</p>
    <p>There is no guarantee that beam-searching will find an</p>
    <p>effective beam direction</p>
    <p>Searching overhead grows with the number of</p>
    <p>available beam directions</p>
    <p>There is no optimal</p>
    <p>trigger-time for</p>
    <p>beam-searching</p>
    <p>Prevention is always better than cure!</p>
    <p>Can we predict effectiveness of beam-searching?</p>
  </div>
  <div class="page">
    <p>Key Insight: Beams Are Correlated!</p>
    <p>Blockage in a beam drops performance of other beams!</p>
    <p>Correlation remain</p>
    <p>unchanged irrespective of</p>
    <p>blockage!</p>
    <p>Tx</p>
    <p>Rx</p>
    <p>RSS drop correlation</p>
    <p>of other beams w.r.t.</p>
    <p>strongest beam</p>
    <p>median &gt; 0.8!</p>
    <p>~22 dB</p>
    <p>~14 dB</p>
  </div>
  <div class="page">
    <p>Key Insight: Beams Are Correlated!</p>
    <p>Blockage in a beam drops performance of other beams!</p>
    <p>Correlation remain</p>
    <p>unchanged irrespective of</p>
    <p>blockage!</p>
    <p>Tx</p>
    <p>Rx</p>
    <p>RSS drop correlation</p>
    <p>of other beams w.r.t.</p>
    <p>strongest beam</p>
    <p>median &gt; 0.8!</p>
    <p>~22 dB</p>
    <p>~14 dB</p>
    <p>Why correlation exists?</p>
  </div>
  <div class="page">
    <p>Correlation Root Cause: Sparse Channel</p>
    <p>X X</p>
    <p>X X</p>
    <p>Signal arrival</p>
    <p>paths</p>
    <p>X</p>
    <p>Sparse signal arrival paths are shared between beams,</p>
    <p>thus blockage causes correlated RSS drop in all beams!</p>
  </div>
  <div class="page">
    <p>Clustering Effect Across Multi Environments</p>
    <p>Limited number of angular clusters</p>
    <p>Signal arrival</p>
    <p>paths</p>
    <p>Sparse clustering effect is prevalent across</p>
    <p>multiple environments</p>
  </div>
  <div class="page">
    <p>Clustering Effect Across Multi Environments</p>
    <p>Limited number of angular clusters</p>
    <p>Signal arrival</p>
    <p>paths</p>
    <p>Sparse clustering effect is prevalent across</p>
    <p>multiple environments</p>
    <p>Can we model</p>
    <p>correlation of beams?</p>
  </div>
  <div class="page">
    <p>BeamSpy Design</p>
    <p>Modeling the way beams share the sparse clusters</p>
    <p>Signal arrival</p>
    <p>paths</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
    <p>How to measure fine-grained signal arrival paths given</p>
    <p>that devices can have only coarse beam-steering?</p>
  </div>
  <div class="page">
    <p>Path Skeleton to Represent Sparse Cluster</p>
    <p>Track only the dominating directions and strengths</p>
    <p>Signal arrival</p>
    <p>paths</p>
  </div>
  <div class="page">
    <p>Path Skeleton to Represent Sparse Cluster</p>
    <p>Track only the dominating directions and strengths</p>
    <p>Path Skeleton</p>
  </div>
  <div class="page">
    <p>Path Skeleton to Represent Sparse Cluster</p>
    <p>Track only the dominating directions and strengths</p>
  </div>
  <div class="page">
    <p>Path Skeleton to Represent Sparse Cluster</p>
    <p>Track only the dominating directions and strengths</p>
  </div>
  <div class="page">
    <p>Path Skeleton to Represent Sparse Cluster</p>
    <p>Track only the dominating directions and strengths</p>
  </div>
  <div class="page">
    <p>Path Skeleton to Represent Sparse Cluster</p>
    <p>Track only the dominating directions and strengths</p>
  </div>
  <div class="page">
    <p>Predicting the Best Beam during Blockage</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
    <p>Model Sparse</p>
    <p>Clusters Track Path</p>
    <p>Skeleton</p>
    <p>Identify state of</p>
    <p>Path Skeleton</p>
    <p>Beam is blocked Predict RSS of other</p>
    <p>beams from new state</p>
    <p>At deployment time</p>
    <p>At run time</p>
  </div>
  <div class="page">
    <p>Does prediction solve beam-searching problem?</p>
    <p>There is no guarantee that beam-searching will find an</p>
    <p>effective beam direction</p>
    <p>Searching overhead grows with the number of</p>
    <p>available beam directions</p>
    <p>There is no optimal</p>
    <p>trigger-time for</p>
    <p>beam-searching</p>
    <p>Prevention is always better than cure!</p>
    <p>Can we predict effectiveness of beam-searching?</p>
  </div>
  <div class="page">
    <p>Does prediction solve beam-searching problem?</p>
    <p>There is no guarantee that beam-searching will find an</p>
    <p>effective beam direction</p>
    <p>Searching overhead grows with the number of</p>
    <p>available beam directions</p>
    <p>There is no optimal</p>
    <p>trigger-time for</p>
    <p>beam-searching</p>
    <p>Prevention is always better than cure!</p>
    <p>Can we predict effectiveness of beam-searching?</p>
  </div>
  <div class="page">
    <p>There is no guarantee that beam-searching may find an</p>
    <p>effective beam direction</p>
    <p>Searching overhead grows with the number of</p>
    <p>available beam directions</p>
    <p>When to trigger beam</p>
    <p>searching?</p>
    <p>Prevention is always better than cure!</p>
    <p>Can we predict effectiveness of beam-searching?</p>
    <p>Predicting no beam works during</p>
    <p>blockage does not help much!</p>
    <p>Does prediction solve beam-searching problem?</p>
  </div>
  <div class="page">
    <p>There is no guarantee that beam-searching may find an</p>
    <p>effective beam direction</p>
    <p>Searching overhead grows with the number of</p>
    <p>available beam directions</p>
    <p>When to trigger beam</p>
    <p>searching?</p>
    <p>Prevention is always better than cure!</p>
    <p>Can we predict effectiveness of beam-searching?</p>
    <p>Can we do something better?</p>
    <p>Does prediction solve beam-searching problem?</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Assess a probabilistic outage risk of a link during</p>
    <p>placement and even before blockage occurs</p>
    <p>What is the likelihood that no beam will</p>
    <p>work in a future blockage?</p>
    <p>In other words</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Emulate virtual blockage during link placement on sparse</p>
    <p>clusters</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Emulate virtual blockage during link placement on sparse</p>
    <p>clusters</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Emulate virtual blockage during link placement on sparse</p>
    <p>clusters</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Emulate virtual blockage during link placement on sparse</p>
    <p>clusters</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
    <p>Outage Risk = # Virtual Link Outage</p>
    <p># Emulation</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Due to sparse cluster, there are discrete zones where</p>
    <p>blockage affects the links quality</p>
    <p>Discrete coarse</p>
    <p>beam-steering</p>
  </div>
  <div class="page">
    <p>Testbed and Implementation</p>
    <p>WiMi custom-built 60 GHz software-defined radio</p>
    <p>Emulated phased-array beamforming through spatial</p>
    <p>channel measurements</p>
    <p>Simulated 802.11ad MAC layer, replayed channel traces</p>
    <p>on DummyNet to emulate transport/applications</p>
  </div>
  <div class="page">
    <p>Evaluation: Micro-benchmarks</p>
    <p>Accuracy of best beam</p>
    <p>direction prediction under</p>
    <p>blockage</p>
    <p>Predicting RSS of the best</p>
    <p>beam under blockage</p>
    <p>Close to 70% even with</p>
    <p>Prediction error (90%-ile)</p>
    <p>is within 3 dB for 32 beam</p>
  </div>
  <div class="page">
    <p>Performance Gain and Temporal Stability</p>
    <p>Link performance gain</p>
    <p>under blockage</p>
    <p>How stable the prediction accuracy</p>
    <p>remains over time?</p>
    <p>Throughput performance</p>
    <p>~13% lower than oracle</p>
  </div>
  <div class="page">
    <p>Link Outage Risk Assessment</p>
    <p>Effectiveness of Risk-Assessment algorithm</p>
    <p>Desirable</p>
    <p>Conservative ~80%</p>
    <p>~76%</p>
    <p>Protocol Predicted Risk</p>
    <p>M e a</p>
    <p>s u</p>
    <p>re d R</p>
    <p>is k</p>
  </div>
  <div class="page">
    <p>Summary</p>
    <p>Closely identifies likelihood of link outage and urges</p>
    <p>deployment towards blockage-proof way</p>
    <p>BeamSpy predicts best beam under human blockage</p>
    <p>by leveraging correlation between beams</p>
    <p>Correlation occurs due to unique sparse channel and</p>
    <p>phased-array characteristics at 60 GHz</p>
  </div>
  <div class="page">
    <p>Wisconsin Millimeter-wave Software Radio (WiMi)</p>
    <p>http://xyzhang.ece.wisc.edu/wimi</p>
    <p>Thank you!</p>
  </div>
</Presentation>
