<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>San Diego Supercomputer CenterSan Diego Supercomputer CenterSDSC Storage Resource Broker</p>
    <p>Data Grid Automation</p>
    <p>Arun Jagatheesan et al., San Diego Supercomputer Center University of California, San Diego</p>
    <p>Or What is SRB Matrix?</p>
    <p>VLDB Workshop on Data Management in Grids Trondheim, Norway, 2-3 September 2005</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 2</p>
    <p>Talk Outline</p>
    <p>Data grid Landscape  Long-run data management processes</p>
    <p>Data Grid ILM  Data Grid Triggers  Dataflow Pipelines</p>
    <p>Execution Logic  Data Grid Language  End-to-End Infrastructure Deployment</p>
    <p>API  User GUI</p>
    <p>Service-oriented *Infrastructure*</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 3</p>
    <p>Data Grid Landscape</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 4</p>
    <p>The Grid Vision</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 5</p>
    <p>Data Grid Resource Providers</p>
    <p>Grid Resource Providers (GRP) providing content</p>
    <p>and/or storage GRP</p>
    <p>/txt3.txt</p>
    <p>GRP</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 6</p>
    <p>Data Grid Administrative Domain</p>
    <p>GRP</p>
    <p>Administrative domain with one or more GFS Resource Providers</p>
    <p>Could include their data centers</p>
    <p>/txt3.txt</p>
    <p>GRP</p>
    <p>Research Lab</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 7</p>
    <p>Data Grid Administrative domains</p>
    <p>//text1.txt ///text2.txt</p>
    <p>GRP GRP GRP GRPGRP GRP GRP</p>
    <p>/txt3.txt</p>
    <p>GRP</p>
    <p>Storage-R-Us Resource Providers</p>
    <p>data + storage (50)</p>
    <p>Research lab- Taiwan data + storage (40)</p>
    <p>University data + storage (10)</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 8</p>
    <p>Data Grid (Enterprise Utility)</p>
    <p>ABCZ.com US ABCZ.com Asia</p>
    <p>Data center</p>
    <p>IT Department US IT Department Asia 3rd Party</p>
    <p>Physical Resources managed by autonomous administrative domains of the same enterprise (ABCZ.com)</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 9</p>
    <p>Data Grid (Enterprise Utility)</p>
    <p>ABCZ.com US ABCZ.com Asia</p>
    <p>Data center</p>
    <p>IT Department US IT Department Asia 3rd Party</p>
    <p>Project 1 Project 2</p>
    <p>Each project has a data grid instance consisting of</p>
    <p>Logical Resources with different SLAs offered by IT</p>
    <p>department</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 11</p>
    <p>Data Grid (Enterprise Utility)</p>
    <p>ABCZ.com US ABCZ.com Asia</p>
    <p>Data center</p>
    <p>IT Department US IT Department Asia 3rd Party</p>
    <p>Project1 Project2 Project3 Project4</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 12</p>
    <p>Long-run Processes in Data Grid</p>
    <p>Data Grid ILM  Data Grid Triggers</p>
    <p>Data Gridflows</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 13</p>
    <p>Data Grid ILM</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 14</p>
    <p>Change is Constant</p>
    <p>Changes in access patterns  Based on number of users accessing a data  Domains which want to access data</p>
    <p>Data Value  The value of data set (collections?) for a particular domain</p>
    <p>based on it business model and users access patterns  Each domain will have a different value based on its users</p>
    <p>and its role in a data grid</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 15</p>
    <p>Data Value based on users</p>
    <p>ABCZ.com US ABCZ.com Asia</p>
    <p>Data center</p>
    <p>IT Department US IT Department Asia 3rd Party</p>
    <p>Project1 Project2 Project3 Project4</p>
    <p>When more users access a project data, its data value increases, move that data to a</p>
    <p>faster storage type</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 16</p>
    <p>Data Value based on domain</p>
    <p>ABCZ.com US ABCZ.com Asia</p>
    <p>Data center</p>
    <p>IT Department US IT Department Asia 3rd Party</p>
    <p>Project1 Project2 Project3 Project4</p>
    <p>When more users from the same domain access the data, the data value for that</p>
    <p>particular data in that particular domain increases, so replicate the data to resources</p>
    <p>in that domain. (converse is also true)</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 17</p>
    <p>Data Value based on role</p>
    <p>ABCZ.com US ABCZ.com Asia</p>
    <p>Data center</p>
    <p>IT Department US IT Department Asia 3rd Party</p>
    <p>Project1 Project2 Project3 Project4</p>
    <p>The 3rd party data center  no users who use data, but is interested in having replica of any data (or deleted data) for long term</p>
    <p>preservation</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 18</p>
    <p>Data Grid ILM  ILM = Information Lifecycle Management  Dynamic re-orientation of data placement and</p>
    <p>data retention policies (rules)  Based on business value of data and storage</p>
    <p>cost  HSM = Hierarchical Storage Management, based</p>
    <p>on data freshness. ILM goes one step further  Applying this concept on Data Grid, very tricky</p>
    <p>as different autonomous domains have different business rules</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 19</p>
    <p>Data Grid Triggers</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 20</p>
    <p>Data Grid Triggers</p>
    <p>Similar to triggers in databases  Based on ECA concepts</p>
    <p>Event  Condition  Action</p>
    <p>Example  Event = Insert new file in collection (/ourProject/data)  Condition = (color= blue &amp;&amp; galaxy = Andromedia)  Action = Run ( selectiveDataReplicator.dgl )</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 21</p>
    <p>Data  Discovery</p>
    <p>Digital entities</p>
    <p>Meta-data</p>
    <p>Services</p>
    <p>State</p>
    <p>New data</p>
    <p>updates relationships among data in collections</p>
    <p>Services invoked to analyze new relationships</p>
    <p>DGMS applications get notified of state updates</p>
    <p>Digital entities</p>
    <p>Meta-data</p>
    <p>Services</p>
    <p>State</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 22</p>
    <p>Data Gridflows</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 23</p>
    <p>Gridflow in SCEC (data  information pipeline)</p>
    <p>Metadata derivation</p>
    <p>Ingest Metadata</p>
    <p>Ingest Data</p>
    <p>Determine analysis pipeline</p>
    <p>Initiate automated analysis</p>
    <p>Organize result data into distributed data grid collections</p>
    <p>Use the optimal set of resources</p>
    <p>based on the task  on demand</p>
    <p>Pipeline could be triggered by input at data source or by a data request</p>
    <p>from user</p>
    <p>Pipeline could be triggered by input at data source or by a data request</p>
    <p>from user</p>
    <p>All gridflow activities stored for data flow</p>
    <p>provenance</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 24</p>
    <p>Data Grid Language (DGL)</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 25</p>
    <p>Data Grid Language</p>
    <p>Requirement  Data Grid ILM process</p>
    <p>The long run process that has to be run is described in DGL  Data Grid Triggers</p>
    <p>Action part of the ECA (Event-Condition-Action) logic  Data Gridflows</p>
    <p>Step by step execution of long run process on Data Grid</p>
    <p>Analogy of SQL in relational databases  Long-run process procedures stored and executed in Data</p>
    <p>Grid it self  Captures the Infrastructure Execution Logic</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 26</p>
    <p>DGL Request Annotations</p>
    <p>about the Data Grid Request</p>
    <p>Can be either a Flow or a Status</p>
    <p>Query</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 27</p>
    <p>DGL Requests (2 types)</p>
    <p>Data Grid Flow  An XML Structure that describes the execution logic,</p>
    <p>associated procedural rules and DGL variables. Can be synchronous or asynchronous flow</p>
    <p>Status Query  An XML Structure used to query the execution status any</p>
    <p>gridflow or a sub-flow at any granular level. Status Queries can be made for both synchronous and asynchronous flows</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 28</p>
    <p>Flow Scoped Variables that can control</p>
    <p>the flow</p>
    <p>Logic used by the sub-members</p>
    <p>Sub-members that are the</p>
    <p>real execution statements</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 29</p>
    <p>Flow Logic (How a flow executes)</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 30</p>
    <p>&lt;userDefinedRule name=&quot;beforeEntry&quot;&gt; &lt;condition&gt; &lt;simpleQuery&gt;$numVar == 1&lt;/simpleQuery&gt; &lt;/condition&gt;</p>
    <p>&lt;action name=&quot;true&quot;&gt; &lt;actionString&gt;SET var1 = 1&lt;/actionString&gt; &lt;/action&gt; &lt;action name=&quot;true&quot;&gt; &lt;actionString&gt;SET var2 = &quot;foo&quot;&lt;/actionString&gt; &lt;/action&gt; &lt;action name=&quot;false&quot;&gt; &lt;actionString&gt;SET var1 = 0&lt;/actionString&gt; &lt;/action&gt; &lt;/userDefinedRule&gt;</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 31</p>
    <p>What is SRB Matrix?</p>
    <p>Matrix provides the SRB as a Web Service  Web Service based on Data Grid Language</p>
    <p>SOA for Data Grid or Digital Library  Service oriented *infrastructure*</p>
    <p>Asynchronous end-user facing applications  Long run operations presented to users as portlets</p>
    <p>Data Grid Automation and ILM  File Triggers on unstructured data  Automated movement or management of data</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 32</p>
    <p>Matrix Gridflow Server Architecture</p>
    <p>Matrix Agent Abstraction</p>
    <p>In Memory Store</p>
    <p>JDBC Agents for java, WSDL</p>
    <p>and other grid executables</p>
    <p>Persistence (Store) Abstraction</p>
    <p>ECA rules Handler</p>
    <p>Matrix Data Grid Request Processor</p>
    <p>Transaction Handler Status Query Handler</p>
    <p>Gridflow Meta data Manager</p>
    <p>JAXM Wrapper</p>
    <p>SOAP Service for Matrix Clients</p>
    <p>Flow Handler and Execution Manager</p>
    <p>Workflow Query Processor</p>
    <p>XQuery Processor</p>
    <p>JMS Messaging Interface</p>
    <p>Event Publish</p>
    <p>Subscribe, Notification</p>
    <p>SDSC SRB Agents</p>
    <p>Other SDSC Data</p>
    <p>Services</p>
    <p>WSDL Description</p>
    <p>Sangam P2P Gridflow Broker and Protocols</p>
  </div>
  <div class="page">
    <p>San Diego Supercomputer CenterSDSC Storage Resource Broker 33</p>
    <p>Conclusion</p>
    <p>Data Grids are evolving  Data Grid Automation of long-run processes</p>
    <p>essential  Need a language for Data Grid Automation  Data Grid Language is one such effort as part</p>
    <p>SRB Matrix Project  Open source project for anyone to use (or join)  talk2matrix@sdsc.edu (or arun@sdsc.edu)</p>
  </div>
</Presentation>
