<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>IEEE GLOBECOM 2005</p>
    <p>Autonomic Power Management Schemes for Internet Servers and Data Centers</p>
    <p>L. Mastroleon, N. Bambos, C. Kozyrakis, D. Economou</p>
    <p>December 2005 St Louis, MO</p>
  </div>
  <div class="page">
    <p>Motivation</p>
    <p>The System Model and the DP Formulation</p>
    <p>A Justified Heuristic</p>
    <p>Simulation and Evaluation</p>
    <p>Conclusions &amp; Future Work</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Motivation Typical Internet Server Typical Data Center</p>
    <p>The System Model and the DP Formulation</p>
    <p>A Justified Heuristic</p>
    <p>Simulation and Evaluation</p>
    <p>Conclusions &amp; Future Work</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Internet Server has multiple resources (e.g. CPUs)</p>
    <p>Incoming jobs are placed in a buffer</p>
    <p>Other tasks need also to be completed</p>
    <p>Server has to appropriately allocate its resources</p>
    <p>Temperature of operation is important</p>
    <p>Typical Internet Server</p>
    <p>Incoming Job Traffic</p>
    <p>Internet Server</p>
    <p>Multiple Resources e.g. CPUs</p>
    <p>Job Buffer</p>
    <p>Other tasks requiring resources</p>
  </div>
  <div class="page">
    <p>Typical Data Center</p>
    <p>At an appropriately high level of modeling abstraction, an internet server can be viewed as a caricature of a data center</p>
    <p>Incoming Job Traffic</p>
    <p>Multiple Resources e.g. Servers</p>
    <p>Job Buffer</p>
    <p>Other jobs requiring resources</p>
  </div>
  <div class="page">
    <p>Motivation The System Model and the DP Formulation The Model CPU Allocation Environment &amp; Thermal Environment Associated Costs The Optimization Problem Bellmans Equation</p>
    <p>A Justified Heuristic  Simulation and Evaluation Conclusions &amp; Future Work</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Slotted time</p>
    <p>CPU Pool of Size M</p>
    <p>Thermal State Set T</p>
    <p>Job Buffer of Size B</p>
    <p>At the beginning of a slot: c is the# of CPUs used by buffer a is the # of available CPUs (M-a-c) is the # of unavailable CPUs u is the # of CPUs to use during this slot</p>
    <p>The model</p>
    <p>Job Buffer</p>
    <p>c</p>
    <p>b</p>
    <p>CPU Allocation Environment (responsive)</p>
    <p>CPU Pool</p>
    <p>Thermal Environment (responsive)</p>
    <p>a</p>
  </div>
  <div class="page">
    <p>CPU Allocation Environment At the beginning of a slot the state is a</p>
    <p>After decisions the state is a* =(a+c-u)</p>
    <p>At the beginning of the next slot the state will be a</p>
    <p>The transitions a*a will be Markovian pa*a|u</p>
    <p>Thermal Allocation Environment State remains the same within a time slot</p>
    <p>Current state is t</p>
    <p>Next state will be t</p>
    <p>The transitions tt will be Markovian qtt|(c,a,u)</p>
    <p>Statistically Independent Environments</p>
    <p>CPU Allocation Environment &amp;</p>
    <p>Thermal Environment</p>
  </div>
  <div class="page">
    <p>Costs incurred in each time slot:</p>
    <p>Backlog Cost Cb(b) Increasing in b</p>
    <p>Power Cost (&amp; Thermal Stress) Cut(u,t) Increasing in u &amp; t (temperature)</p>
    <p>Reconfiguration Cost Cuc(u,c) Depends on the difference (u-c)</p>
    <p>Associated Costs</p>
  </div>
  <div class="page">
    <p>At time 0: System starts with a full Buffer</p>
    <p>Objective: Empty the buffer with minimum overall cost</p>
    <p>At any time slot: The state is: (b, t, c, a) The management decision is: u At most one job will finish with probability s(u)</p>
    <p>This is a transient problem</p>
    <p>The solution depends on the state but not the specific time slot</p>
    <p>The Optimization Problem</p>
  </div>
  <div class="page">
    <p>J(b,t,c,a) cost-to-go beginning from state (b,t,c,a)</p>
    <p>J(b,t,c,a)=min u {Cb(b) + (1- )(Cut(u,t) + Cuc(u,c))</p>
    <p>+s(u)  qtt|(c,a,u) pa*a|u J(b-1,t,u,a)</p>
    <p>+(1-s(u))  qtt|(c,a,u) pa*a|u J(b,t,u,a) }</p>
    <p>Bellmans Equation</p>
    <p>: c  {0,..,M}CPUs used</p>
    <p>: a  {0,..,M-c}CPUs available</p>
    <p>S=(b, t, c, a): t  Tthermal state : b  {0,..,B}buffer state</p>
    <p>u: u  {0,..,c+a}CPUs to use : Cut(u,t)Power cost</p>
    <p>: Cuc(u,c)Reconfiguration cost</p>
    <p>: Cb(b)Backlog cost</p>
    <p>[0,1]</p>
  </div>
  <div class="page">
    <p>Motivation</p>
    <p>The System Model and the DP Formulation</p>
    <p>A Justified Heuristic Key Insights The Formula</p>
    <p>Simulation and Evaluation</p>
    <p>Conclusions &amp; Future Work</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>u  (c+a)</p>
    <p>b=0  u=0</p>
    <p>u1 if b&gt;0 and (c+a) 1 (not necessarily true)</p>
    <p>u(b+1,t,c,a)  u(b,t,c,a)</p>
    <p>u(b,t,c,a)  u(b,t,c,a) if a  a (not necessarily true)</p>
    <p>The heuristic should incorporate the parameter</p>
    <p>Key Insights</p>
  </div>
  <div class="page">
    <p>The heuristic is described by the following formula:</p>
    <p>h(c+a,t) limits the CPUs based on t</p>
    <p>f()=2(3-1)</p>
    <p>Note f([0.0 0.5 1.0])=[0.5 1.4 4.0]</p>
    <p>The formula</p>
    <p>u(b,t,c,a)=min{h(c+a,t) ,</p>
    <p>a M-c+1</p>
  </div>
  <div class="page">
    <p>Motivation</p>
    <p>The System Model and the DP Formulation</p>
    <p>A Justified Heuristic</p>
    <p>Simulation and Evaluation Simulation Environment Simulation Details Simulation Results</p>
    <p>Conclusions &amp; Future Work</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Evaluation with simulations using: OMNET++</p>
    <p>Two cases of arrivals: Constant Rate  inter-arrival time ~ exp( 2 )</p>
    <p>Bursty  sequential constant rate and idle cycles with length ~ exp( 100 )</p>
    <p>Executed our simulation for {0.1, 0.3, 0.5, 0.7, 0.9}</p>
    <p>Our benchmark was a constant CPU usage policy</p>
    <p>Simulation Environment</p>
  </div>
  <div class="page">
    <p>In our simulation scenario we assumed the following: Size of buffer : B=20</p>
    <p>Set of thermal states : T={1,2,3,4,5}</p>
    <p># of CPUs : M=8</p>
    <p>s(u) : s(u)=exp(-0.2u)</p>
    <p>Cb(b) : Cb(b)=b</p>
    <p>Cut(u,t) : Cut(u,t)=u t</p>
    <p>Cuc(u,c) : Cuc(u,c)=0.2[u-c] ++0.1[u-c]</p>
    <p>Simulation Details</p>
  </div>
  <div class="page">
    <p>Constant Rate arrivals</p>
    <p>Simulation Results</p>
    <p>/T otal jobs OptimalHeuristic 0.00</p>
    <p>Jobdr o ppe d/T otal job</p>
    <p>s Constant</p>
    <p>T otalP ower Cost OptimalHeuristic</p>
    <p>Constant</p>
  </div>
  <div class="page">
    <p>Bursty arrivals</p>
    <p>Simulation Results</p>
    <p>T otalP ower Cost OptimalHeuristic Constant</p>
    <p>/T otal jobs OptimalHeuristic 0.00</p>
    <p>Jobdr o ppe d/T otal job</p>
    <p>s Constant</p>
  </div>
  <div class="page">
    <p>Motivation</p>
    <p>The System Model and the DP Formulation</p>
    <p>A Justified Heuristic</p>
    <p>Simulation and Evaluation</p>
    <p>Conclusions &amp; Future Work Conclusions Future Work</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Presented a novel power management model for internet servers and data centers</p>
    <p>Formulated a DP that is agnostic to the arrival rate</p>
    <p>Created a low complexity justified heuristic</p>
    <p>Simulated for various arrival patterns</p>
    <p>Substantial benefits especially when the arrivals exhibited strong temporal variations</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>Future work will follow in two directions:</p>
    <p>Evaluation with actual system parameters</p>
    <p>Traffic estimation</p>
    <p>Future Work</p>
  </div>
  <div class="page">
    <p>Thank You!</p>
  </div>
</Presentation>
