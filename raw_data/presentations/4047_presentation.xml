<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Single-Hop Probing Asymptotics in Available Bandwidth Estimation: Sample-Path Analysis</p>
    <p>SingleSingle--Hop Probing Asymptotics in Hop Probing Asymptotics in Available Bandwidth Estimation: Available Bandwidth Estimation: SampleSample--Path AnalysisPath Analysis</p>
    <p>Xiliang Liu, Kaliappa Ravindran, Benyuan Liu City University of New York</p>
    <p>Dmitri Loguinov Texas A&amp;M University</p>
  </div>
  <div class="page">
    <p>OutlineOutlineOutline</p>
    <p>Introduction  Constant -rate fluid cross-traffic model  Relationship to existing techniques</p>
    <p>General Bursty Cross-Traffic Model  Experimental Verifications  Implications to Existing Techniques  Conclusion</p>
    <p>Prior work</p>
    <p>Our work</p>
  </div>
  <div class="page">
    <p>ProblemProblemProblem</p>
    <p>Measuring path avail-bw using probing streams:</p>
    <p>Basic question: the relationship between input, output, and the measurement goal: avail-bw</p>
    <p>Internet path</p>
    <p>Input cross-traffic Output cross-traffic</p>
    <p>Input probing streams Output probing streams</p>
  </div>
  <div class="page">
    <p>Single-Hop Fluid Model 1SingleSingle--Hop Fluid Model 1Hop Fluid Model 1</p>
    <p>Assuming Constant-rate Fluid Cross-traffic  Constant Cross-traffic intensity  in any time-interval  Constant Avail-bw A = C   in any time-interval</p>
    <p>Probing rate/gap of packet train  Probing gap: g  Probing rate: r = s/g</p>
    <p>Fluid models:</p>
    <p>P1Pn P3 P2</p>
    <p>(n1)g</p>
  </div>
  <div class="page">
    <p>Single-Hop Fluid Model 2SingleSingle--Hop Fluid Model 2Hop Fluid Model 2 g O</p>
    <p>gIs/(C-) C- rI</p>
    <p>r O</p>
  </div>
  <div class="page">
    <p>How Existing Techniques Relate to Fluid Models How Existing Techniques Relate to How Existing Techniques Relate to Fluid ModelsFluid Models</p>
    <p>Is this model still valid in general bursty cross-traffic ? - The answer is NOT EXACTLY</p>
    <p>PTR</p>
    <p>C</p>
    <p>TOPP us es the su</p>
    <p>b linear</p>
    <p>segment</p>
    <p>Spruce</p>
    <p>C- rI</p>
    <p>rO</p>
  </div>
  <div class="page">
    <p>OutlineOutlineOutline</p>
    <p>Introduction  Constant -rate fluid cross-traffic model  Relationship to existing techniques</p>
    <p>General Bursty Cross-Traffic Model  Experimental Verifications  Implications to Exiting Techniques  Conclusion</p>
    <p>Prior work</p>
    <p>Our work</p>
  </div>
  <div class="page">
    <p>Extending to Bursty Cross-TrafficExtending to Bursty Extending to Bursty CrossCross--TrafficTraffic</p>
    <p>For the gap model, we adapt it to</p>
    <p>gO now varies, we change it to the asymptotic average</p>
    <p>Cross-traffic rate is no longer a constant,  is interpreted as its long-term average.</p>
  </div>
  <div class="page">
    <p>Real Asymptotic Model Real Asymptotic Model Real Asymptotic Model</p>
    <p>With proof, we offer the following gap model in bursty cross-traffic:</p>
    <p>The two additional terms are zero in fluid traffic, but are often POSITIVE in bursty cross-traffic.</p>
  </div>
  <div class="page">
    <p>What is the term E[Rn(t)]/(n-)What is the term What is the term EE[[RRnn((tt)]/()]/(nn--)) Q</p>
    <p>ue ui</p>
    <p>ng d</p>
    <p>el ay</p>
    <p>timet t+gI</p>
    <p>R(t)</p>
    <p>E[Rn(t)] is the asymptotic time average of Rn(t)</p>
    <p>Rn(t) is the additional queuing delay imposed on the last packet Pn by the first n- packets in the same probing train when the train arrives into the hop at time t. It is called intrusion residual.</p>
  </div>
  <div class="page">
    <p>What is the termWhat is the termWhat is the term</p>
    <p>Asymptotic time average of the hop idle time within the measurement interval of a packet train.</p>
    <p>The amount of hop idle time in that measurement interval after the hop is visited by the packet train at time t.</p>
    <p>The measurement interval of a packet train when it arrives to the hop at time t.</p>
  </div>
  <div class="page">
    <p>What is the termWhat is the termWhat is the term Q</p>
    <p>ue ui</p>
    <p>ng d</p>
    <p>el ay</p>
    <p>timet t+gI</p>
    <p>Measurement interval [t, t+gI]</p>
  </div>
  <div class="page">
    <p>Probing BiasProbing BiasProbing Bias</p>
    <p>The following two terms, called probing bias, are the difference between fluid model and real asymptotic model.</p>
    <p>The closed-form expression of probing bias is given in the paper.</p>
  </div>
  <div class="page">
    <p>Probing Bias VS. Input Gap gIProbing Bias VS. Input Gap gProbing Bias VS. Input Gap gII</p>
    <p>gI</p>
    <p>P ro</p>
    <p>bi ng</p>
    <p>B ia</p>
    <p>s</p>
    <p>s/C s/A</p>
    <p>In (0, s/C), bias=0</p>
    <p>In (s/C, s/A), bias monotonically increasing, but slope &lt;1</p>
    <p>When gI&gt;s/A, bias monotonically decreases and asymptotically converges to 0.</p>
  </div>
  <div class="page">
    <p>Gap Model in Bursty Cross-trafficGap Model in Bursty CrossGap Model in Bursty Cross--traffictraffic</p>
    <p>gI</p>
    <p>E [g O ]</p>
    <p>Fluid gap model is the lower bound of the real gap model</p>
    <p>also identified a upper bound of the gap model</p>
    <p>In (0,s/C), real model=fluid model</p>
    <p>From s/C beyond, real model starts deviating the fluid model</p>
    <p>At s/A, real model reaches the max deviation</p>
    <p>After s/A, the real model asymptotically approaches the fluid model</p>
    <p>s/C s/A</p>
  </div>
  <div class="page">
    <p>Rate Model in Bursty Cross-trafficRate Model in Bursty CrossRate Model in Bursty Cross--traffictraffic</p>
    <p>rI</p>
    <p>s / E</p>
    <p>[g O ]</p>
    <p>Fluid rate model becomes an upper bound of the real model</p>
    <p>The onset point of deviation is the turning point, smaller then A</p>
    <p>Avail-bw point A, where deviation is maximized</p>
    <p>Capacity rate C, end of deviation</p>
    <p>C- C</p>
  </div>
  <div class="page">
    <p>Impact of Packet-train ParametersImpact of PacketImpact of Packet--train Parameterstrain Parameters</p>
    <p>Larger packet size pushes the real model closer to the fluid model  Sampling interval increases, cross-traffic variance</p>
    <p>decreases, cross-traffic is more like fluid.</p>
    <p>Longer packet train also pushes the real model closer to the fluid model.  Non-intuitive, the paper offers an explanation using</p>
    <p>random walk theory.</p>
    <p>Fluid models are tight bounds for real models</p>
  </div>
  <div class="page">
    <p>OutlineOutlineOutline</p>
    <p>Introduction  Constant -rate fluid cross-traffic model  Relationship to existing techniques</p>
    <p>General Bursty Cross-Traffic Model  Experimental Verifications  Implications to Exiting Techniques  Conclusion</p>
    <p>Prior work</p>
    <p>Our work</p>
  </div>
  <div class="page">
    <p>Period Testing 1Period Testing 1Period Testing 1</p>
    <p>The deviation phenomena were first observed in periodic cross-traffic such as CBR</p>
    <p>E[gO] can be easily computed , since it is equal to the time average of gO(t) in one period:</p>
    <p>Where gO(t) is the output gap of a packet train when it arrives at the hop at time t.</p>
    <p>Notice that gO(t) is also a periodic function of time with the same period T as that of the cross-traffic.</p>
  </div>
  <div class="page">
    <p>Period Testing 2Period Testing 2Period Testing 2</p>
    <p>Period Testing approximates the time average of gO(t) in [0, T]  By sampling it at a set of equally spaced time</p>
    <p>instances and taking the average of those samples.</p>
    <p>The number of samples is chosen so that  Using more samples makes little difference  Results agree with fluid model when 0&lt;gI&lt;s/C</p>
  </div>
  <div class="page">
    <p>Packet-Pair Rate Curve in CBRPacketPacket--Pair Rate Curve in CBRPair Rate Curve in CBR CBR cross-traffic with average intensity 2.5mb/s, Hop capacity C=10mb/s</p>
    <p>As probe packet size increases, both the deviation range and deviation amplitude shrink.</p>
  </div>
  <div class="page">
    <p>Packet-train Rate Curve in CBRPacketPacket--train Rate Curve in CBRtrain Rate Curve in CBR Keep probing packet size to 50bytes, change packet-train length</p>
    <p>As packet train length increases, the deviation from fluid upper bound decreases.</p>
  </div>
  <div class="page">
    <p>Trace-driven Testing TraceTrace--driven Testing driven Testing</p>
    <p>Allows examining the asymptotic model in different types of cross-traffic</p>
    <p>Use time average of gO(t) in a finite time interval [0, ] to approximate E[gO]</p>
    <p>is chosen so that the cross-traffic intensity in [0, ] is close to its long term average</p>
    <p>gO(t) can be computed based on cross-traffic trace and hop capacity C, when t+(n-1)gI&lt;</p>
  </div>
  <div class="page">
    <p>Cross-traffic TracesCrossCross--traffic Tracestraffic Traces A</p>
    <p>ve ra</p>
    <p>ge In</p>
    <p>te ns</p>
    <p>ity in</p>
    <p>[0 , t</p>
    <p>] (m</p>
    <p>b/ s)</p>
    <p>t (s)</p>
    <p>All 4 traces have long-term intensity 3mb/s Use 20s trace for Poisson traffic and 60s trace for Pareto on/off traffic</p>
  </div>
  <div class="page">
    <p>Packet-Pair Rate CurvesPacketPacket--Pair Rate CurvesPair Rate Curves</p>
    <p>Probing packet size=750bytes.</p>
    <p>CBR rate curve overlap with Pareto on/off rate curve</p>
    <p>PUS (yellow) suffers slightly more bias then PCS</p>
  </div>
  <div class="page">
    <p>Packet-Train Rate CurvesPacketPacket--Train Rate CurvesTrain Rate Curves</p>
    <p>Use 16-packet probing train, packet size=750bytes.</p>
    <p>CBR curve becomes almost unbiased.</p>
    <p>The other three overlap.</p>
  </div>
  <div class="page">
    <p>Probing bias VS. Cross-traffic BurstinessProbing bias VS. CrossProbing bias VS. Cross--traffic Burstinesstraffic Burstiness</p>
    <p>The results so far shows that:  As probing packet size or train length increases,</p>
    <p>probing bias vanishes.  The vanishing rate depends on cross-traffic</p>
    <p>burstiness. CBR&gt;Poisson&gt;Pareto on/off  Although Pareto on/off is more bursty than</p>
    <p>Poisson, at certain time interval, the traffic variance can be smaller than Poisson, causing less probing bias in its rate curve.</p>
    <p>More discussion is in the paper</p>
  </div>
  <div class="page">
    <p>OutlineOutlineOutline</p>
    <p>Introduction  Constant -rate fluid cross-traffic model  Relationship to existing techniques</p>
    <p>General Bursty Cross-Traffic Model  Experimental Verifications  Implications to Exiting Techniques  Conclusion</p>
    <p>Prior work</p>
    <p>Our work</p>
  </div>
  <div class="page">
    <p>Implication to existing techniques 1Implication to existing techniques 1Implication to existing techniques 1</p>
    <p>TOPP use a transformed rate curve which is piece-wise linear in fluid cross-traffic</p>
    <p>Real asymptotic curves are not the same as the fluid models. This can cause significant under estimation of avail-bw even in a single-hop path</p>
  </div>
  <div class="page">
    <p>Implication to existing techniques 2Implication to existing techniques 2Implication to existing techniques 2</p>
    <p>Applying TOPPs linear regression on the real curves will produce avail-bw estimation:</p>
    <p>POFPUSPCSCBR</p>
  </div>
  <div class="page">
    <p>Implication to existing techniques 3Implication to existing techniques 3Implication to existing techniques 3</p>
    <p>Searching for the turning point (PTR) as available bandwidth causes negative bias  However, this bias can be mitigated to negligible</p>
    <p>level using long packet train.</p>
    <p>Sampling cross-traffic (Spruce) with rIC is unbiased in single-hop path  At this input rate, the real model agrees with fluid</p>
    <p>model.</p>
  </div>
  <div class="page">
    <p>ConclusionsConclusionsConclusions</p>
    <p>We developed an understanding of single-hop bandwidth estimation in busty cross-traffic that extends prior fluid models</p>
    <p>Cross-traffic burstiness implies bandwidth underestimation to several existing techniques. The underestimation can be mitigated using long train and large packet size</p>
    <p>Future work is to extend our understanding to multi-hop bandwidth estimation</p>
  </div>
  <div class="page"/>
</Presentation>
