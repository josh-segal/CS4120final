<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Exchanges in Networks with Firewalls</p>
    <p>J. Leitao, R. van Renesse and L. Rodrigues</p>
    <p>IPTPS 2010 April 27, 2010</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Scope</p>
    <p>Gossip protocols:</p>
    <p>Very flexible. Easy to implement. Scalable.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip protocols</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip protocols</p>
    <p>!&quot;##$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip protocols</p>
    <p>!&quot;#$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip protocols</p>
    <p>!&quot;#&quot;$%</p>
    <p>&amp;'(#&quot;$%</p>
    <p>!&quot;#&quot;$%</p>
    <p>&amp;'(#&quot;$%</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip protocols</p>
    <p>!&quot;#&quot;$%&amp;'#()*$'%</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip protocols</p>
    <p>!&quot;#&quot;$%</p>
    <p>&amp;'(#&quot;$%</p>
    <p>!&quot;#&quot;$%</p>
    <p>&amp;'(#&quot;$%</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip Protocols.</p>
    <p>Inherent load-balancing properties</p>
    <p>Every participant will engage in a similar number of gossip exchanges.</p>
    <p>Load Balancing...</p>
    <p>Only true if considering a flat topology.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Gossip Protocols.</p>
    <p>Inherent load-balancing properties</p>
    <p>Every participant will engage in a similar number of gossip exchanges.</p>
    <p>Load Balancing...</p>
    <p>Only true if considering a flat topology.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
    <p>!&quot;##$%&amp;</p>
    <p>!&quot;##$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
    <p>!&quot;#$%&amp;</p>
    <p>!&quot;#$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Introducing Firewalls and NAT boxes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
    <p>!&quot;#$#%&amp;%#'()&quot;&amp;*+#(</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
    <p>!&quot;#$&quot;%&quot;&amp;'()$'&amp;*(</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Confinement Domain &amp; Unconfined Nodes</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Motivation</p>
    <p>This can unbalance the system behavior:</p>
    <p>Unconfined nodes can participate in a much higher number of gossip exchanges.</p>
    <p>Specially when only a small fraction of nodes are unconfined.</p>
    <p>This unbalance is undesirable:</p>
    <p>State reconciliation can require significant CPU Resources:</p>
    <p>Techniques to reduce the use of bandwidth. Encryption/decryption and signature/verification of messages. Serialization/deserialization of objects.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Motivation</p>
    <p>This can unbalance the system behavior:</p>
    <p>Unconfined nodes can participate in a much higher number of gossip exchanges.</p>
    <p>Specially when only a small fraction of nodes are unconfined.</p>
    <p>This unbalance is undesirable:</p>
    <p>State reconciliation can require significant CPU Resources:</p>
    <p>Techniques to reduce the use of bandwidth. Encryption/decryption and signature/verification of messages. Serialization/deserialization of objects.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Contribution</p>
    <p>In this paper:</p>
    <p>We present a new approach to balance gossip exchanges in networks with firewalls.</p>
    <p>only requires local information. no coordination overhead. nodes are not required to know if they are unconfined or confined.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Introduction Contribution</p>
    <p>In this paper:</p>
    <p>We present a new approach to balance gossip exchanges in networks with firewalls.</p>
    <p>only requires local information. no coordination overhead. nodes are not required to know if they are unconfined or confined.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Rational</p>
    <p>We follow 2 observations.</p>
    <p>Observation 1:</p>
    <p>Two nodes in distinct confinement domains can only exchange information through an unconfined node.</p>
    <p>Observation 2:</p>
    <p>In a balanced system on average: For each gossip exchange initiated by a node (on average) that node participates in a gossip exchange initiated by another peer.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Rational</p>
    <p>We follow 2 observations.</p>
    <p>Observation 1:</p>
    <p>Two nodes in distinct confinement domains can only exchange information through an unconfined node.</p>
    <p>Observation 2:</p>
    <p>In a balanced system on average: For each gossip exchange initiated by a node (on average) that node participates in a gossip exchange initiated by another peer.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Rational</p>
    <p>We follow 2 observations.</p>
    <p>Observation 1:</p>
    <p>Two nodes in distinct confinement domains can only exchange information through an unconfined node.</p>
    <p>Observation 2:</p>
    <p>In a balanced system on average: For each gossip exchange initiated by a node (on average) that node participates in a gossip exchange initiated by another peer.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Intuition</p>
    <p>Each node maintains:</p>
    <p>A quota value (initially with a value of 1). A single-entry cache for connections created by other nodes.</p>
    <p>Every node in the system executes the same protocol.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Intuition</p>
    <p>Each node maintains:</p>
    <p>A quota value (initially with a value of 1). A single-entry cache for connections created by other nodes.</p>
    <p>Every node in the system executes the same protocol.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Intuition</p>
    <p>The quota limits the number of gossip exchanges initiated by other peers that a node can accept.</p>
    <p>Nodes increase their quota when they initiate a gossip exchange.</p>
    <p>The connection cache keeps alive the last connection used by another peer to initiate a gossip exchange.</p>
    <p>When a node receives a gossip request and does not have a quota value above zero it forwards the request through the cached connection.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Intuition</p>
    <p>The quota limits the number of gossip exchanges initiated by other peers that a node can accept.</p>
    <p>Nodes increase their quota when they initiate a gossip exchange.</p>
    <p>The connection cache keeps alive the last connection used by another peer to initiate a gossip exchange.</p>
    <p>When a node receives a gossip request and does not have a quota value above zero it forwards the request through the cached connection.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Intuition</p>
    <p>The quota limits the number of gossip exchanges initiated by other peers that a node can accept.</p>
    <p>Nodes increase their quota when they initiate a gossip exchange.</p>
    <p>The connection cache keeps alive the last connection used by another peer to initiate a gossip exchange.</p>
    <p>When a node receives a gossip request and does not have a quota value above zero it forwards the request through the cached connection.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;</p>
    <p>#</p>
    <p>$&quot; %&quot;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!&quot;! !&quot;!</p>
    <p>!&quot;!</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!&quot;! !&quot;!</p>
    <p>!&quot;!</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !'!</p>
    <p>!'!</p>
    <p>!&quot;##$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !(!</p>
    <p>!(!</p>
    <p>!&quot;#$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !(!</p>
    <p>!(!</p>
    <p>!&quot;#$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !&quot;!</p>
    <p>!(!</p>
    <p>!&quot;##$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !&quot;!</p>
    <p>!(!</p>
    <p>!&quot;##$%&amp; !&quot;##$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !&quot;!</p>
    <p>!(!</p>
    <p>!&quot;##$%&amp; !&quot;##$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !(!</p>
    <p>!&quot;!</p>
    <p>!&quot;#$%&amp; !&quot;#$%&amp;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip Example</p>
    <p>!&quot;!</p>
    <p>#!</p>
    <p>$</p>
    <p>%! &amp;!</p>
    <p>!'! !(!</p>
    <p>!&quot;!</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Balancing Gossip</p>
    <p>Some additional aspects:</p>
    <p>A gossip requests are forwarded a limited number of times (TTL).</p>
    <p>If a node has an empty connection cache it engages in the gossip exchange.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>We conducted simulations in the Peersim simulator.</p>
    <p>System composed of 12.800 nodes.</p>
    <p>Distributed in a variable number of confinement domains:</p>
    <p>From 1 (flat topology) to 12.100 (star topology).</p>
    <p>Each communication step has a latency selected uniformly at random between 2 and 7.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>We conducted simulations in the Peersim simulator.</p>
    <p>System composed of 12.800 nodes.</p>
    <p>Distributed in a variable number of confinement domains:</p>
    <p>From 1 (flat topology) to 12.100 (star topology).</p>
    <p>Each communication step has a latency selected uniformly at random between 2 and 7.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>We conducted simulations in the Peersim simulator.</p>
    <p>System composed of 12.800 nodes.</p>
    <p>Distributed in a variable number of confinement domains:</p>
    <p>From 1 (flat topology) to 12.100 (star topology).</p>
    <p>Each communication step has a latency selected uniformly at random between 2 and 7.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>Application</p>
    <p>Simple anti-entropy protocol.</p>
    <p>All nodes have a state values initially set to 0. A random node changes its state value to 1. Nodes gossip their state value and update theirs with highest value.</p>
    <p>Each node initiates 500 gossip exchanges.</p>
    <p>If the system is balanced each node should participate in 1000 gossip exchanges.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>Application</p>
    <p>Simple anti-entropy protocol.</p>
    <p>All nodes have a state values initially set to 0. A random node changes its state value to 1. Nodes gossip their state value and update theirs with highest value.</p>
    <p>Each node initiates 500 gossip exchanges.</p>
    <p>If the system is balanced each node should participate in 1000 gossip exchanges.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>We evaluate our protocol using distinct TTL values:</p>
    <p>TTL = 1 - Equivalent to regular gossip. TTL = 2 - Each gossip request can be redirected one time. TTL = 5. TTL = 10.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Setting</p>
    <p>We evaluate our protocol using distinct TTL values:</p>
    <p>TTL = 1 - Equivalent to regular gossip. TTL = 2 - Each gossip request can be redirected one time. TTL = 5. TTL = 10.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Results</p>
    <p>Results show:</p>
    <p>Maximum latency (time until all nodes update their state value to 1).</p>
    <p>Maximum gossip exchanges performed by a single node.</p>
    <p>Maximum number of nessages forwarded by a single node.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Results</p>
    <p>Results show:</p>
    <p>Maximum latency (time until all nodes update their state value to 1).</p>
    <p>Maximum gossip exchanges performed by a single node.</p>
    <p>Maximum number of nessages forwarded by a single node.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Results</p>
    <p>Results show:</p>
    <p>Maximum latency (time until all nodes update their state value to 1).</p>
    <p>Maximum gossip exchanges performed by a single node.</p>
    <p>Maximum number of nessages forwarded by a single node.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Results: Maximum latency</p>
    <p>!&quot;</p>
    <p>#!&quot;</p>
    <p>$!&quot;</p>
    <p>%!&quot;</p>
    <p>&amp;!&quot;</p>
    <p>'!!&quot;</p>
    <p>'#!&quot;</p>
    <p>'$!&quot;</p>
    <p>'%!&quot;</p>
    <p>'&amp;!&quot;</p>
    <p>'&quot; '%!!&quot; ('!!&quot; $%!!&quot; %'!!&quot; )%!!&quot; *'!!&quot; '!%!!&quot; '#'!!&quot;</p>
    <p>!&quot; #$ % &amp; ' () * + $ (, % -# ./ (</p>
    <p>%,+0$1(23(&amp;2%4%$+$%#(52+&quot;-%.(</p>
    <p>++,&quot;-&quot;'&quot;</p>
    <p>++,&quot;-&quot;#&quot;</p>
    <p>++,&quot;-&quot;.&quot;</p>
    <p>++,&quot;-&quot;'!&quot;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Results: Maximum gossip exchanges per node</p>
    <p>!&quot; !#$$&quot; %!$$&quot; &amp;#$$&quot; #!$$&quot; '#$$&quot; (!$$&quot; !$#$$&quot; !)!$$&quot;</p>
    <p>! &quot; # $ % &amp;' ( )' * ( + + ,'% . / 0 1 ! * % + '</p>
    <p>!&quot;#$%&amp;'()'/(!2!%#%!3'4(#1,!+'</p>
    <p>**+&quot;,&quot;!&quot;</p>
    <p>**+&quot;,&quot;)&quot;</p>
    <p>**+&quot;,&quot;-&quot;</p>
    <p>**+&quot;,&quot;!$&quot;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Evaluation Experimental Results: Maximum forwarded messages per node</p>
    <p>!&quot; !#$$&quot; %!$$&quot; &amp;#$$&quot; #!$$&quot; '#$$&quot; (!$$&quot; !$#$$&quot; !)!$$&quot;</p>
    <p>! &quot; # # $ % &quot; # &amp;' ( )*</p>
    <p>$ )+ &quot; + &amp;</p>
    <p>,-!.&quot;)&amp;('&amp;/(,0,&quot;!&quot;,1&amp;+(!$2,#&amp;</p>
    <p>**+&quot;,&quot;)&quot;</p>
    <p>**+&quot;,&quot;-&quot;</p>
    <p>**+&quot;,&quot;!$&quot;</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Conclusions</p>
    <p>We have studied how to balance gossip exchanges in networks with firewalls.</p>
    <p>We proposed a new solution:</p>
    <p>Effectively balances gossip exchanges. Does not require nodes to know if they are confined or unconfined. Has no coordination overhead.</p>
    <p>This technique can be easily implemented in current gossip-based mechanisms.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Conclusions</p>
    <p>We have studied how to balance gossip exchanges in networks with firewalls.</p>
    <p>We proposed a new solution:</p>
    <p>Effectively balances gossip exchanges. Does not require nodes to know if they are confined or unconfined. Has no coordination overhead.</p>
    <p>This technique can be easily implemented in current gossip-based mechanisms.</p>
  </div>
  <div class="page">
    <p>Balancing Gossip</p>
    <p>Firewalls</p>
    <p>J. Leitao, R. van Renesse</p>
    <p>and L. Rodrigues</p>
    <p>Introduction</p>
    <p>Balancing Gossip</p>
    <p>Evaluation</p>
    <p>Conclusions</p>
    <p>Thanks.</p>
  </div>
</Presentation>
