<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Topology-Based Spam Avoidance in Large-Scale Web Crawls</p>
    <p>TopologyTopology--Based Spam AvoidanceBased Spam Avoidance in Largein Large--Scale Web CrawlsScale Web Crawls</p>
    <p>Clint SparkmanClint Sparkman Joint work with HsinJoint work with Hsin--Tsang Lee and Dmitri LoguinovTsang Lee and Dmitri Loguinov</p>
    <p>Internet Research LabInternet Research Lab Department of Computer Science and EngineeringDepartment of Computer Science and Engineering Texas A&amp;M UniversityTexas A&amp;M University</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Dataset and Ranking Algorithms</p>
    <p>Manual Analysis</p>
    <p>Automated Analysis</p>
    <p>Supporters Estimation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>IntroductionIntroductionIntroduction</p>
    <p>Competition for high placement in search results has led to unethical Internet practices designed to deceive (spam) search engines in order to manipulate their ranking</p>
    <p>Web spam not only adversely impacts the quality of search results, but also impedes web exploration for a variety of research purposes</p>
    <p>Web crawlers must detect and avoid undesirable</p>
    <p>content in real-time</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>IRLbotIRLbotIRLbot</p>
    <p>High performance web crawler developed at the TAMU Internet Research Lab</p>
    <p>Able to perform several billion page web crawls with a single server</p>
    <p>Prioritizes queued pages using real-time snapshots of the Pay-Level Domain (PLD) graph</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Pay-Level DomainsPayPay--Level DomainsLevel Domains</p>
    <p>PLDs must be purchased/acquired at a TLD or cc-TLD registrar</p>
    <p>PLD graphs offer some inherent advantages over other structures such as page-level or host-level graphs  More difficult and costly to manipulate, since PLDs</p>
    <p>must be registered, compared to links or hosts that can be trivially generated with scripts</p>
    <p>Dramatically smaller graph that requires less processing and enables more efficient ranking during large crawls</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>PrioritizationPrioritizationPrioritization</p>
    <p>Crawlers need methods to budget their finite resources to spend most of their time exploring valuable parts of the Internet</p>
    <p>Prioritized web crawlers should be able to differentiate between domains that should be massively crawled and those that should not</p>
    <p>Two performance measures in achieving this classification  Accuracy: ability to avoid over-allocating resources</p>
    <p>to low-quality domains  Overhead: amount of processing required 6</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Dataset and Ranking Algorithms</p>
    <p>Manual Analysis</p>
    <p>Automated Analysis</p>
    <p>Supporters Estimation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>DatasetDatasetDataset</p>
    <p>IRLbot web crawl collected from June-Aug 2007</p>
    <p>Successfully downloaded 6.3B 200-OK HTML pages</p>
    <p>Webgraph has 41B nodes and 310B edges</p>
    <p>Host graph has 641M nodes and 6.8B edges</p>
    <p>PLD graph has 89M nodes and 1.8B edges</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Ranking AlgorithmsRanking AlgorithmsRanking Algorithms</p>
    <p>In-degree (IN)</p>
    <p>Sum of in-links</p>
    <p>Supporters (SUPP)</p>
    <p>Let</p>
    <p>be the shortest distance from</p>
    <p>to</p>
    <p>along the directed graph</p>
    <p>PageRank</p>
    <p>Models a random walker on</p>
    <p>, where the</p>
    <p>walker traverses an out-link with probability</p>
    <p>or teleports to a random node with probability</p>
    <p>Weighted In-degree (WIN)</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Dataset and Ranking Algorithms</p>
    <p>Manual Analysis</p>
    <p>Automated Analysis</p>
    <p>Supporters Estimation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Manual Spam EvaluationManual Spam EvaluationManual Spam Evaluation</p>
    <p>There is no common algorithm to measure ranking results in spam avoidance applications</p>
    <p>Previous work manually classified a small random sample of the graph as good/bad. Competing rankings are divided into</p>
    <p>buckets</p>
    <p>and compared based on the buckets where the spam is found</p>
    <p>Our approach: manually scrutinize the top-1K PLDs in each prioritized ranking</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Manual Spam Evaluation, cont.Manual Spam Evaluation, cont.Manual Spam Evaluation, cont.</p>
    <p>No consensus on the definition of spam  Is pornography spam?</p>
    <p>We use a subjective approach using the following criteria  Attempts to perform malicious activities upon visit</p>
    <p>(malware or virus)  Overwhelming presence of links whose primary</p>
    <p>purpose is to generate revenue from click-throughs  No immediate useful content can be discerned in</p>
    <p>the PLD</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Google Toolbar Rank (GTR)Google Toolbar Rank (GTR)Google Toolbar Rank (GTR)</p>
    <p>Google offers a toolbar for web browsers that, among other things, offers a quantitative value from 0-10</p>
    <p>Some pages have no GTR  Page has not been crawled  No longer exists  Purposefully removed from the index</p>
    <p>No ranking analysis has previously involved GTR values</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Top-ranked PLDsTopTop--ranked PLDsranked PLDs</p>
    <p>IN and SUPP PLDs are much more reputable (large, well-known domains) and contain no spam</p>
    <p>PageRank and WIN promote spam/questionable domains to the top of their ranked lists 14</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Spam AvoidanceSpam AvoidanceSpam Avoidance</p>
    <p>Compare the amount of spam found in the top-1K for each</p>
    <p>PageRank and WIN similar performance</p>
    <p>spam sited in top-1K</p>
    <p>IN allows 9 in the top-1K, the first in pos 25</p>
    <p>SUPP allows only 1, linksynergy.com in pos 718</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>GTR and SpamGTR and SpamGTR and Spam</p>
    <p>Examine how well GTR predicts spam</p>
    <p>No GTR-0 sites were wellknown, reputable sites</p>
    <p>Almost no spam (0.6%) occurs at GTR 5 or higher</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Dataset and Ranking Algorithms</p>
    <p>Manual Analysis</p>
    <p>Automated Analysis</p>
    <p>Supporters Estimation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Average GTRAverage GTRAverage GTR</p>
    <p>Graph plots a running average of the GTRs</p>
    <p>Compares how well each algorithm places the most valuable PLDs at the top of the list</p>
    <p>In has a sharp drop after 4K. Many GTR-0 PLDs related to worldnews.com</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>GTR-0GTRGTR--00</p>
    <p>Cumulative distribution of PLDs with GTR 0</p>
    <p>SUPP does not allow a GTR-0 PLD until pos 1,422</p>
    <p>IN initially does very well. Only 1 in top 1K, pos 843, but worldnews.com sites quickly add around 2K</p>
    <p>Both PageRank and WIN allow GTR-0 PLDs high in their rankings (32 and 35)</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>No GTRNo GTRNo GTR</p>
    <p>Cumulative distribution of PLDs with no GTR</p>
    <p>SUPP is the clear winner with 1st</p>
    <p>in pos 469</p>
    <p>PageRank and WIN are very similar. Both allow 4 PLDs with no GTR in their top-15</p>
    <p>IN only allows 2 in top-100, but has the most in top</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Blacklisted PLDsBlacklisted PLDsBlacklisted PLDs</p>
    <p>Cumulative distribution of PLDs on SpamAssassins blacklist and considered to be related to email spam</p>
    <p>SUPP is the clear winner, with the 1st</p>
    <p>PLD in pos 4,459, and only 7 in the top-10K</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>High GTRHigh GTRHigh GTR</p>
    <p>To understand if any good domains ended up in the bottom of our lists, we examine the 470 PLDs with GTR 9 or 10 that appear in SUPPs ranking past 10K</p>
    <p>All fall within the following 4 categories  Redirects to famous domains for either misspelled or</p>
    <p>unknown domains, or country versions of main site  Mirrors that do not redirect to main site, but look</p>
    <p>identical  .gov or .edu sites that Google commonly inflates  GTR anomalies that have been since corrected</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Depth of SupportersDepth of SupportersDepth of Supporters</p>
    <p>Next explore if SUPP at depth 2 is the best choice for Internet graphs</p>
    <p>We found SUPP at depth 3 to be a poor indication of PLD reputation  Due to the rapid explosion of supporters for popular</p>
    <p>PLDs and the lack of nodes to reach at depth 3  google.com</p>
    <p>Highly ranked by all algorithms</p>
    <p>hotsitekey.info</p>
    <p>Ranked on position 192,056 by SUPP2</p>
    <p>Manages 15.6M level-3 supporters 23</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Dataset and Ranking Algorithms</p>
    <p>Manual Analysis</p>
    <p>Automated Analysis</p>
    <p>Supporters Estimation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Estimating SupportersEstimating SupportersEstimating Supporters</p>
    <p>Easy to see that SUPP produces the best ranked PLD lists</p>
    <p>Calculating SUPP directly does not scale well to large graphs due to the enormous amount of processing to perform a limited BFS search from each node</p>
    <p>Good news: a high-performance crawler only requires a fast, accurate, and scalable technique for estimating supporters at the top of the list</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Quick Visit SupportersQuick Visit SupportersQuick Visit Supporters</p>
    <p>Quick Visit Supporters (QVS) simply counts the number of link traversals during BFS</p>
    <p>High error due to duplicate node counts</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Bit Vector EstimateBit Vector EstimateBit Vector Estimate</p>
    <p>Nodes iteratively receive bit strings from their neighbors and apply a bitwise OR against their own bit string</p>
    <p>Length of bit vector determines accuracy.  64-bit vectors used in comparison</p>
    <p>Requires</p>
    <p>rounds to terminate, where is the maximum SUPP count  25 rounds for IRLbots PLD graph  Can adapt to only 2 rounds if we only need to</p>
    <p>estimate the top-1K or 3 rounds for top-10K 27</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Top Supporters Estimate (TSE)Top Supporters Estimate (TSE)Top Supporters Estimate (TSE)</p>
    <p>Scan the out-graph and retain in RAM a</p>
    <p>-fraction of all nodes</p>
    <p>along with their adjacency lists</p>
    <p>Produces an unbiased random sample of all supporters</p>
    <p>that</p>
    <p>will later count</p>
    <p>Sequentially read the in-degree graph, and examine each node</p>
    <p>with its neighbors</p>
    <p>If</p>
    <p>and</p>
    <p>, any overlap between</p>
    <p>and indicates</p>
    <p>is a supporter of</p>
    <p>at level 2</p>
    <p>Scale the supporter count for</p>
    <p>by</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Estimation ErrorEstimation ErrorEstimation Error</p>
    <p>Error is calculated against the true SUPP count</p>
    <p>Plot is by true SUPP rank</p>
    <p>Quick Visit has enormous error (&gt; 1,000%) for the top PLDs</p>
    <p>Bit Vector error averages 6.5% in this range</p>
    <p>VSE error averages ~ 1% for</p>
    <p>to 0.1% for</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Comparison</p>
    <p>RAM onlyComparison Comparison</p>
    <p>RAM onlyRAM only</p>
    <p>Table shows the theoretical number of random RAM hits and various CPU operations</p>
    <p>Time is actual running time on Quad-CPU server with enough RAM to hold entire PLD graph</p>
    <p>Speedup factor is compared to SUPP 30</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>External Memory TechniquesExternal Memory TechniquesExternal Memory Techniques</p>
    <p>SUPP-A: loads sequential chunks of the ingraph and then re-scans the entire in-graph</p>
    <p>SUPP-B: simultaneously reads in/out graphs and writes out all pairs</p>
    <p>where</p>
    <p>is</p>
    <p>s</p>
    <p>level-2 supporter. A</p>
    <p>-way merge is performed to eliminate duplicates.</p>
    <p>Quick Visit: reads the file twice and stores the last vectors of in-degree counts and hashes</p>
    <p>VSE: reads in/out graphs but does not require that all supporters counts fit in RAM 31</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>External Memory ComparisonExternal Memory ComparisonExternal Memory Comparison</p>
    <p>I/O complexity using 15.8GB PLD graph with 8-byte hashes</p>
    <p>SUPP-A (8GB RAM) reads the graph 2,000 times!</p>
    <p>SUPP-B scales better with reads, but requires an enormous amount of disk to write to</p>
    <p>TSE has constant I/O, and RAM is determined by</p>
    <p>(accuracy) 32</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Dataset and Ranking Algorithms</p>
    <p>Manual Analysis</p>
    <p>Automated Analysis</p>
    <p>Supporters Estimation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>C o</p>
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>ConclusionsConclusionsConclusions</p>
    <p>This paper compared various agnostic algorithms for ranking the web at the PLD level</p>
    <p>Leveraged manual analysis and Google Toolbar Rankings for automated analysis</p>
    <p>SUPP decisively outperformed the other techniques but was infeasible in practice</p>
    <p>Top Supporters Estimate is a fast, accurate, and scalable estimator for the top-ranked PLDs</p>
  </div>
</Presentation>
