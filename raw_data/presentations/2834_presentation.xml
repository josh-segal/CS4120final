<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Marc Brooker, Tao Chen and Fan Ping February 2020</p>
    <p>Millions of Tiny Databases NSDI20</p>
  </div>
  <div class="page">
    <p>Table of contents</p>
    <p>Tough CAP Tradeoffs  Availability and Blast Radius  Physalia Architecture</p>
  </div>
  <div class="page">
    <p>Simplified Storage System</p>
    <p>Primary Replica</p>
    <p>Client</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>Client</p>
    <p>Network Partition</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>A Higher Power (Configuration Service)</p>
    <p>Please, sir, can I be the primary?</p>
    <p>I still want to be primary!</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>A Higher Power (Configuration Service)</p>
    <p>Please, sir, can I be the primary?</p>
    <p>I still want to be primary!</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>ClientHigher Power</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>A Higher Power (Configuration Service)</p>
    <p>Please, sir, can I be the primary?</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>Here?</p>
    <p>Or Here?</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>Availability and Blast Radius</p>
  </div>
  <div class="page">
    <p>Availability is typically improved with</p>
    <p>Redundancy</p>
  </div>
  <div class="page">
    <p>Availability is typically improved with</p>
    <p>Redundancy* * Unless failures are correlated</p>
  </div>
  <div class="page">
    <p>Infrequent Short Small</p>
  </div>
  <div class="page">
    <p>Infrequent Short Small</p>
  </div>
  <div class="page">
    <p>Blast Radius</p>
  </div>
  <div class="page">
    <p>Physalia Architecture</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>Client</p>
  </div>
  <div class="page">
    <p>Physalia Cell</p>
    <p>Replicated state machine</p>
    <p>Configuration for one volume, or small set of volumes.</p>
    <p>K/V store API</p>
    <p>Strict serializable transactions</p>
  </div>
  <div class="page">
    <p>Primary Replica</p>
    <p>Client</p>
    <p>Minimize The Radius</p>
  </div>
  <div class="page">
    <p>Topology Details Matter</p>
    <p>Radius More Redundancy</p>
    <p>More Bisection Bandwidth</p>
    <p>More Placement Options</p>
    <p>Lower Partition Risk</p>
    <p>Lower Availability Blast Radius</p>
  </div>
  <div class="page">
    <p>Take Advantage of Eventual Consistency When You Can!</p>
    <p>Discovery Cache (clients discover nodes)  Monitoring  Meta control plane</p>
  </div>
  <div class="page">
    <p>Optimize for Blast Radius</p>
    <p>Minimize impact of partitions (and CAP tradeoffs),  overload,  software bugs &amp;  operational issues.</p>
    <p>Build humility into the system.</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>Q&amp;A Marc Brooker mbrooker@amazon.com @marcjbrooker</p>
  </div>
  <div class="page">
    <p>The End</p>
  </div>
</Presentation>
