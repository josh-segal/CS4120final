<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Weakly Supervised Semantic Parsing with Abstract Examples Omer Goldman, Veronica Latcinnik, Udi Naveh, Amir Globerson, Jonathan Berant</p>
    <p>Tel Aviv University</p>
    <p>ACL, July 2018</p>
  </div>
  <div class="page">
    <p>Semantic Parsing</p>
    <p>model</p>
    <p>CapitalOf.argmax(Type.State  LocatedIn.US,Population)</p>
    <p>h  h   h   ?</p>
    <p>execution</p>
    <p>Sacramento</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>KB:</p>
  </div>
  <div class="page">
    <p>Training with Full Supervision</p>
    <p>! Training examples:</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>x: y: CapitalOf.argmax(Type.State  LocatedIn.US,Population)</p>
    <p>E X P E N</p>
    <p>S I V E</p>
    <p>$</p>
  </div>
  <div class="page">
    <p>Training with Weak Supervision</p>
    <p>! Training examples:</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>x: y: Sacramento</p>
  </div>
  <div class="page">
    <p>Problems with Weak Supervision</p>
    <p>! Exponential search space</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>decoding</p>
  </div>
  <div class="page">
    <p>Problems with Weak Supervision</p>
    <p>! Spurious programs (Pasupat and Liang, 2016; Guu et al., 2017)</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>decoding</p>
    <p>Correct program: 2*2</p>
  </div>
  <div class="page">
    <p>CNLVR (Suhr et al., 2017)</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions 6</p>
  </div>
  <div class="page">
    <p>Semantic Parsing</p>
    <p>model</p>
    <p>exist(filter(ALL_ITEMS,x.IsBlue(x)  IsSquare(x)))</p>
    <p>h</p>
    <p>execution</p>
    <p>True</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>KB:</p>
    <p>Binary! 50% spurious</p>
  </div>
  <div class="page">
    <p>Insight</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>h       h h</p>
    <p>! Equal(1,(filter(ALL_ITEMS,x.IsBlack(x)  IsCircle(x)  IsTouchingWall(x)))</p>
    <p>! GreaterEqual(3,(filter(ALL_ITEMS,x.IsBlue(x)  IsTriangle(x)  IsTouchingWall(x)))</p>
    <p>! GreaterEqual(1,(filter(ALL_ITEMS,x.IsBlue(x)  IsTriangle(x)  IsTouchingWall(x)))</p>
    <p>! LessEqual(3,(filter(ALL_ITEMS,x.IsYellow(x)  IsRectangle(x)  IsTouchingWall(x)))</p>
    <p>! Equal(1,(filter(ALL_ITEMS,x.IsBlack(x)  IsCircle(x)  IsTouchingWall(x)))</p>
  </div>
  <div class="page">
    <p>Contributions</p>
    <p>h         exist(filter(ALL_ITEMS,x.IsC-COLOR(x)IsC-SHAPE(x)))</p>
    <p>h     exist(filter(ALL_ITEMS,x.IsYellow(x)IsCircle(x)))</p>
    <p>Data augmentation helps search</p>
    <p>Abstract cache tackles spuriousness</p>
    <p>CNLVR improvement: 67.8 ! 82.5</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions 9</p>
  </div>
  <div class="page">
    <p>Semantic Parsing</p>
  </div>
  <div class="page">
    <p>Logical Program</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>x: z: exist(filter(ALL_BOXES,x.ge(3,count(filter(x,y.IsBlue(y))))))</p>
    <p>Constant Set(Set(Item)) Function</p>
    <p>Set() ! Int</p>
    <p>Function Set() ! Bool</p>
    <p>Variable Set(Item)</p>
    <p>Variable Item</p>
    <p>Function Set() BoolFunc() ! Set()</p>
  </div>
  <div class="page">
    <p>Model</p>
    <p>! Training maximizes log-likelihood of correct programs</p>
    <p>! + discriminative re-ranker</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>There is a yellow triangle</p>
    <p>Exist(Filter(ALL_ITEMS,x.IsYellow(x)))</p>
    <p>Exist(Filter(ALL_ITEMS,x.And(IsYellow(x), IsTriangle(x))))</p>
    <p>GraeterEqual(1,count(Filter(ALL_ITEMS,x.And(IsYellow(x),IsTriangle(x))))) Encoder  Decoder</p>
    <p>Beam search</p>
  </div>
  <div class="page">
    <p>Abstract Examples</p>
  </div>
  <div class="page">
    <p>Abstraction</p>
    <p>h     h</p>
    <p>h</p>
    <p>exist(filter(ALL_ITEMS,x.IsC-COLOR(x)IsC-SHAPE(x)))</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>exist(filter(ALL_ITEMS,x.IsYellow(x)IsCircle(x))) exist(filter(ALL_ITEMS,x.IsBlue(x)IsRectangle(x)))</p>
  </div>
  <div class="page">
    <p>Analysis</p>
    <p>! ~150 abstract sentences cover 50% of CNLVR.</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>There is  One of the.  There are..  Exactly two..  There is  In two of.  There is..  There are..  There is..  One square..  There is..  One of the.  There are..  There is....  Two towers..  There are..  There is..  One circle.  There is..  Last one..</p>
    <p>abstraction</p>
    <p>There is  There are  C-Num of.  There is...........  One tower..  There are.  C-Num C-Shape  There is.  C-Num towers..  Another last</p>
    <p>~1300 abstract sentences</p>
  </div>
  <div class="page">
    <p>Abstraction</p>
    <p>! Data augmentation</p>
    <p>! Abstract cache</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions 17</p>
  </div>
  <div class="page">
    <p>Data Augmentation</p>
    <p>h</p>
    <p>h         exist(filter(ALL_ITEMS,x.IsC-COLOR(x)IsC-SHAPE(x)))</p>
    <p>h     exist(filter(ALL_ITEMS,x.IsBlue(x)IsSquare(x)))</p>
    <p>h     exist(filter(ALL_ITEMS,x.IsYellow(x)IsTriangle(x)))</p>
    <p>h     exist(filter(ALL_ITEMS,x.IsBlack(x)IsCircle(x)))</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions 18</p>
  </div>
  <div class="page">
    <p>Training Procedure</p>
    <p>~100 Abstract examples</p>
    <p>~6000 Instantiated examples Supervised model</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>Generation</p>
    <p>Supervised training</p>
    <p>Weakly supervised training</p>
    <p>initialization</p>
    <p>(abs. sent., abs. prog.)</p>
    <p>(sentence, program)</p>
    <p>(sentence, answer)</p>
  </div>
  <div class="page">
    <p>Abstract Cache</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions 20</p>
  </div>
  <div class="page">
    <p>Reward Tying</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
  </div>
  <div class="page">
    <p>:False</p>
    <p>:False</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>Reward Tying</p>
  </div>
  <div class="page">
    <p>Results</p>
  </div>
  <div class="page">
    <p>Models</p>
    <p>! Majority label (True)</p>
    <p>! Max Entropy classifier on extracted features</p>
    <p>! Supervised trained model (+Re-ranker)</p>
    <p>! Weakly supervised trained model (+Re-ranker)</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>Baselines (Suhr et al., 2017)</p>
  </div>
  <div class="page">
    <p>Results - Public test set</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>Majority MaxEnt Sup. Sup.+Rerank W.Sup. W.Sup.+Rerank</p>
    <p>Test-P Accuracy Test-P Consistency</p>
  </div>
  <div class="page">
    <p>Ablations</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>No data augmentation</p>
    <p>Abstract weakly supervised parser</p>
  </div>
  <div class="page">
    <p>Ablations</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions</p>
    <p>-Abstraction -Data augment. -Beam cache W.Sup.+Rerank</p>
    <p>Dev Accuracy Dev Consistency</p>
    <p>Cache addition</p>
    <p>Data augmentation addition</p>
  </div>
  <div class="page">
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>Conclusions</p>
    <p>! Similar ideas in: Dong and Lapata (2018) and Zhang et al. (2017)</p>
    <p>! Automation would be useful</p>
    <p>! Introduction ! Semantic parser ! Abstract examples ! Results ! Conclusions 29</p>
    <p>Closed domains</p>
    <p>Weak supervision</p>
    <p>Abstraction Better</p>
    <p>training</p>
    <p>Facilitate information sharing</p>
  </div>
  <div class="page">
    <p>Thank you</p>
    <p>https://github.com/udiNaveh/nlvr_tau_nlp_final_proj</p>
  </div>
</Presentation>
