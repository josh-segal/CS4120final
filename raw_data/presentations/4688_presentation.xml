<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>June 29, 2006 SIGMOD 2006, Chicago, IL 1</p>
    <p>Refreshing the Sky: The Compressed Skycube with Efficient Support for Frequent Updates</p>
    <p>Tian Xia and Donghui Zhang Northeastern University</p>
  </div>
  <div class="page">
    <p>Skyline Query</p>
    <p>A classic example revisited.</p>
    <p>t7 1 4</p>
    <p>Price Dist. To Beach</p>
    <p>t1 3 2</p>
    <p>t2 4 7</p>
    <p>t3 9 5</p>
    <p>t4 4 6</p>
    <p>t5 2 3</p>
    <p>t6 6 1</p>
    <p>Hotels in Nassau</p>
    <p>t5</p>
    <p>t6</p>
    <p>t7</p>
    <p>t1</p>
    <p>t4</p>
    <p>t2</p>
    <p>t3</p>
    <p>Dist. To Beach</p>
    <p>Price  The smaller, the better.  If no object is better than ti in all</p>
    <p>dimensions, ti is a skyline object.</p>
  </div>
  <div class="page">
    <p>t7 1 3 4 1</p>
    <p>u1 u2 u3 u4 t1 3 4 2 5</p>
    <p>t2 4 6 7 2</p>
    <p>t3 9 7 5 6</p>
    <p>t4 4 3 6 1</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>Subspace Skyline Query  What if users may issue skyline queries based on</p>
    <p>arbitrary subsets of dimensions?  Results of subspace skylines can be very different!</p>
    <p>u3</p>
    <p>u1</p>
    <p>t2</p>
    <p>t1</p>
    <p>t3t4</p>
    <p>t5 t6</p>
    <p>t7</p>
    <p>t5</p>
    <p>Skyline in u1, u3</p>
    <p>u4 1 2 3 4 5 6 7 8 9</p>
    <p>u3</p>
    <p>t5</p>
    <p>t6 t7</p>
    <p>t1</p>
    <p>t2</p>
    <p>t3</p>
    <p>t4</p>
    <p>Skyline in u3, u4Objects of 4-dimensions</p>
  </div>
  <div class="page">
    <p>Skycube (Yuan, et al., VLDB 2005)</p>
    <p>A d-dimensional space contains 2d-1 subspaces, and the subspaces of various users interests are unpredictable.</p>
    <p>On-the-fly computation does not achieve fast response time for an online system.</p>
    <p>Skycube is the collection of all subspace skyline results.</p>
    <p>u1u2u3u4</p>
    <p>u1u2 u3 u1u2u4 u1u3u4 u2u3u4</p>
    <p>u1 u2 u3 u4</p>
    <p>u1u2 u1u3 u1u4 u2u3 u2u4 u3u4</p>
    <p>Full-space skyline</p>
  </div>
  <div class="page">
    <p>Our Motivations (1)  In many scenarios of the subspace skyline</p>
    <p>applications, the data are changing constantly.  Example: In an online hotel-booking system,</p>
    <p>room prices change due to the availability.</p>
    <p>The previous Skycube paper focused only on the initial computation of the Skycube.</p>
    <p>A straightforward re-computation upon each update is extremely inefficient!</p>
  </div>
  <div class="page">
    <p>Our Motivations (2)</p>
    <p>The complete Skycube contains a huge number of duplicates.  Drawback 1: Waste of storage.  Drawback 2: Difficult to maintain.</p>
    <p>The large size of the Skycube and the large number of duplications cause the update of the Skycube inherently expensive.</p>
  </div>
  <div class="page">
    <p>Our Motivations (2)</p>
    <p>t4 4 3 6 1</p>
    <p>t9 2 2 3 7</p>
    <p>t7 1 3 4 1</p>
    <p>t1 3 4 2 5</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>u1 u2 u3 u4</p>
    <p>t2 4 6 7 2</p>
    <p>t3 9 7 5 6</p>
    <p>t8 6 5 3 8</p>
    <p>t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 u1 , u4 u2 , u3 u2 , u4 u3 , u4</p>
    <p>u1 , u2 , u3 u1 , u2 , u4 u1 , u3 , u4 u2 , u3 , u4</p>
    <p>u1 , u2 , u3 , u4</p>
    <p>t5 , t6 t1 , t5 , t6 , t7</p>
    <p>t1 , t5 , t6 , t7</p>
    <p>t5 , t6 , t7</p>
    <p>t5 , t6</p>
    <p>t5 , t6</p>
    <p>t6</p>
    <p>t7</p>
    <p>t1 , t5 , t6 , t7 , t9</p>
    <p>t5 , t6 , t7 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
    <p>Corresponding Skycube</p>
    <p>Full-space skyline objects</p>
    <p>Other skyline objects (not in full-space)</p>
    <p>t1 , t5 , t6 , t7 , t9</p>
  </div>
  <div class="page">
    <p>Our Motivations (3)  Tradeoffs</p>
    <p>The complete Skycube:  Fast query response.  High update cost.</p>
    <p>On-the-fly computation:  Slow query response.  Low update cost.</p>
  </div>
  <div class="page">
    <p>Our Solution  The Compressed Skycube</p>
    <p>We propose a new storage model for the Skycube, which greatly reduces the storage.</p>
    <p>We propose a new object-aware update scheme, which avoids unnecessary disk access and cuboids' computation.</p>
    <p>By taking advantages of the compact structure and our update scheme, the Compressed Skycube achieves both fast query response and very efficient update.</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Background and Motivations  The Compressed Skycube  Experimental Results  Conclusions</p>
  </div>
  <div class="page">
    <p>Minimum Subspace</p>
    <p>DEFINITION: Given an object t, the minimum subspaces of t, denoted as mss(t), satisfies the following two conditions:</p>
  </div>
  <div class="page">
    <p>Minimum Subspace t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 u1 , u4 u2 , u3 u2 , u4 u3 , u4</p>
    <p>u1 , u2 , u3 u1 , u2 , u4 u1 , u3 , u4 u2 , u3 , u4</p>
    <p>u1 , u2 , u3 , u4</p>
    <p>t5 , t6 t1 , t5 , t6 , t7</p>
    <p>t1 , t5 , t6 , t7</p>
    <p>t5 , t6 , t7</p>
    <p>t5 , t6</p>
    <p>t5 , t6</p>
    <p>t6</p>
    <p>t7</p>
    <p>t1 , t5 , t6 , t7 , t9</p>
    <p>t5 , t6 , t7 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
    <p>t1 , t5 , t6 , t7 , t9</p>
    <p>Object t6 appears in the skylines of 12 cuboids.</p>
    <p>The minimum subspaces of t6 are only 2 cuboids.</p>
    <p>t4 u4</p>
    <p>t9 u1, u2, u1, u3</p>
    <p>t7 u1, u4</p>
    <p>t1 u1, u3</p>
    <p>t5 u4, u1, u2, u1, u3</p>
    <p>t6 u2, u3</p>
    <p>Minimum Subspaces</p>
  </div>
  <div class="page">
    <p>The Compressed Skycube  DEFINITION: The Compressed Skycube (CSC)</p>
    <p>consists of non-empty cuboids U, such that an object t is stored in a cuboid U if and only if U mss(t).</p>
    <p>t4 u4</p>
    <p>t9 u1, u2, u1, u3</p>
    <p>t7 u1, u4</p>
    <p>t1 u1, u3</p>
    <p>t5 u4, u1, u2, u1, u3</p>
    <p>t6 u2, u3</p>
    <p>Minimum Subspaces</p>
    <p>t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 t1 , t5 , t9</p>
    <p>t5 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
    <p>Cuboids of CSC</p>
  </div>
  <div class="page">
    <p>Querying CSC  Overview example: query space Uq = u2, u3 , u4</p>
    <p>u1 u2 u3 u4</p>
    <p>t4 4 3 6 1</p>
    <p>t9 2 2 3 7</p>
    <p>t7 1 3 4 1</p>
    <p>t1 3 4 2 5</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 t1 , t5 , t9</p>
    <p>t5 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
    <p>Search within the cuboids which are the subsets of Uq.  Compare the objects only within a candidate cuboid to filter out</p>
    <p>false positives.</p>
    <p>t6</p>
    <p>t5</p>
  </div>
  <div class="page">
    <p>u1 u2 u3 u4</p>
    <p>Querying CSC  LEMMA 1: Given a query space Uq and an object t, if for any</p>
    <p>subspace Ui in mss(t), Ui  Uq, then t is not in the skyline of Uq.  Lemma 1 implies two important facts:</p>
    <p>process.</p>
    <p>Example: Uq = u2, u3 , u4 , and t9 can be safely pruned.</p>
    <p>t4 4 3 6 1</p>
    <p>t9 2 2 3 7</p>
    <p>t7 1 3 4 1</p>
    <p>t1 3 4 2 5</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 t1 , t5 , t9</p>
    <p>t5 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
  </div>
  <div class="page">
    <p>u1 u2 u3 u4</p>
    <p>Querying CSC  LEMMA 2 (Local Comparison): To check a candidate t in a cuboid V</p>
    <p>Uq, we only need to compare t with the objects within the same cuboid.</p>
    <p>Example: Uq = u2, u3 , u4 , and the skyline of Uq is {t5, t6}.  No comparison is needed for t6. And t5, t7, t4 are only locally</p>
    <p>compared to each other.</p>
    <p>t4 4 3 6 1</p>
    <p>t9 2 2 3 7</p>
    <p>t7 1 3 4 1</p>
    <p>t1 3 4 2 5</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 t1 , t5 , t9</p>
    <p>t5 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
  </div>
  <div class="page">
    <p>Updating CSC  Intuitions:</p>
    <p>Not all updates of objects need to access the dataset.  Not all updates of objects need to re-compute the skyline of a</p>
    <p>cuboid.  These intuitions are supported by our theorems.</p>
    <p>D: full-space; sky(D): full-space skyline.  t: object before update; tnew: object after update.</p>
    <p>t  sky(D) No dataset</p>
    <p>(disk) access</p>
    <p>tnew  sky(D)</p>
    <p>tnew  sky(D)</p>
    <p>No cuboid computation. Existing CSC objects are not changed.</p>
    <p>Existing CSC objects may be removed or move to other cuboids.May access</p>
    <p>dataset (disk) t  sky(D) Insert new</p>
    <p>skyline objects</p>
    <p>Considering the proportion of full-space skyline objects in the whole dataset, the above covers most cases of the updates</p>
  </div>
  <div class="page">
    <p>Updating CSC  t  sky(D) and tnew  sky(D)</p>
    <p>Key points:  Compare tnew with existing full-space skyline objects (sky(D)).  mss(tnew) is determined by any dominating object in sky(D).</p>
    <p>t7 1 3 4 1</p>
    <p>t1 3 4 2 5</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>u1 u2 u3 u4</p>
    <p>t4 4 3 6 1</p>
    <p>t7</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3</p>
    <p>t5 , t7 , t4</p>
    <p>t6</p>
    <p>t6</p>
    <p>t9 2 2 3 7</p>
    <p>t5 , t9</p>
    <p>t1 , t5 , t9</p>
    <p>t4 u4</p>
    <p>t7 u1, u4</p>
    <p>t1 u1, u3</p>
    <p>t5 u4, u1, u2, u1, u3</p>
    <p>t6 u2, u3</p>
    <p>Minimum Subspaces</p>
    <p>t9 u1, u2, u1, u3</p>
  </div>
  <div class="page">
    <p>u1 u2 u3 u4</p>
    <p>Updating CSC  t  sky(D) and tnew  sky(D)</p>
    <p>Key points:  Existing objects may be removed or move to super-set cuboids.  Determine mss(tnew) is not intuitive in this case. A new recursion</p>
    <p>based approach is proposed to avoid unnecessary computations.</p>
    <p>t4 4 3 6 1</p>
    <p>t9 2 2 3 7</p>
    <p>t7 1 3 4 1</p>
    <p>t1 3 4 2 5</p>
    <p>t5 2 2 3 1</p>
    <p>t6 6 1 1 3</p>
    <p>t7 , t10</p>
    <p>Cuboid Skyline</p>
    <p>u1 u2 u3 u4</p>
    <p>u1 , u2 u1 , u3 t1 , t5 , t9</p>
    <p>t5 , t9</p>
    <p>t5 , t7 , t4</p>
    <p>t6 , t10</p>
    <p>t6</p>
    <p>t4 u4</p>
    <p>t9 u1, u2, u1, u3</p>
    <p>t7 u1, u4</p>
    <p>t1 u1, u3</p>
    <p>t5 u4, u1, u2, u1, u3</p>
    <p>t6 u2, u3</p>
    <p>Minimum Subspaces</p>
    <p>t10 1 3 1 3 t10 u1, u3</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Background and Motivations  The Compressed Skycube  Experimental Results  Conclusions</p>
  </div>
  <div class="page">
    <p>Storage Comparison  Settings:</p>
    <p>Dimensionality (Full-space)  [4, 8]; default = 6.  Cardinality  [100K, 500K]; default = 300K.  Distribution: Independent, Corr, Anti-Corr.</p>
    <p>Logarithmic Scale!</p>
  </div>
  <div class="page">
    <p>Query Performance  Queries on the complete skycube do not involve</p>
    <p>computations, their time is not reported.  This set of experiments verifies that the query</p>
    <p>response of the CSC is indeed very fast.</p>
  </div>
  <div class="page">
    <p>Update Performance  General update  Updates are from</p>
    <p>random objects in the whole dataset.</p>
    <p>Skycube is re-computed from scratch.</p>
    <p>Full-space skyline update.  Updates are from random</p>
    <p>full-space skyline objects.  Skycube is re-computed</p>
    <p>from existing skylines plus new candidates.</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Background and Motivations  The Compressed Skycube  Experimental Results  Conclusions</p>
  </div>
  <div class="page">
    <p>Conclusions  We addressed the update support of the skycube in</p>
    <p>dynamic environment, and provided an efficient and scalable solution for online skyline query system.</p>
    <p>We proposed a compact structure, the compressed skycube, with about 10% disk space of the complete skycube and fast query response.</p>
    <p>We proposed an object-aware update scheme, such that different updates trigger different amount of computation. Our CSC outperforms the Skycube in update by several orders of magnitude.</p>
  </div>
  <div class="page">
    <p>June 29, 2006 SIGMOD 2006, Chicago, IL 26</p>
    <p>Thank you!</p>
    <p>Questions?</p>
    <p>Tian Xia and Donghui Zhang. Refreshing the Sky: the Compressed Skycube with Efficient Support for Frequent Updates. SIGMOD 2006.</p>
  </div>
</Presentation>
