<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Cross-Layer Optimization for Video Streaming in SingleHop Wireless Networks Cheng-Hsin Hsu</p>
    <p>Joint Work with Mohamed Hefeeda</p>
    <p>MMCN 09 January 19, 2009</p>
    <p>Simon Fraser University, Canada</p>
  </div>
  <div class="page">
    <p>Video Optimization in Wireless Networks</p>
    <p>Resource Allocation Problem -- shared air medium</p>
  </div>
  <div class="page">
    <p>Video Optimization Problem</p>
    <p>Goal: maximize video quality for stations by properly allocating shared resources</p>
    <p>Challenge: stations have diverse constraints  channel conditions  processing powers  energy levels  video characteristics</p>
    <p>Approach:  propose a cross-layer optimization framework  then, instantiate the framework for 802.11e WLANs</p>
  </div>
  <div class="page">
    <p>Video Optimization Framework</p>
    <p>The</p>
    <p>Optimization</p>
    <p>Algorithm</p>
    <p>Complexity Scalable</p>
    <p>Video Coder</p>
    <p>QoS-Enabled Controller</p>
    <p>Radio Module</p>
    <p>APP</p>
    <p>LINK</p>
    <p>PHY</p>
    <p>P-R-D Characteristics</p>
    <p>Opt. Coding Rate</p>
    <p>MAC Parameters</p>
    <p>Opt. Bandwidth</p>
    <p>Channel Rate</p>
    <p>Share Allocation</p>
  </div>
  <div class="page">
    <p>Complexity Scalable Video Coders</p>
    <p>Coding Power</p>
    <p>D is</p>
    <p>to rt</p>
    <p>io n</p>
    <p>P-R-D models relate distortion as a func D(.) of rs (coding rate), ps (coding power), and V (video characteristics)</p>
    <p>The Optimization</p>
    <p>Algorithm</p>
    <p>P-R-D</p>
    <p>Characteristics</p>
    <p>Opt.</p>
    <p>Coding Rate</p>
    <p>Complexity Scalable Coder</p>
    <p>Complexity Scalable Coder</p>
  </div>
  <div class="page">
    <p>QoS Enabled Controller</p>
    <p>Link Layer  achieves/enforces QoS differentiation  allocates bandwidth (bs) to station s, s.t. ,</p>
    <p>where B(.) is the link capacity  Physical layer</p>
    <p>diverse channel rate (ys)</p>
    <p>bs</p>
    <p>The Optimization</p>
    <p>Algorithm</p>
    <p>QoS-Enabled Controller</p>
    <p>QoS-Enabled Controller</p>
    <p>Opt. Share of</p>
    <p>Bandwidth</p>
    <p>MAC Parameters</p>
    <p>Channel Rate</p>
  </div>
  <div class="page">
    <p>Find Opt. policy</p>
    <p>such that</p>
    <p>s.t.</p>
    <p>Capacity B(.) is a function of  # of stations, link protocols, channel rates</p>
    <p>Distortion D(.) is a function of  coding rate, coding power, video characteristics</p>
    <p>General Formulation</p>
    <p>bs</p>
    <p>(rs *, bs</p>
    <p>* ) | 1</p>
    <p>PG : min</p>
    <p>rs : coding rate bs : b/w share</p>
  </div>
  <div class="page">
    <p>General Formulation (cont.)</p>
    <p>Formulation PG is general  any D(.) and B(.) can be adopted  can be numerically or analytically solved</p>
    <p>Different objective functions  MMSE: minimizing average mean-square error</p>
    <p>MMAX: minimizing maximum distortion</p>
    <p>PG : min</p>
    <p>PG : min</p>
    <p>maxs=1 S D( )</p>
  </div>
  <div class="page">
    <p>Instantiate PG for 802.11e WLAN 9</p>
    <p>802.11e is a supplement for supporting QoS  Why 802.11e?</p>
    <p>widely deployed, QoS differentiation, more challenging than TDMA networks</p>
    <p>802.11e supports two modes  EDCA: distributed contention-based  HCCA: polling-based contention-free</p>
    <p>Why EDCA?  simple, commonly implemented, higher b/w utilization</p>
  </div>
  <div class="page">
    <p>EDCA Overview 10</p>
    <p>QoS differentiation: several Access Categories (ACs)</p>
    <p>Each AC is assigned different back-off parameters</p>
    <p>AC Voice Video Best-Effort Background</p>
    <p>AIFS 2 2 5 7</p>
    <p>CWmin 3 7 15 15</p>
    <p>CWmax 7 15 1023 1023</p>
    <p>TXOP 4096 2048 1024 1024</p>
  </div>
  <div class="page">
    <p>EDCA Overview (cont.) 11</p>
    <p>AIFS: Arbitration Inter Frame Space  CW: Contention Window  TXOP: Transmission Opportunity</p>
    <p>Medium is Busy</p>
    <p>Back-off Time</p>
    <p>Transmission</p>
    <p>AIFS TXOP</p>
    <p>Random Back-off Time from CW</p>
    <p>Start Transmission</p>
    <p>Medium is idle</p>
  </div>
  <div class="page">
    <p>Per-Station QoS Differentiation 12</p>
    <p>Assign different EDCA parameters to stations</p>
    <p>CW, AIFS , then frequency and bandwidth</p>
    <p>TXOP , then transmission time and bandwidth</p>
    <p>But, how we choose the EDCA parameters to achieve a given bandwidth share?</p>
    <p>More importantly, how can we estimate overhead &amp; collisions</p>
  </div>
  <div class="page">
    <p>Airtime and Efficient Airtime 13</p>
    <p>Bandwidth allocation == airtime allocation  Airtime: let be the fraction of time</p>
    <p>allocated to station s  rs: application (streaming) rate</p>
    <p>ys: channel rate</p>
    <p>Effective Airtime: the fraction of time when the shared medium transmits real data  overhead and collisions are deducted</p>
    <p>s = rs ys</p>
    <p>EA</p>
  </div>
  <div class="page">
    <p>Our Effective Airtime Model 14</p>
    <p>p-persistent EDCA Analysis [Ge et. Al 07]  wireless station draws the back-off time from a</p>
    <p>geometric distribution with parameter p  stateless, so more tractable  analysis can be mapped to EDCA using</p>
    <p>We develop a closed-form EA model</p>
    <p>p = 2</p>
    <p>CW min + 2</p>
    <p>EA Model EDCA</p>
    <p>Parameters</p>
    <p>Effective</p>
    <p>Airtime</p>
  </div>
  <div class="page">
    <p>Effective Airtime Model (cont.) 15</p>
    <p>EA = 1</p>
    <p>E[x] + 1 +</p>
    <p>CW min</p>
    <p>S 1</p>
    <p>where is a function of several 802.11 parameters, such as AIFS.</p>
    <p>relatively small</p>
    <p>&gt;= 1</p>
  </div>
  <div class="page">
    <p>Effective Airtime Model (cont.) 16</p>
    <p>It is indeed small and can be dropped</p>
  </div>
  <div class="page">
    <p>s.t.</p>
    <p>where</p>
    <p>But, what is D(.)?</p>
    <p>P : min</p>
    <p>s s =1 S</p>
    <p>EA s = rs ys s = {s = rs ys | 1  s  S}</p>
  </div>
  <div class="page">
    <p>MPEG-4 P-R-D Model [He et al. 05] 18</p>
    <p>Distortion  : video sequence variance  : coder efficiency  : power consumption</p>
    <p>For convenience, we let</p>
    <p>Ds</p>
    <p>s 2</p>
    <p>s</p>
    <p>ps</p>
    <p>s =  s 2</p>
    <p>s =  s ys ps 1/ 3</p>
  </div>
  <div class="page">
    <p>Optimal Solution 19</p>
    <p>Solve it using Lagrangian method for closed-form solutions</p>
    <p>s * =</p>
    <p>1  s</p>
    <p>log2  *</p>
    <p>s s ln 2</p>
    <p>log2  * =</p>
    <p>log2  s s ln 2  s</p>
    <p>s=1</p>
    <p>S   EA</p>
    <p>s=1</p>
    <p>S</p>
    <p>at base station</p>
    <p>at wireless station</p>
  </div>
  <div class="page">
    <p>Optimal Allocation Algorithm 20</p>
    <p>Base Station</p>
    <p>Wireless Station 1</p>
    <p>Wireless Station 2</p>
    <p>Wireless Station 3</p>
    <p>1,1</p>
    <p>2, 2</p>
    <p>3, 3</p>
    <p>*</p>
    <p>*</p>
    <p>*</p>
    <p>Compute and</p>
    <p>adjust TXOP</p>
    <p>1 *</p>
    <p>Compute and</p>
    <p>adjust TXOP</p>
    <p>2 *</p>
    <p>Compute and</p>
    <p>adjust TXOP</p>
    <p>3 *</p>
  </div>
  <div class="page">
    <p>OPNET Simulations 21</p>
    <p>Implement log-normal path loss model  more realistic simulations  OPNET uses free space model by default</p>
    <p>Implement resource allocation algorithms on two new wireless nodes  base station, wireless station</p>
    <p>Implement two algorithms  EDCA (current algorithm), and OPT (our algorithm)</p>
  </div>
  <div class="page">
    <p>Simulation Setup 22</p>
    <p>deploy 6~8 of wireless stations  wireless stations stream videos to base station  each wireless station periodically (every 5 secs)</p>
    <p>reports its status to base station  base station computes the allocation  each wireless station configures its TXOP limit  base station collects stats, such as receiving rate</p>
    <p>and video quality</p>
  </div>
  <div class="page">
    <p>Validation of our EA Model 23</p>
    <p>The empirical Effective Airtime follows our estimation (69%)</p>
  </div>
  <div class="page">
    <p>Potential Quality Improvement 24</p>
    <p>About 28% Distortion Reduction</p>
  </div>
  <div class="page">
    <p>Dynamic Channel Conditions 25</p>
    <p>OPT works in dynamic environments OPT outperforms opt. algms in ind. layers.</p>
  </div>
  <div class="page">
    <p>Real 802.11e Testbed 26</p>
    <p>Use Atheoros AR5005G 802.11e chip  Implement OPT and EDCA algorithms in its Linux</p>
    <p>driver  Configure a base station and two wireless stations  Wireless stations report status every 10 sec</p>
  </div>
  <div class="page">
    <p>Sample Result from the Testbed 27</p>
    <p>Quality improvement: up to 100% in MSE, or 3 dB in PSNR</p>
  </div>
  <div class="page">
    <p>Conclusions 28</p>
    <p>Proposed a general video optimization framework  Instantiated the problem for 802.11e networks  Presented models for 802.11e and developed an</p>
    <p>effective airtime model  Analytically solved the optimization problem  Evaluated the solution using OPNET simulator and</p>
    <p>real implementation. Both show promising quality improvements.</p>
  </div>
</Presentation>
