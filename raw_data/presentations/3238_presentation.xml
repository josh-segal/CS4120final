<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Anatomization and Protection of Mobile Apps Location Privacy Threats</p>
    <p>Kassem Fawaz, Huan Feng, and Kang G. Shin</p>
    <p>Computer Science &amp; Engineering</p>
    <p>The University of Michigan</p>
  </div>
  <div class="page">
    <p>Apps Location Privacy</p>
    <p>What can we do about it?</p>
  </div>
  <div class="page">
    <p>Apps Location Privacy</p>
    <p>More than a decade of research</p>
    <p>Lots of location privacy protection mechanisms</p>
    <p>E.g., LP-Guardian, MockDroid, Cach, Koi, etc.</p>
    <p>Few implementations/deployments:</p>
    <p>Some have not been implemented with real-world apps</p>
    <p>Others very difficult to deploy (require custom ROMS, etc.)</p>
    <p>We are left with what OSes provide us</p>
  </div>
  <div class="page">
    <p>Mobile OS Location Controls</p>
    <p>Install time permissions</p>
    <p>Per-app location switch Background location access</p>
    <p>http://arstechnica.com/gadgets/2015/05/android-m-dev-preview-launches-permission-controls-fingerprint-api-and-more/ https://support.apple.com/library/content/dam/edam/applecare/images/en_US/applecare/location_background.png</p>
  </div>
  <div class="page">
    <p>Apps Location Privacy</p>
    <p>Are OS-based controls effective in protecting the users location privacy?</p>
    <p>If not, how can they be improved, in userlevel, without modifying any app or the OS?</p>
  </div>
  <div class="page">
    <p>This Talk</p>
    <p>Measurement</p>
    <p>Collect app-tagged location traces</p>
    <p>Study location access and usage patterns of different apps</p>
    <p>Anatomy</p>
    <p>Quantify location privacy threat for apps</p>
    <p>Analyze effectiveness of OS controls</p>
    <p>LP-Doctor</p>
    <p>Leverage OS controls to balance utility and privacy</p>
    <p>Easy to install and use</p>
    <p>Measurement and LP-Doctor are based on Android, but conclusions apply to other platforms</p>
  </div>
  <div class="page">
    <p>Measurement</p>
  </div>
  <div class="page">
    <p>Measurement</p>
    <p>&lt; x, y, e, t1&gt;</p>
    <p>&lt; x, y, e, t3&gt;</p>
    <p>&lt;app, x, y, e, t1&gt;</p>
    <p>&lt;app, x, y, e, t2&gt;</p>
    <p>&lt;app, x, y, e, t3&gt;</p>
    <p>.</p>
    <p>A p</p>
    <p>p r</p>
    <p>u n</p>
    <p>s in</p>
    <p>: Foreground Location granularity &amp; frequency</p>
    <p>Cached Location granularity &amp;</p>
    <p>frequency</p>
    <p>Background Location granularity &amp;</p>
    <p>frequency</p>
    <p>Location-access pattern = F(app)  offline analysis</p>
    <p>App-usage pattern = F(user)  user-level collection</p>
    <p>Apptagged location traces</p>
  </div>
  <div class="page">
    <p>Location-Access Patterns</p>
    <p>Location permissions</p>
    <p># apps Foreground (%)</p>
    <p>Cached (%)</p>
    <p>Background (%)</p>
    <p>None (%)</p>
    <p>Coarse Granularity enough (%)</p>
    <p>Coarse 210 71 6 1 22 100</p>
    <p>Fine 955 74 14 4 12 48</p>
    <p>All 1165 74 12 3 14 66</p>
    <p>Apps abuse the location permissions  Minority of the apps continuously access location  Focus on foreground location access</p>
  </div>
  <div class="page">
    <p>App Usage Patterns Analysis</p>
    <p>List of app sessions:</p>
    <p>Three datasets:</p>
    <p>App-Usage Patterns</p>
    <p>RTCL PhoneLab LiveLab</p>
    <p>Participants 25 95 30</p>
    <p>Period 1 week - 10 months 1 week - 4 months 1 year</p>
    <p>Location Ann Arbor, MI Buffalo, NY Houston, TX</p>
    <p>com.whatsapp,1395247179636,America/New_York,75,placeID:1,placeID:1</p>
  </div>
  <div class="page">
    <p>Location-Access Model</p>
    <p>App session maps to a place the user visited</p>
    <p>98% of app sessions started and ended at the same place</p>
    <p>Model app as a histogram</p>
    <p>Map place to number of visits</p>
    <p>Sample of users mobility</p>
  </div>
  <div class="page">
    <p>Anatomy</p>
  </div>
  <div class="page">
    <p>Location Privacy Metrics</p>
    <p>Capture and quantify the users original mobility pattern with the apps histogram</p>
    <p>Probability of user visiting place</p>
    <p># of visits app observed user at place</p>
  </div>
  <div class="page">
    <p>Location Privacy Metrics</p>
    <p>Four privacy metrics:</p>
    <p>PoItotal: Portion of users identified significant places  The closer to 1, the more places are identified</p>
    <p>PoIsens: Portion of identified rarely visited places  Represent deviant behaviors which are more sensitive</p>
    <p>Profcont: KL divergence between histogram and mobility pattern  Distance between apps observation and users mobility profile</p>
    <p>Profbin:  2 test with significance level of 0.05</p>
    <p>Whether the histogram (sample) is a good fit of the mobility pattern</p>
  </div>
  <div class="page">
    <p>Metric Insight</p>
    <p>PoItotal  For each user: 20% of apps, each, identified most PoIs  Most apps identified users top two PoIs</p>
    <p>PoIsens  For each user: 20% of apps identified most sensitive PoIs  A&amp;A libraries identified more of the sensitive PoIs</p>
    <p>Profcont  No correlation between app usage frequency and privacy threats  A&amp;A posing significantly more threats  Value mostly larger than 0</p>
    <p>histograms are not uniform samples of users mobility</p>
    <p>Threat Anatomy</p>
  </div>
  <div class="page">
    <p>Metric Insight</p>
    <p>PoItotal  For each user: 20% of apps, each, identified most PoIs  Most apps identified users top two PoIs</p>
    <p>PoIsens  For each user: 20% of apps identified most sensitive PoIs  A&amp;A libraries identified more of the sensitive PoIs</p>
    <p>Profcont  No correlation between app usage frequency and privacy threats  A&amp;A posing significantly more threats  Value mostly larger than 0</p>
    <p>histograms are not uniform samples of users mobility</p>
    <p>Threat Anatomy</p>
  </div>
  <div class="page">
    <p>Metric Insight</p>
    <p>PoItotal  For each user: 20% of apps, each, identified most PoIs  Most apps identified users top two PoIs</p>
    <p>PoIsens  For each user: 20% of apps identified most sensitive PoIs  A&amp;A libraries identified more of the sensitive PoIs</p>
    <p>Profcont  No correlation between app usage frequency and privacy threats  A&amp;A posing significantly more threats  Value mostly larger than 0</p>
    <p>histograms are not uniform samples of users mobility</p>
    <p>Threat Anatomy</p>
  </div>
  <div class="page">
    <p>Metric Insight</p>
    <p>PoItotal  For each user: 20% of apps, each, identified most PoIs  Most apps identified users top two PoIs</p>
    <p>PoIsens  For each user: 20% of apps identified most sensitive PoIs  A&amp;A libraries identified more of the sensitive PoIs</p>
    <p>Profcont  No correlation between app usage frequency and privacy threats  A&amp;A posing significantly more threats  Value mostly larger than 0</p>
    <p>histograms are not uniform samples of users mobility</p>
    <p>Threat Anatomy</p>
  </div>
  <div class="page">
    <p>Are OS-Controls Effective?</p>
    <p>Android location permissions  Fail as a notification and choice mechanism</p>
    <p>App-usage behavior is independent from apps location permissions</p>
    <p>Background location blocking  Limits tracking (less than 10 minutes a day) but not profiling</p>
    <p>Per-app permissions  Need to block location access of 10% of apps to neutralize each A&amp;A library</p>
    <p>Take-it or leave-it situation  Users cant control when and where an app can access location</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
  </div>
  <div class="page">
    <p>LP-Doctor: WHY?</p>
    <p>Per-session location access control is needed</p>
    <p>Existing OSes dont provide an easy interface</p>
    <p>User cant decide on threat level, especially for A&amp;A libraries</p>
    <p>Our Solution: LP-Doctor  a user-level tool that:</p>
    <p>Leverages and complements existing OS-controls</p>
    <p>Is easy to install and use</p>
  </div>
  <div class="page">
    <p>Threat Model</p>
    <p>Whats in?  Honest-but-curious adversaries</p>
    <p>Service providers or Advertisement and Analytics (A&amp;A) agencies  Access location only through location APIs  Foreground location access</p>
    <p>Whats out?  Background location access</p>
    <p>Some platforms are providing controls like iOS</p>
    <p>Operating systems and cellular operators  Users have no choice but to trust them</p>
    <p>Security issues</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
    <p>What happens when the user installs an app?</p>
    <p>Apply protection before each session</p>
    <p>Level decides:  Amount of noise added  Sensitivity level for</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
    <p>What happens when the user runs an app?</p>
    <p>Intercept app launch event</p>
    <p>Fetch policy</p>
    <p>Threat analyzer</p>
    <p>Anonymization actuation</p>
    <p>Display notification</p>
    <p>Instruct app to launch</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
    <p>Intercept app launch event</p>
    <p>Fetch policy</p>
    <p>Threat analyzer</p>
    <p>Anonymization actuation</p>
    <p>Display notification</p>
    <p>Instruct app to launch</p>
    <p>Compute  for before ( ) and after histogram ( )</p>
    <p>&gt;</p>
    <p>Compute</p>
    <p>= 1?</p>
    <p>Protect location</p>
    <p>Release location</p>
    <p>Release location</p>
    <p>Yes No</p>
    <p>Yes No</p>
    <p>What happens when the user runs an app?</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
    <p>Intercept app launch event</p>
    <p>Fetch policy</p>
    <p>Threat analyzer</p>
    <p>Anonymization actuation</p>
    <p>Display notification</p>
    <p>Instruct app to launch</p>
    <p>What happens when the user runs an app?</p>
    <p>indistinguishability</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
    <p>Intercept app launch event</p>
    <p>Fetch policy</p>
    <p>Threat analyzer</p>
    <p>Anonymization actuation</p>
    <p>Display notification</p>
    <p>Instruct app to launch</p>
    <p>Remove noise</p>
    <p>What happens when the user runs an app?</p>
    <p>Reduce noise  user adjusts privacy  QoS trade-off</p>
  </div>
  <div class="page">
    <p>LP-Doctor</p>
    <p>Intercept app launch event</p>
    <p>Fetch policy</p>
    <p>Threat analyzer</p>
    <p>Anonymization actuation</p>
    <p>Display notification</p>
    <p>Instruct app to launch</p>
    <p>What happens when the user runs an app?</p>
  </div>
  <div class="page">
    <p>User Study</p>
    <p>Enable mock locations on Android</p>
    <p>Reinstall Facebook or Yelp</p>
    <p>Search for restaurant using Yelp</p>
    <p>Check-in from a nearby place using Facebook</p>
    <p>One time effort</p>
    <p>Installation menu</p>
    <p>Notifications &amp; Impact on QoS</p>
    <p>Recruited 227 participants from Amazon Mechanical Turk</p>
    <p>Used LP-Doctor with Yelp (N = 120) and Facebook (N = 122)</p>
  </div>
  <div class="page">
    <p>User Study</p>
    <p>Installation Menu</p>
    <p>Notification</p>
    <p>Usable</p>
    <p>Informative</p>
    <p>Control</p>
    <p>Useful</p>
    <p>Use again</p>
    <p>Appears only once for each 5 installed apps</p>
    <p>Usable</p>
    <p>Facebook</p>
    <p>Yelp</p>
    <p>Use again</p>
    <p>Appears for 12% of sessions on average</p>
  </div>
  <div class="page">
    <p>User Study</p>
    <p>Yelp</p>
    <p>Facebook</p>
    <p>Runs normally</p>
    <p>Relevant results</p>
    <p>No change in user experience</p>
    <p>Coarse location</p>
    <p>LP-Doctor adds noise automatically for 12% of the sessions on average of each app</p>
    <p>Runs normally</p>
    <p>Relevant places</p>
    <p>No change in user experience</p>
    <p>Coarse location</p>
  </div>
  <div class="page">
    <p>User Study</p>
    <p>Post study questions</p>
    <p>Comfortable with fake location?</p>
    <p>Yelp</p>
    <p>I don't know No Yes</p>
    <p>Comfortable with fake location?</p>
    <p>Facebook</p>
    <p>I don't know No Yes</p>
    <p>Install LP-Doctor or similar tool?</p>
    <p>LP-Doctor</p>
    <p>I don't know No Yes</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Location privacy is a serious problem</p>
    <p>Existing research proposals are impractical</p>
    <p>Are OS-controls enough?</p>
    <p>Measured threats from &gt; 400 apps as used by &gt; 100 users</p>
    <p>Found that OS-controls are ineffective and inefficient</p>
    <p>We propose LP-Doctor that is practical and effective</p>
    <p>Future work:</p>
    <p>Test LP-Doctor in the wild to study deployment challenges</p>
  </div>
  <div class="page">
    <p>Thank You!</p>
    <p>Questions?</p>
    <p>Kassem Fawaz</p>
    <p>kmfawaz@umich.edu</p>
    <p>github.com/kmfawaz/LP-Doctor</p>
  </div>
</Presentation>
