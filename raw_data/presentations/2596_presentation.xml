<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>How$speedy$is$SPDY?</p>
    <p>Xiao%(Sophia)%Wang,$Aruna$Balasubramanian,$Arvind$ Krishnamurthy,$David$Wetherall$</p>
    <p>University*of*Washington*</p>
  </div>
  <div class="page">
    <p>HTTP/1.1:(The(standard( to(load(Web(pages</p>
    <p>HTTP/1.1'becomes(slow( for(rich,(modern(pages</p>
    <p>Google(developed(SPDY( to(make(the(Web(faster</p>
    <p>A(StarCng(to(be(deployed( A(Basis(for(HTTP/2.0(now( being(standardized</p>
  </div>
  <div class="page">
    <p>HTTP/1.1:(The(standard( to(load(Web(pages</p>
    <p>HTTP/1.1'becomes(slow( for(rich,(modern(pages</p>
    <p>Google(developed(SPDY( to(make(the(Web(faster</p>
    <p>A(StarCng(to(be(deployed( A(Basis(for(HTTP/2.0(now( being(standardized</p>
    <p>?How$much$better$is$SPDY$than$HTTP?</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>HTTP/1.1$problems Client</p>
    <p>Server</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>Opens$too$many$TCP$connections$</p>
    <p>HTTP/1.1$problems</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>Opens$too$many$TCP$connections$  Initiates$object$transfers$strictly$by$</p>
    <p>the$client$</p>
    <p>HTTP/1.1$problems</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>HTTP/1.1$200$OK\r\n$ .Date:$Fri,$21$Mar$2014\r\n$ .Server:$Apache/2.2.26\r\n$ \r\n$ ********************$ ********************</p>
    <p>Uncompressed</p>
    <p>Compressed</p>
    <p>Opens$too$many$TCP$connections$  Initiates$object$transfers$strictly$by$</p>
    <p>the$client$  Compresses$only$HTTP$payloads,$</p>
    <p>not$headers</p>
    <p>HTTP/1.1$problems</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>Opens$too$many$TCP$connections$  Initiates$object$transfers$strictly$by$</p>
    <p>the$client$  Compresses$only$HTTP$payloads,$</p>
    <p>not$headers</p>
    <p>HTTP/1.1$200$OK\r\n$ .Date:$Fri,$21$Mar$2014\r\n$ .Server:$Apache/2.2.26\r\n$ \r\n$ ********************$ ********************</p>
    <p>Uncompressed</p>
    <p>Compressed SPDY$is$proposed$to$ address$these$issues</p>
    <p>HTTP/1.1$problems</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>SPDY</p>
    <p>Opens$too$many$TCP$connections$  Multiplexes$sliced$frames$into$a$</p>
    <p>single$TCP$connection$</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>SPDY</p>
    <p>Opens$too$many$TCP$connections$  Multiplexes$sliced$frames$into$a$</p>
    <p>single$TCP$connection$  Prioritizes$Web$objects$</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>SPDY</p>
    <p>Initiates$object$transfers$strictly$by$ the$client$</p>
    <p>Allows$servers$to$initiate$Web$ object$transfers$</p>
  </div>
  <div class="page">
    <p>Client</p>
    <p>Server</p>
    <p>SPDY</p>
    <p>********************$ ********************$ ********************$ ********************</p>
    <p>Compressed</p>
    <p>Compressed</p>
    <p>Compresses$only$HTTP$payloads,$ not$headers$</p>
    <p>Compresses$both$HTTP$payloads$ and$headers</p>
  </div>
  <div class="page">
    <p>SPDY$helps$27%$to$60%</p>
    <p>SPDY$sometimes$helps$and$ sometimes$hurts.$ Overall,$SPDY$helps$&lt;%10%.</p>
    <p>How$well$does$SPDY$perform?</p>
  </div>
  <div class="page">
    <p>SPDY$helps$27%$to$60%</p>
    <p>SPDY$sometimes$helps$and$ sometimes$hurts.$ Overall,$SPDY$helps$&lt;%10%.</p>
    <p>Measurement$results$conflict</p>
    <p>How$well$does$SPDY$perform?</p>
  </div>
  <div class="page">
    <p>Goals</p>
    <p>A$systematic$study$of$SPDY$that$  Extensively$sweeps$the$parameter$space$  Links$SPDY$performance$to$underlying$factors$  Identifies$the$dominant$factors$</p>
    <p>SPDY$v.s.$HTTP/1.1</p>
  </div>
  <div class="page">
    <p>$</p>
    <p>Many$factors$external$to$SPDY$affect$SPDY$</p>
    <p>$</p>
    <p>Isolate$factors,$sweep$the$parameter$space$ %$$$$$Network$parameters$ $ $ %$$$$$TCP$settings$ %$$$$$Web$page$effects$ $ $ $</p>
    <p>Approach$</p>
    <p>$$RTT$ $$Bandwidth$ $$Loss$rate$</p>
    <p>$$Synthetic$objects$ $$Real$objects$ $$Real$pages$</p>
    <p>$$TCP$initial$congestion$window$</p>
    <p>Challenge$</p>
  </div>
  <div class="page">
    <p>$</p>
    <p>Page$load$time$has$high$variance$ $ $ $ $ $ $</p>
    <p>Challenge$</p>
    <p>$</p>
    <p>Control$source$of$variability$by$ ` Experimenting$in$a$controlled%network% ` Using$our%emulator%instead$of$browsers$</p>
    <p>Approach$</p>
    <p>C D</p>
    <p>F</p>
    <p>Page load time (seconds)</p>
    <p>HTTP SPDY</p>
    <p>Variance:(0.5(second</p>
    <p>Difference:(0.02(second</p>
  </div>
  <div class="page">
    <p>$</p>
    <p>Dependencies$between$network$and$ browser$computation$affect$page$loads$ $ $ $ $ $ $</p>
    <p>Challenge$</p>
    <p>Elapsed$time$Elapsed$time$</p>
    <p>No'browser Browser'computa&lt;on</p>
    <p>O bj ec</p>
    <p>ts $</p>
    <p>O bj ec</p>
    <p>ts $</p>
  </div>
  <div class="page">
    <p>$</p>
    <p>Dependencies$between$network$and$ browser$computation$affect$page$loads$ $ $ $ $ $ $</p>
    <p>Challenge$</p>
    <p>$</p>
    <p>Preserve$dependencies.% Approach$</p>
    <p>Elapsed$time$Elapsed$time$</p>
    <p>Browser'computa&lt;on</p>
    <p>O bj ec</p>
    <p>ts $</p>
    <p>O bj ec</p>
    <p>ts $</p>
    <p>No'browser</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Understanding$SPDYs$performance$with$  Synthetic$objects$  Real$objects$  Real$pages$</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Understanding$SPDYs$performance$with$  Synthetic%objects%  Real$objects$  Real$pages$</p>
  </div>
  <div class="page">
    <p>$ $</p>
    <p>Make$HTTP$requests</p>
    <p>Extensively$sweep$parameter$space</p>
    <p>Factors Range RTT 20ms,(100ms,(200ms Bandwidth 1Mbps,(10Mbps Loss(rate 0,(.5%,(1%,(2% TCP(IW 3,(10,(21,(32 Web(obj.(size100B,(1K,(10K,(100K,(1M #(of(objects 2,(8,(16,(32,(64,(128,(512</p>
    <p>Network$ parameters$</p>
    <p>$ TCP$settings$</p>
    <p>$</p>
    <p>Synthetic$ objects$</p>
  </div>
  <div class="page">
    <p>Link$SPDY$performance$to$factors</p>
    <p>!$Decision$tree$analysis</p>
    <p>loss</p>
    <p>#$obj</p>
    <p>RTT</p>
    <p>BW</p>
    <p>IW</p>
    <p>obj$size</p>
    <p>loss</p>
    <p>#$obj#$obj</p>
    <p>RTT RTT RTT</p>
    <p>BW BW BW</p>
    <p>IW</p>
    <p>SPDY</p>
    <p>HTTPEQUALEQUAL HTTP</p>
    <p>SPDY SPDY</p>
    <p>SPDY SPDY HTTPEQUALEQUAL EQUAL</p>
    <p>SPDY SPDYEQUALEQUAL</p>
    <p>small large</p>
    <p>low high low high</p>
    <p>small small smalllarge large large</p>
    <p>low low low lowhigh high highhigh</p>
    <p>Six$factors,$ Thousands$of$ data$points</p>
  </div>
  <div class="page">
    <p>SPDY$helps$on$small$objects</p>
    <p>loss</p>
    <p>obj%size</p>
    <p>#$obj</p>
    <p>RTT</p>
    <p>BW BW</p>
    <p>IW</p>
    <p>SPDY</p>
    <p>SPDY</p>
    <p>SPDY SPDYEQUAL</p>
    <p>SPDYEQUAL</p>
    <p>Small%(&lt;%1.5KB)</p>
    <p>low high</p>
    <p>small large</p>
    <p>low high</p>
    <p>small large</p>
    <p>low lowhigh high</p>
    <p>$</p>
    <p>Unlike$in$HTTP,$a$TCP$segment$ can$carry$multiple$Web$objects$ in$SPDY.$ $ $ $ $ %</p>
    <p>%</p>
    <p>%</p>
    <p>Explanation$</p>
    <p>Why$SPDY$ helps</p>
  </div>
  <div class="page">
    <p>SPDY$helps$on$large$objects,$low$loss</p>
    <p>#$obj</p>
    <p>RTT</p>
    <p>BW</p>
    <p>IW</p>
    <p>obj%size</p>
    <p>loss</p>
    <p>EQUAL</p>
    <p>SPDY</p>
    <p>EQUAL</p>
    <p>SPDYEQUAL</p>
    <p>Large%(&gt;%1.5KB)</p>
    <p>Low%(&lt;%0.5%)</p>
    <p>small large</p>
    <p>low high</p>
    <p>small large</p>
    <p>low high</p>
    <p>$ In$HTTP,$Multiple$connections$ compete$with$each$other$ $ ! More$retransmissions% $</p>
    <p>$ %</p>
    <p>%</p>
    <p>Explanation$</p>
  </div>
  <div class="page">
    <p>SPDY$hurts$on$large$objects,$high$loss</p>
    <p>obj%size</p>
    <p>loss</p>
    <p>#$obj</p>
    <p>RTT RTT</p>
    <p>BW HTTPEQUAL HTTP</p>
    <p>HTTPEQUAL</p>
    <p>Large%(&gt;%1.5KB)</p>
    <p>High%(&gt;=0.5%)</p>
    <p>small large</p>
    <p>low low highhigh</p>
    <p>low high</p>
    <p>$ $ $ $ $ $ $ $ $ $ $</p>
    <p>In$a$single$connection,$SPDY$ reduces$cwnd$more$ aggressively$under$loss.$</p>
    <p>Explanation$</p>
    <p>Time cw</p>
    <p>nd</p>
    <p>Time</p>
    <p>cw nd</p>
    <p>HTTP SPDY</p>
    <p>loss loss</p>
  </div>
  <div class="page">
    <p>SPDY$hurts$on$large$objects,$high$loss</p>
    <p>obj%size</p>
    <p>loss</p>
    <p>#$obj</p>
    <p>RTT RTT</p>
    <p>BW HTTPEQUAL HTTP</p>
    <p>HTTPEQUAL</p>
    <p>Large%(&gt;%1.5KB)</p>
    <p>High%(&gt;=0.5%)</p>
    <p>small large</p>
    <p>low low highhigh</p>
    <p>low high</p>
    <p>$ $ $ $ $ $ $ $ $ $ $</p>
    <p>In$a$single$connection,$SPDY$ reduces$cwnd$more$ aggressively$under$loss.$</p>
    <p>Explanation$</p>
    <p>Time cw</p>
    <p>nd</p>
    <p>Time</p>
    <p>cw nd</p>
    <p>HTTP SPDY</p>
    <p>loss loss</p>
    <p>Most$performance$impact$of$SPDY$comes$ from$a$single$TCP$connection.$</p>
  </div>
  <div class="page">
    <p>Identify$dominant$factors</p>
    <p>loss</p>
    <p>obj$size</p>
    <p>#$obj</p>
    <p>RTT</p>
    <p>BW</p>
    <p>IW</p>
    <p>Importance?</p>
  </div>
  <div class="page">
    <p>Identify$dominant$factors</p>
    <p>RTT:$200ms$ BW:$10Mbps$ Loss:$0$ IW:$3$ obj$size:$10KB$ #$obj:$8</p>
    <p>lossobj$size #$obj RTT BW IWmore(important(than</p>
    <p>#$obj$shows$a$trend IW$doesnt$show$a$trend</p>
    <p>#$obj</p>
    <p>P LT</p>
    <p>$o f$S</p>
    <p>P D Y $/$ P LT</p>
    <p>$o f$H</p>
    <p>T T P</p>
    <p>$o f$S</p>
    <p>P D Y $/$ P LT</p>
    <p>$o f$H</p>
    <p>T T P</p>
    <p>TCP$IW</p>
  </div>
  <div class="page">
    <p>HTTP/1.1 SPDY</p>
    <p>Load$two$objects$ (10K$and$100K)</p>
    <p>1Conn$1</p>
    <p>Conn$2</p>
    <p>Time</p>
    <p>cw nd</p>
    <p>BW</p>
    <p>Time</p>
    <p>cw nd</p>
    <p>BW</p>
    <p>In$our$experiments,$we$find$that$SPDY$helps$little$ for$stragglers.$</p>
    <p>Does$SPDY$help$stragglers?</p>
  </div>
  <div class="page">
    <p>HTTP/1.1 SPDY</p>
    <p>Load$two$objects$ (10K$and$100K)</p>
    <p>1Conn$1</p>
    <p>Conn$2</p>
    <p>Time</p>
    <p>cw nd</p>
    <p>BW</p>
    <p>Time</p>
    <p>cw nd</p>
    <p>BW</p>
    <p>In$our$experiments,$we$find$that$SPDY$helps$little$ for$stragglers.$</p>
    <p>Does$SPDY$help$stragglers?</p>
    <p>This$hypothesis$is$weak$since$it$only$$argues$ with$cwnd</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Understanding$SPDYs$performance$with$  Synthetic$objects$  Real%objects%  Real$pages$</p>
  </div>
  <div class="page">
    <p>$ $</p>
    <p>Make$HTTP$requests</p>
    <p>Synthetic$objects$!$Real$objects Factors Range RTT 20ms,(100ms,(200ms Bandwidth 1Mbps,(10Mbps Loss(rate 0,(.5%,(1%,(2% TCP(IW 3,(10,(21,(32 Web(obj.(size100B,(1K,(10K,(100K,(1M #(of(objects 2,(8,(16,(32,(64,(128,(512</p>
    <p>Network$ parameters$</p>
    <p>$ TCP$settings$</p>
    <p>$</p>
    <p>Web$ objects$ Top$200$Alexa$pages</p>
  </div>
  <div class="page">
    <p>SPDY$helps HTTP$helps</p>
    <p>C D</p>
    <p>F</p>
    <p>PLT of SPDY divided by PLT of HTTP</p>
    <p>SPDY$helps$60%$in$the$median$case$ because$it$largely$reduces$retransmissions</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Understanding$SPDYs$performance$with$  Synthetic$objects$  Real$objects$  Real%pages%</p>
    <p>Browser$ effects</p>
  </div>
  <div class="page">
    <p>Browser$effects</p>
    <p>html$ $</p>
    <p>f.js$ $</p>
    <p>Elapsed$time$ $</p>
    <p>c.css$ $</p>
    <p>html$ $</p>
    <p>f.js$ $</p>
    <p>Elapsed$time$ $</p>
    <p>c.css$ $</p>
    <p>Assumption$that$objects$are$fetched$at$ the$same$time$does$not$hold.</p>
  </div>
  <div class="page">
    <p>html$ $</p>
    <p>f.js$ $</p>
    <p>Elapsed$time$ $</p>
    <p>c.css$ $</p>
    <p>Network%</p>
    <p>Epload$captures$browser$effects</p>
    <p>Recorder:$capture$the$dependency$graph$  Replayer:$make$network$requests$while$ simulating$the$computation$portions</p>
    <p>Computation%</p>
    <p>Real$network$ requests</p>
    <p>Wait</p>
  </div>
  <div class="page">
    <p>html$ $</p>
    <p>f.js$ $</p>
    <p>Elapsed$time$ $</p>
    <p>c.css$ $</p>
    <p>Network%</p>
    <p>Epload$captures$browser$effects</p>
    <p>Recorder:$capture$the$dependency$graph$  Replayer:$make$network$requests$while$ simulating$the$computation$portions</p>
    <p>Computation%</p>
    <p>Real$network$ requests</p>
    <p>WaitEpload$makes$experiments$reproducible</p>
  </div>
  <div class="page">
    <p>$ $</p>
    <p>Make$HTTP$requests</p>
    <p>Real$objects$!$Real$pages Factors Range RTT 20ms,(100ms,(200ms Bandwidth 1Mbps,(10Mbps Loss(rate 0,(.5%,(1%,(2% TCP(IW 3,(10,(21,(32 Web(obj.(size100B,(1K,(10K,(100K,(1M #(of(objects 2,(8,(16,(32,(64,(128,(512</p>
    <p>Network$ parameters$</p>
    <p>$ TCP$settings$</p>
    <p>$</p>
    <p>Web$ objects$ Top$200$Alexa$pages</p>
    <p>Emulate$page$loads$with$Epload</p>
  </div>
  <div class="page">
    <p>SPDY$helps HTTP$helps</p>
    <p>C D</p>
    <p>F</p>
    <p>PLT of SPDY divided by PLT of HTTP</p>
    <p>RTT=20ms$ Bandwidth=10Mbps</p>
    <p>SPDY$helps$marginally$because$  Computation$and$dependencies$</p>
    <p>increase$PLT$of$both$SPDY$and$HTTP$  Throttled$object$fetches$result$in$fewer$</p>
    <p>retransmissions$in$HTTP$</p>
  </div>
  <div class="page">
    <p>SPDY$helps HTTP$helps</p>
    <p>C D</p>
    <p>F</p>
    <p>PLT of SPDY divided by PLT of HTTP</p>
    <p>RTT=20ms$ Bandwidth=10Mbps</p>
    <p>Dependencies$and$computation$in$real$ page$loads$reduce$the$impact$of$SPDY.$</p>
  </div>
  <div class="page">
    <p>Other$experiments$in$the$paper</p>
    <p>Using$Server$Push$  Experimented$with$new$policy$  Saves$10%$`$30%%latency$like$mod_spdy$but$ pushes$80%%less$data$</p>
    <p>With$SSL/TLS$  Tested$SPDY$and$HTTP$over$SSL/TLS$  Larger$latencies$but$same$conclusions</p>
  </div>
  <div class="page">
    <p>Conclusions</p>
    <p>We$experimented$with$SPDY$page$loads$over$ a$large$parameter$space$</p>
    <p>Most$performance$impact$of$SPDY$over$HTTP$ comes$from$its$single$TCP$connection$</p>
    <p>Browser$computation$and$dependencies$in$ real$pages$reduce$the$impact$of$SPDY$</p>
    <p>To$improve$further,$we$need$to$restructure$ the$page$load$process</p>
  </div>
  <div class="page">
    <p>http://wprof.cs.washington.edu/spdy</p>
  </div>
</Presentation>
