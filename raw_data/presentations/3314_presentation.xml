<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>ENHANCING BITCOIN SECURITY AND PERFORMANCE WITH STRONG CONSISTENCY VIA COLLECTIVE SIGNING</p>
    <p>Swiss Federal Institute of Technology Lausanne</p>
    <p>Lefteris Kokoris-Kogias, Philipp Jovanovic, Nicolas Gailly, Ismail Khoffi, Linus Gasser and Bryan Ford EPFL</p>
    <p>@LefKok</p>
  </div>
  <div class="page">
    <p>Cryptocurrency Ecosystem</p>
  </div>
  <div class="page">
    <p>Distributed Ledger (Blockchain)</p>
    <p>o Cheaper transaction management o M2M payments (IoT)</p>
  </div>
  <div class="page">
    <p>Distributed Ledger (Blockchain)</p>
    <p>o Real-time verification is not safe (need 1 hour of delay) o Throughput is low (7 tx/sec)</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin o Opening the consensus group o From MACs to Collective Signing o Decoupling transaction verification from leader election o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>Transaction Verification in Bitcoin</p>
    <p>AB</p>
  </div>
  <div class="page">
    <p>Transaction Conflicts</p>
    <p>AB</p>
    <p>AC</p>
  </div>
  <div class="page">
    <p>Transaction Conflicts 8</p>
    <p>AB</p>
    <p>AC</p>
  </div>
  <div class="page">
    <p>Resolving Conflicts 9</p>
    <p>AB</p>
    <p>AC</p>
  </div>
  <div class="page">
    <p>Proof-of-Work</p>
    <p>TX TX TX</p>
    <p>Hash(Previous Block)</p>
    <p>BLOCK</p>
    <p>nonce</p>
    <p>H(Block, nonce=0) =abc3426fe31233 H(Block, nonce=1) =fe541200abc229</p>
    <p>.</p>
    <p>.</p>
    <p>.</p>
    <p>.</p>
    <p>H(Block, nonce=2) =0bc3429831233</p>
    <p>H(Block, nonce=29) =0000fed98312</p>
    <p>TX TX TX</p>
  </div>
  <div class="page">
    <p>The Blockchain 11</p>
  </div>
  <div class="page">
    <p>Problem Statement</p>
    <p>o Clients rely on probabilities to gain confidence. o Probability of successful fork-attack decreases exponentially</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin o Opening the consensus group o From MACs to Collective Signing o Decoupling transaction verification from leader election o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>Strawman Design: PBFTCoin o 3f+1 fixed trustees running PBFT* to withstand f</p>
    <p>failures o Non-probabilistic strong consistency</p>
    <p>o Low latency</p>
    <p>o No forks/inconsistencies o No double-spending</p>
    <p>L</p>
    <p>blockchain</p>
    <p>L</p>
    <p>block</p>
    <p>trustees</p>
    <p>leader</p>
    <p>*Practical Byzantine Fault Tolerance [Castro/Liskov]</p>
  </div>
  <div class="page">
    <p>Strawman Design: PBFTCoin o Problem: Needs a static consensus group o Problem: Scalability</p>
    <p>o O(n2) communication complexity o O(n) verification complexity o Absence of third-party verifiable proofs (due to MACs)</p>
    <p>Client Primary</p>
    <p>Replica 2 Replica 3 Replica 4</p>
    <p>Request Pre-Prepare Prepare Commit Reply</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin o Opening the consensus group o From MACs to Collective Signing o Decoupling transaction verification from leader election o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>Opening the Consensus Group 17</p>
    <p>L</p>
    <p>blockchain</p>
    <p>share window of size w</p>
    <p>L</p>
    <p>block</p>
    <p>share</p>
    <p>miner</p>
    <p>leader</p>
    <p>o PoW against Sybil attacks o One share per block</p>
    <p>o % of shares  hash-power</p>
    <p>o Window mechanism o Protect from inactive miners</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin o Opening the consensus group o From MACs to Collective Signing o Decoupling transaction verification from leader election o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>From MACs to Signing 19</p>
    <p>o Substitute MACs with public-key cryptography o ECDSA provides more efficiency o Third-party verifiable o PoW Blockchain as PKI o Enables sparser communication patterns (ring or star</p>
    <p>topologies)</p>
  </div>
  <div class="page">
    <p>From MACs to Collective Signing 20</p>
    <p>o Can we do better than O(n) communication complexity? o Multicast protocols transmit information in O(log n) o Use trees!!</p>
    <p>o Can we do better than O(n) complexity to verify? o Schnorr multisignatures could be verified in O(1) o Use aggregation!!</p>
    <p>o Schnorr multisignatures + communication trees = Collective Signing [Syta et all, IEEE S&amp;P 16]</p>
  </div>
  <div class="page">
    <p>CoSi o Efficient collective signature, verifiable as a</p>
    <p>simple signature o 80 bytes instead of 9KB for 144* co-signers</p>
    <p>(Ed25519)</p>
    <p>* Number of ~10-minute blocks in 1-day time window</p>
  </div>
  <div class="page">
    <p>Discussion o CoSi is not a BFT protocol o PBFT can be implemented over two subsequent CoSi rounds</p>
    <p>o Prepare round o Commit round</p>
    <p>L</p>
    <p>blockchain</p>
    <p>share window of size w</p>
    <p>L</p>
    <p>block</p>
    <p>share</p>
    <p>miner</p>
    <p>leader</p>
  </div>
  <div class="page">
    <p>Problem Statement 1. In Bitcoin ByzCoin there is no a verifiable commitment</p>
    <p>of the system that a block will persist 2. Throughput is limited by forks o Increasing block size increases fork probability o Liveness exacerbation</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin</p>
    <p>o Opening the consensus group</p>
    <p>o From MACs to Collective Signing</p>
    <p>o Decoupling transaction verification from leader election</p>
    <p>o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>Bitcoin-NG [Eyal et all, NSDI 16] o Makes the observation that block mining implement</p>
    <p>two distinct functionalities o Transaction verification o Leader election</p>
    <p>o But, Bitcoin-NG inherits many of Bitcoins problems o Double-spending o Leader is checked after his epoch ends</p>
  </div>
  <div class="page">
    <p>Decoupling Transaction Verification from Leader Election</p>
    <p>o Key blocks: o PoW &amp; share value o Leader election</p>
    <p>o Microblocks: o Validating client transactions o Issued by the leader</p>
    <p>Keyblock</p>
    <p>Microblock</p>
    <p>Collective Signature</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin o Opening the consensus group o From MACs to Collective Signing o Decoupling transaction verification from leader election o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>Performance Evaluation 28</p>
    <p>o Experiments run on DeterLab network testbed o Up to 1,008* miners multiplexed atop 36 machines o Impose 200 ms roundtrip latencies between all servers o Impose 35 Mbps bandwidth per miner</p>
    <p>* 1008 = # of ~10-minute key-blocks in 1-week time window</p>
  </div>
  <div class="page">
    <p>Performance Evaluation 29</p>
    <p>o Key questions to evaluate: o What size consensus groups can ByzCoin scale to? o What transaction throughput can it handle?</p>
  </div>
  <div class="page">
    <p>Consensus Latency 30</p>
  </div>
  <div class="page">
    <p>Throughput 31</p>
  </div>
  <div class="page">
    <p>Talk Outline o Bitcoin and its limitations o Strawman design: PBFTCoin o Opening the consensus group o From MACs to Collective Signing o Decoupling transaction verification from leader election o Performance Evaluation o Future work and conclusions</p>
  </div>
  <div class="page">
    <p>Limitations o Attacker with &gt;= 1/3 of the shares</p>
    <p>o Can trivially censor transactions / DoS the system o Can double-spend if he splits the network</p>
    <p>o Can currently only scale-up not scale-out o Leader can exclude miners from the consensus</p>
  </div>
  <div class="page">
    <p>Future Work</p>
    <p>o Alternatives to PoW o Sharding to enable scaling-out o Incremental deployment to existing cryptocurrencies o Fail more gracefully under 33% attacks</p>
  </div>
  <div class="page">
    <p>Conclusion o Use Collective Signing to scale BFT protocols o Use PoW to create hybrid permissionless BFT o Combine the above with Bitcoin-NG to create</p>
    <p>ByzCoin o Demonstrate experimentally its practicality o ByzCoin increases the security and performance of</p>
    <p>cryptocurrencies.</p>
  </div>
  <div class="page">
    <p>Thank you</p>
    <p>eleftherios.kokoriskogias@epfl.ch</p>
    <p>people.epfl.ch/eleftherios.kokoriskogias</p>
    <p>@LefKok</p>
  </div>
</Presentation>
