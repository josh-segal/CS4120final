<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Updating Probabilistic XML</p>
    <p>Evgeny Kharlamov, Werner Nutt, Pierre Senellart</p>
    <p>Free University of Bozen-Bolzano Tlcom ParisTech INRIA Saclay  le-de-France</p>
    <p>Updates in XML, Lausanne, March 2010</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Applications of Probabilistic Data</p>
    <p>Approximate query processing: ranking, linkage  Information extraction: approximate search</p>
    <p>for entities (e.g. names) in text</p>
    <p>Sensor data: imprecise or missing readings  ...</p>
  </div>
  <div class="page">
    <p>Probabilistic Database</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Probabilistic DB:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Probabilistic Database</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Q</p>
    <p>a</p>
    <p>Q Q</p>
    <p>a</p>
    <p>Probabilistic DB:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Probabilistic Database</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Q</p>
    <p>a</p>
    <p>Q Q</p>
    <p>a</p>
    <p>(a, 0.8)</p>
    <p>Answer:</p>
    <p>Probabilistic DB:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Probabilistic Database</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Q</p>
    <p>a</p>
    <p>Q Q</p>
    <p>a</p>
    <p>(a, 0.8)</p>
    <p>Answer:</p>
    <p>Probabilistic DB: Representation</p>
    <p>of Prob DB:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Probabilistic Database</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Q</p>
    <p>a</p>
    <p>Q Q</p>
    <p>a</p>
    <p>(a, 0.8)</p>
    <p>Answer:</p>
    <p>Probabilistic DB: Representation</p>
    <p>of Prob DB:</p>
    <p>Q</p>
    <p>(a, 0.8)</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Probabilistic Database</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Q</p>
    <p>a</p>
    <p>Q Q</p>
    <p>a</p>
    <p>(a, 0.8)</p>
    <p>Answer:</p>
    <p>Probabilistic DB: Representation</p>
    <p>of Prob DB:</p>
    <p>Q</p>
    <p>(a, 0.8)</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>(e  u)  w</p>
    <p>a   u</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Semantics: a world d  c = true (current data)  MUX: 4  Pr(d) = 0.4 x 0.1</p>
    <p>root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>PXML with Events and Distributional Nodes</p>
    <p>[Kimelfeld&amp;al:2007] [Senellart&amp;al:2007]</p>
    <p>c - event: current Pr(c) = .4</p>
    <p>MUX - mutually exclusive options</p>
  </div>
  <div class="page">
    <p>Discrete Probabilistic XML Documents</p>
    <p>Probabilistic XML document D  represents (exponentially) many documents d  each with probability Pr(d)</p>
    <p>It is achieved by  Events formulas on edges: over Bool. random vars.</p>
    <p>Capture long-distance correlations</p>
    <p>Distributional nodes: Mux, Det. Capture local (hierarchical) dependancies.</p>
  </div>
  <div class="page">
    <p>Discrete Probabilistic XML Documents</p>
    <p>Probabilistic XML document D  represents (exponentially) many documents d  each with probability Pr(d)</p>
    <p>It is achieved by  Events formulas on edges: over Bool. random vars.</p>
    <p>Capture long-distance correlations</p>
    <p>Distributional nodes: Mux, Det. Capture local (hierarchical) dependancies.</p>
    <p>Special case of event formulas</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Update Operations</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>We want to insert (delete) data in PXML. We want to do it conditionally.</p>
  </div>
  <div class="page">
    <p>Update Operations</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>We want to insert (delete) data in PXML. We want to do it conditionally.</p>
  </div>
  <div class="page">
    <p>Update operation (q, n, t):</p>
    <p>q - condition query (formally will be defined later)</p>
    <p>n - locator of the update</p>
    <p>t - the actual new data (tree) to be inserted</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>Structure of Updates</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Update operation (q, n, t):</p>
    <p>q - condition query (formally will be defined later)</p>
    <p>n - locator of the update</p>
    <p>t - the actual new data (tree) to be inserted</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>Structure of Updates</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Update operation (q, n, t):</p>
    <p>q - condition query (formally will be defined later)</p>
    <p>n - locator of the update</p>
    <p>t - the actual new data (tree) to be inserted</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>Structure of Updates</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Update operation (q, n, t):</p>
    <p>q - condition query (formally will be defined later)</p>
    <p>n - locator of the update</p>
    <p>t - the actual new data (tree) to be inserted</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>Structure of Updates</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Update operation (q, n, t):</p>
    <p>q - condition query (formally will be defined later)</p>
    <p>n - locator of the update</p>
    <p>t - the actual new data (tree) to be inserted</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>Structure of Updates</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Update operation (q, n, t):</p>
    <p>q - condition query (formally will be defined later)</p>
    <p>n - locator of the update</p>
    <p>t - the actual new data (tree) to be inserted</p>
    <p>Inspired by 2 update languages for XML</p>
    <p>XUpdate, based on XPath  XQuery Update Facility, based on XQuery</p>
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>Structure of Updates</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>a. (Restricted) Single-Path updates - (R)SP</p>
    <p>b. Tree-Pattern updates - TP</p>
    <p>c. Tree-Pattern updates with Joins - TPJ</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>root</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>Types of Updates</p>
    <p>c. b. a.</p>
    <p>root</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>KRDB</p>
    <p>id</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>DBWeb</p>
    <p>id</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>a. (Restricted) Single-Path updates - (R)SP</p>
    <p>b. Tree-Pattern updates - TP</p>
    <p>c. Tree-Pattern updates with Joins - TPJ</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>root</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>Types of Updates</p>
    <p>c. b. a.</p>
    <p>root</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>KRDB</p>
    <p>id</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>DBWeb</p>
    <p>id</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>a. (Restricted) Single-Path updates - (R)SP</p>
    <p>b. Tree-Pattern updates - TP</p>
    <p>c. Tree-Pattern updates with Joins - TPJ</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>root</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>Types of Updates</p>
    <p>c. b. a.</p>
    <p>root</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>KRDB</p>
    <p>id</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>DBWeb</p>
    <p>id</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>a. (Restricted) Single-Path updates - (R)SP</p>
    <p>b. Tree-Pattern updates - TP</p>
    <p>c. Tree-Pattern updates with Joins - TPJ</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>root</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>Types of Updates</p>
    <p>c. b. a.</p>
    <p>root</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>KRDB</p>
    <p>id</p>
    <p>name</p>
    <p>X</p>
    <p>prof</p>
    <p>team</p>
    <p>bonus</p>
    <p>DBWeb</p>
    <p>id</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>For every professor, insert a bonus of 5 only if her team is in some EU project</p>
    <p>Only-if semantics: Inserts at most one bonus per professor</p>
    <p>For every professor, insert a bonus of X for all EU projects with a duration of X years, that her team is involved in</p>
    <p>For-all semantics: Inserts possibly many bonuses for professors</p>
    <p>Semantics of Insertions</p>
  </div>
  <div class="page">
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>For-all semantics: For every match of n, for all k matches of q, insert t under n k-times</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Semantics of Updates for XML Documents</p>
  </div>
  <div class="page">
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>For-all semantics: For every match of n, for all k matches of q, insert t under n k-times</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Semantics of Updates for XML Documents</p>
    <p>n</p>
  </div>
  <div class="page">
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>For-all semantics: For every match of n, for all k matches of q, insert t under n k-times</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Semantics of Updates for XML Documents</p>
    <p>q</p>
  </div>
  <div class="page">
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>For-all semantics: For every match of n, for all k matches of q, insert t under n k-times</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Semantics of Updates for XML Documents</p>
    <p>t</p>
  </div>
  <div class="page">
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>For-all semantics: For every match of n, for all k matches of q, insert t under n k-times</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Semantics of Updates for XML Documents</p>
  </div>
  <div class="page">
    <p>Fire a professor if her team is in a EU project</p>
    <p>For every match of n, if there is a match of q, then delete n and all its descendants</p>
    <p>There is only one semantics for deletions, that is similar to Only-if semantics</p>
    <p>Deletions</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>Deletion operation: (q, n)</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Fire a professor if her team is in a EU project</p>
    <p>For every match of n, if there is a match of q, then delete n and all its descendants</p>
    <p>There is only one semantics for deletions, that is similar to Only-if semantics</p>
    <p>Deletions</p>
    <p>n</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>Deletion operation: (q, n)</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Fire a professor if her team is in a EU project</p>
    <p>For every match of n, if there is a match of q, then delete n and all its descendants</p>
    <p>There is only one semantics for deletions, that is similar to Only-if semantics</p>
    <p>Deletions</p>
    <p>q root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>Deletion operation: (q, n)</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Fire a professor if her team is in a EU project</p>
    <p>For every match of n, if there is a match of q, then delete n and all its descendants</p>
    <p>There is only one semantics for deletions, that is similar to Only-if semantics</p>
    <p>Deletions</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>Deletion operation: (q, n)</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML Documents</p>
    <p>D: PXML doc</p>
    <p>root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>project</p>
    <p>team team</p>
    <p>id prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Bogdan</p>
    <p>DBWeb</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML Documents</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>Probability space of docs D: PXML doc</p>
    <p>semantics root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>Diego 2</p>
    <p>DBWeb</p>
    <p>root</p>
    <p>team</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>DBWeb</p>
    <p>root</p>
    <p>KRDB</p>
    <p>id</p>
    <p>team</p>
    <p>root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>project</p>
    <p>team team</p>
    <p>id prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Bogdan</p>
    <p>DBWeb</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML Documents</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>d</p>
    <p>Probability space of docs D: PXML doc</p>
    <p>semantics root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>Diego 2</p>
    <p>DBWeb</p>
    <p>root</p>
    <p>team</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>DBWeb</p>
    <p>root</p>
    <p>KRDB</p>
    <p>id</p>
    <p>team</p>
    <p>root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>project</p>
    <p>team team</p>
    <p>id prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Bogdan</p>
    <p>DBWeb</p>
    <p>Updated prob. space of docs</p>
    <p>qn,t qn,t qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML Documents</p>
    <p>P = 0.3 P = 0.2 P = 0.5</p>
    <p>d</p>
    <p>Probability space of docs D: PXML doc</p>
    <p>semantics</p>
    <p>root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>e e</p>
    <p>root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>Diego 2</p>
    <p>DBWeb</p>
    <p>root</p>
    <p>team</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>DBWeb</p>
    <p>root</p>
    <p>KRDB</p>
    <p>id</p>
    <p>team</p>
    <p>root</p>
    <p>grant</p>
    <p>FP6</p>
    <p>name</p>
    <p>Tones</p>
    <p>project</p>
    <p>team team</p>
    <p>id prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Bogdan</p>
    <p>DBWeb</p>
    <p>D : PXML doc1Updated prob. space of docs</p>
    <p>semantics</p>
    <p>qn,t qn,t qn,t qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>We want to study computation of representations of updates</p>
    <p>Given a p-document D and update operation  Is it possible to compute a p-document D</p>
    <p>that represents the update?</p>
    <p>How hard is the computation?</p>
    <p>Problems to Investigate</p>
    <p>qn,t</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Querying PXML with Tree-Pattern Queries</p>
    <p>[Kimelfed&amp;al:2007], [Senellart&amp;al:2007] *</p>
    <p>***************** 17</p>
    <p>Queries Distr. nodes Event conjunct. Event formulas</p>
    <p>TP</p>
    <p>TPJ</p>
    <p>P #P-complete</p>
    <p>#P-complete</p>
    <p>* *</p>
    <p>#P functions - counting counterparts of NP problems. E.g: counting sat.-assignments for prop. CNF formulas. Believed to be harder than NP.</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Only-if Insertions: Data Complexity</p>
    <p>Only-if Distr. nodes Event conjunct Event formulas</p>
    <p>RSP</p>
    <p>SP</p>
    <p>TP</p>
    <p>TPJ</p>
    <p>L L L</p>
    <p>P #P-hard Linear</p>
    <p>? #P-hard P</p>
    <p>#P-hard #P-hard P</p>
    <p>only for queries without descendent edges*</p>
    <p>*****************</p>
    <p>Linear</p>
    <p>P *</p>
    <p>?</p>
    <p>#P-hard P</p>
    <p>#P-hard</p>
    <p>The same table holds for deletions 18 /25</p>
  </div>
  <div class="page">
    <p>Only-if Insertions: Data Complexity</p>
    <p>Only-if Distr. nodes Event conjunct Event formulas</p>
    <p>RSP</p>
    <p>SP</p>
    <p>TP</p>
    <p>TPJ</p>
    <p>L L L</p>
    <p>P #P-hard Linear</p>
    <p>? #P-hard P</p>
    <p>#P-hard #P-hard P</p>
    <p>only for queries without descendent edges*</p>
    <p>*****************</p>
    <p>Linear</p>
    <p>P *</p>
    <p>?</p>
    <p>#P-hard P</p>
    <p>#P-hard</p>
    <p>The same table holds for deletions 18 /25</p>
  </div>
  <div class="page">
    <p>Only-if Insertions: Data Complexity</p>
    <p>Only-if Distr. nodes Event conjunct Event formulas</p>
    <p>RSP</p>
    <p>SP</p>
    <p>TP</p>
    <p>TPJ</p>
    <p>L L L</p>
    <p>P #P-hard Linear</p>
    <p>? #P-hard P</p>
    <p>#P-hard #P-hard P</p>
    <p>only for queries without descendent edges*</p>
    <p>*****************</p>
    <p>Linear</p>
    <p>P *</p>
    <p>?</p>
    <p>#P-hard P</p>
    <p>#P-hard</p>
    <p>The same table holds for deletions 18 /25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics:</p>
    <p>For every match of n, if there is a match of q, then insert t under n</p>
    <p>bonus</p>
    <p>c</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>bonus</p>
    <p>c</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>bonus</p>
    <p>c</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Updating PXML: Example root</p>
    <p>name</p>
    <p>Tones</p>
    <p>grant</p>
    <p>EU</p>
    <p>KRDB</p>
    <p>id project prof</p>
    <p>team team</p>
    <p>name bonus</p>
    <p>id</p>
    <p>prof</p>
    <p>name bonus</p>
    <p>MUX</p>
    <p>Diego 2 Bogdan</p>
    <p>DBWeb</p>
    <p>c c</p>
    <p>dur.</p>
    <p>root</p>
    <p>EU</p>
    <p>project prof</p>
    <p>team</p>
    <p>name bonus</p>
    <p>Y !</p>
    <p>Only-if semantics: For every match of n, if there is a match of q, then insert t under n</p>
    <p>bonus</p>
    <p>c</p>
    <p>in this case only-if and for-all semantics coincide</p>
    <p>Query: Data:</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>not in PSPACE</p>
    <p>For-all mux,det exp Event conj Event formulas</p>
    <p>RSP</p>
    <p>SP</p>
    <p>TP</p>
    <p>TPJ</p>
    <p>L/P L/P L/P L/P</p>
    <p>L/P L/P</p>
    <p>P P</p>
    <p>P P</p>
    <p>not in PTIME</p>
    <p>For-all Insertions: Data Complexity</p>
    <p>the computation is not in PSPACE, from [Abiteboul&amp;al.:2009]*</p>
    <p>*****************</p>
    <p>not in PTIME</p>
    <p>not in PTIME, #P-hard *</p>
    <p>Linear/P</p>
    <p>* Linear/P</p>
    <p>P</p>
    <p>Linear/P: Linear for queries w/o descendent edges, Polynomial otherwise</p>
    <p>Distributional nodes</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Continuous PXML</p>
    <p>Probabilistic p-documents with continuous distributions stored on the leaves</p>
    <p>Semantics defined in terms of continuous sets of XML documents</p>
    <p>N(30, 4) - Normal distribution</p>
    <p>root</p>
    <p>t</p>
    <p>vl</p>
    <p>N(30,4)</p>
    <p>i25</p>
    <p>id mes mes</p>
    <p>sensor</p>
    <p>t vl</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>probability of the insertion (event) is 1/2  the update is not representable</p>
    <p>with event formulas and distributions on leaves: we need correlations between distributions</p>
    <p>Problems with Updates  Insert an alerter increases</p>
    <p>for a sensor only-if the second measurement is greater than the first one</p>
    <p>root</p>
    <p>t</p>
    <p>vl</p>
    <p>N(30,4)</p>
    <p>i25</p>
    <p>id mes mes</p>
    <p>sensor</p>
    <p>t vl</p>
    <p>/25</p>
  </div>
  <div class="page">
    <p>Conclusion  Comprehensive picture of updates complexity:  Discrete PXML models with</p>
    <p>distributional nodes and event formulas</p>
    <p>RSP, SP, TP and TPJ update operations  Polynomial algorithm for SP update operations</p>
    <p>without descendent edges</p>
    <p>Results can be generalized to other PXML models and probabilistic updates</p>
    <p>Continuous PXML: problems are highlighted 24 /25</p>
  </div>
  <div class="page">
    <p>Thank you</p>
  </div>
  <div class="page">
    <p>References</p>
    <p>[Kimelfeld&amp;al:2007] - Benny Kimelfeld, Yehoshua Sagiv: Matching Twigs in Probabilistic XML. VLDB 2007: 27-38</p>
    <p>[Senellart&amp;al:2007] -Pierre Senellart, Serge Abiteboul: On the complexity of managing probabilistic XML data. PODS 2007: 283-292</p>
  </div>
</Presentation>
