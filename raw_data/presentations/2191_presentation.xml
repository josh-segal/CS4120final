<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Opportune Job Shredding: An Efficient Approach for</p>
    <p>Scheduling Parameter Sweep Applications</p>
    <p>Rohan Kurian, Pavan Balaji, P. Sadayappan</p>
    <p>The Ohio State University</p>
  </div>
  <div class="page">
    <p>Parameter Sweep Applications</p>
    <p>An important class of applications</p>
    <p>Set of independent tasks</p>
    <p>MCell Application</p>
    <p>3D simulations for sub-cellular architecture/physiology</p>
    <p>GTOMO (Parallel Tomography) Application</p>
    <p>Multiple view-point simulation</p>
    <p>Systems exist for scheduling on the Grid</p>
    <p>Cluster-based Scheduling?</p>
  </div>
  <div class="page">
    <p>Application Level Schedulers</p>
    <p>Manage the scheduling of applications</p>
    <p>Break the application to appropriate</p>
    <p>chunks</p>
    <p>APST (AppLeS Parameter Sweep Template)</p>
    <p>NIMROD</p>
    <p>Greedy approach to schedule PSA</p>
    <p>chunks</p>
  </div>
  <div class="page">
    <p>Presentation Roadmap</p>
    <p>Job Scheduling in Clusters</p>
    <p>Multi-Site Job Scheduling</p>
    <p>PSA Scheduling Strategies</p>
    <p>Multi-Site Scheduling of PSAs</p>
    <p>Performance Evaluation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>Job Scheduling in Clusters  Mapping arriving jobs to available resources</p>
    <p>Multiple Schemes for Scheduling  First Come First Serve (FCFS)</p>
    <p>Conservative Scheduling</p>
    <p>Aggressive or EASY Scheduling</p>
    <p>Fair-Share Constraints  A user can not have more than N queued jobs</p>
    <p>Submitting the multiple chunks of a PSA job  Violation of Fair-Share constraints</p>
    <p>Combine chunks to form a single parallel job</p>
  </div>
  <div class="page">
    <p>Formation of PSAs in Clusters Small</p>
    <p>Independe nt Tasks</p>
    <p>Parallel Parameter</p>
    <p>Sweep Application</p>
  </div>
  <div class="page">
    <p>Presentation Roadmap</p>
    <p>Job Scheduling in Clusters</p>
    <p>Multi-Site Job Scheduling</p>
    <p>PSA Scheduling Strategies</p>
    <p>Multi-Site Scheduling of PSAs</p>
    <p>Performance Evaluation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>Multi-Site Job Scheduling</p>
    <p>Multiple Simultaneous Requests</p>
    <p>Job submitted to multiple sites</p>
    <p>Started on the earliest cluster</p>
    <p>Existing schemes have limitations</p>
    <p>Heterogeneous Clusters</p>
    <p>Different Scheduling Schemes</p>
  </div>
  <div class="page">
    <p>Multiple-simultaneous-requests</p>
    <p>Meta Scheduler</p>
    <p>Local Scheduler</p>
    <p>Meta Scheduler</p>
    <p>Local Scheduler</p>
    <p>Meta Scheduler</p>
    <p>Local Scheduler</p>
    <p>Jobs</p>
    <p>Jobs</p>
    <p>JobsSite 1 Site 2</p>
    <p>Site 3</p>
  </div>
  <div class="page">
    <p>Presentation Roadmap</p>
    <p>Job Scheduling in Clusters</p>
    <p>Multi-Site Job Scheduling</p>
    <p>PSA Scheduling Strategies</p>
    <p>Multi-Site Scheduling of PSAs</p>
    <p>Performance Evaluation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>PSA Scheduling Strategies  Flooding based Job Shredding</p>
    <p>Submit all chunks in the PSA at once</p>
    <p>Greedy approach</p>
    <p>Improves User and System metrics</p>
    <p>Doesnt ensure fairness to Non-PSA jobs</p>
    <p>Opportune Job Shredding  Uses an additional Application-Level Scheduler</p>
    <p>Monitors the current schedule of the system</p>
    <p>If no normal backfill is possible  Allow PSA jobs to shred and backfill</p>
  </div>
  <div class="page">
    <p>Presentation Roadmap</p>
    <p>Job Scheduling in Clusters</p>
    <p>Multi-Site Job Scheduling</p>
    <p>PSA Scheduling Strategies</p>
    <p>Multi-Site Scheduling of PSAs</p>
    <p>Performance Evaluation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>Multi-Site Scheduling for PSAs</p>
    <p>Two-level Application Level Schedulers</p>
    <p>No constraints on sites</p>
    <p>Allowed to have different speeds</p>
    <p>Allowed to have different scheduling</p>
    <p>policies</p>
    <p>Similar to Multiple Simultaneous</p>
    <p>Requests</p>
    <p>Simultaneous requests only for PSAs</p>
  </div>
  <div class="page">
    <p>Multi-Site Scheduling for PSAs</p>
    <p>App-Level Scheduler</p>
    <p>Job Queue Local Scheduler</p>
    <p>App-Level Scheduler</p>
    <p>Job Queue Local</p>
    <p>Scheduler</p>
    <p>App-Level Scheduler</p>
    <p>Job Queue Local</p>
    <p>Scheduler</p>
    <p>Meta Application-Level</p>
    <p>Scheduler</p>
    <p>Site 1</p>
    <p>Site 2</p>
    <p>Site 3</p>
  </div>
  <div class="page">
    <p>Presentation Roadmap</p>
    <p>Job Scheduling in Clusters</p>
    <p>Multi-Site Job Scheduling</p>
    <p>PSA Scheduling Strategies</p>
    <p>Multi-Site Scheduling of PSAs</p>
    <p>Performance Evaluation</p>
    <p>Conclusions</p>
  </div>
  <div class="page">
    <p>Performance Metrics Response Time</p>
    <p>Completion Time  Submit Time</p>
    <p>Slowdown Response Time / Runtime</p>
    <p>Loss of Capacity (LOC) LOC = min {(waiting jobs procs), idle</p>
    <p>procs}</p>
    <p>T = Time for which this state lasts LOC = LOC x T</p>
  </div>
  <div class="page">
    <p>Evaluation Scheme</p>
    <p>Simulation based Approach</p>
    <p>CTC trace from Feitelsons archive</p>
    <p>EASY backfilling used</p>
    <p>For multi-site evaluation</p>
    <p>CTC traces from 3 different months</p>
    <p>Processing speeds in the ratio 2:1:3</p>
  </div>
  <div class="page">
    <p>Flooding Based Job Shredding</p>
    <p>Up to 60% improvement for PSA Jobs  Up to 90% worse performance for Non-PSA</p>
    <p>Jobs</p>
  </div>
  <div class="page">
    <p>Flooding: Job Category wise breakup</p>
    <p>Narrow Short Non-PSA jobs suffer most  Loss of back-filling opportunities is the main</p>
    <p>reason</p>
  </div>
  <div class="page">
    <p>Flooding: Loss of Capacity</p>
    <p>Up to 75% improvement in the Loss of Capacity</p>
  </div>
  <div class="page">
    <p>Opportune Job Shredding</p>
    <p>Up to 70% improvement for PSA Jobs  Less than 2% worsening in performance for Non</p>
    <p>PSA Jobs</p>
  </div>
  <div class="page">
    <p>Opportune: Job Category wise breakup</p>
    <p>No category of Non-PSA jobs suffers more than 7%</p>
  </div>
  <div class="page">
    <p>Opportune: Loss of Capacity</p>
    <p>Up to 12% improvement in the Loss of Capacity</p>
  </div>
  <div class="page">
    <p>Opportune (Multi-Site)</p>
    <p>Up to 95% improvement for PSA Jobs  No significant loss of performance for Non-PSA jobs</p>
  </div>
  <div class="page">
    <p>Opportune (Multi-Site): Response Time</p>
    <p>Up to 75% improvement for PSA Jobs  No significant loss of performance for Non-PSA jobs</p>
  </div>
  <div class="page">
    <p>Opportune (Multi-Site): Slowdown</p>
    <p>Up to 95% improvement for PSA Jobs  No significant loss of performance for Non-PSA jobs</p>
  </div>
  <div class="page">
    <p>Opportune (Multi-Site): Loss of Capacity</p>
    <p>Up to 45% improvement in the Loss of Capacity</p>
  </div>
  <div class="page">
    <p>Concluding Remarks</p>
    <p>Opportune Job Shredding Efficient Scheduling of PSAs</p>
    <p>Single Site and Multi-Site versions</p>
    <p>Significant improvement for PSA jobs</p>
    <p>Ensures that Non-PSA jobs are not affected</p>
    <p>Plan to integrate this with Prod. Schedulers</p>
  </div>
  <div class="page">
    <p>Thank You!</p>
  </div>
</Presentation>
