<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Optimal Backpressure Routing for Wireless Networks with Multi-Receiver Diversity</p>
    <p>Michael J. Neely University of Southern California http://www-rcf.usc.edu/~mjneely/</p>
    <p>*Sponsored by NSF OCE Grant 0520324 (CISS 2006)</p>
    <p>broadcasting</p>
    <p>error</p>
  </div>
  <div class="page">
    <p>-Multi-Node Wireless Network (possibly mobile) -Operates in slotted time (t = 0, 1, 2, ) -Broadcast Advantage, Channel Errors -Time Varying Transmission Success Probabilities qab(t) Example: Suppose Source 1 transmits</p>
    <p>source 1 source 2 source 3</p>
  </div>
  <div class="page">
    <p>-Multi-Node Wireless Network (possibly mobile) -Operates in slotted time (t = 0, 1, 2, ) -Broadcast Advantage, Channel Errors -Time Varying Transmission Success Probabilities qab(t) Example: Suppose Source 1 transmits There are 4 possible receivers</p>
    <p>d b</p>
    <p>c source 1 source 2 source 3</p>
    <p>a</p>
  </div>
  <div class="page">
    <p>-Multi-Node Wireless Network (possibly mobile) -Operates in slotted time (t = 0, 1, 2, ) -Broadcast Advantage, Channel Errors -Time Varying Transmission Success Probabilities qab(t) Example: Suppose Source 1 transmits Each with different success probs</p>
    <p>d b</p>
    <p>c source 1 source 2 source 3</p>
    <p>a</p>
  </div>
  <div class="page">
    <p>d b</p>
    <p>c source 1 source 2 source 3</p>
    <p>-Multi-Node Wireless Network (possibly mobile) -Operates in slotted time (t = 0, 1, 2, ) -Broadcast Advantage, Channel Errors -Time Varying Transmission Success Probabilities qab(t) Example: Suppose Source 1 transmits Only 3 successfully receive</p>
    <p>a</p>
  </div>
  <div class="page">
    <p>-Multi-Node Wireless Network (possibly mobile) -Operates in slotted time (t = 0, 1, 2, ) -Broadcast Advantage, Channel Errors -Time Varying Transmission Success Probabilities qab(t) Multi-Receiver Diversity!</p>
    <p>d b</p>
    <p>c source 1 source 2 source 3</p>
    <p>a</p>
  </div>
  <div class="page">
    <p>d b</p>
    <p>c source 1 source 2 source 3</p>
    <p>a</p>
    <p>Fundamental Questions: 1) How to Fully Utilize Multi-Receiver Diversity? 2) How to Maximize Throughput? Minimize Av. Power? 3) How to choose which node takes charge of the packet? 4) Should we allow redundant forwarding of different copies of the same packet? 5) How to schedule multiple traffic streams?</p>
  </div>
  <div class="page">
    <p>d b</p>
    <p>c source 1</p>
    <p>a</p>
    <p>A Hot Topic Area: Zorzi and Rao: Geographic Random Forwarding (GeRaF) [IEEE Trans. on Mobile Computing, 2003].</p>
    <p>Biswas and Morris: Extremely Opportunistic Routing (EXOR) [Proc. of Sigcomm, 2005].</p>
  </div>
  <div class="page">
    <p>d b</p>
    <p>c source 1</p>
    <p>a</p>
    <p>A Hot Topic Area: Zorzi and Rao: Geographic Random Forwarding (GeRaF) [IEEE Trans. on Mobile Computing, 2003]. Closest-to-Destination Heuristic</p>
    <p>Biswas and Morris: Extremely Opportunistic Routing (EXOR) [Proc. of Sigcomm, 2005].</p>
    <p>GeRaF:</p>
  </div>
  <div class="page">
    <p>Example of Deadlock Mode for Closest-to-Destination Routing Heuristic:</p>
    <p>Consistently send from 1--&gt; 2 --&gt; 3. But there are no nodes within transmission range of node 3 that are closer to the destination!</p>
  </div>
  <div class="page">
    <p>d b</p>
    <p>c source 1</p>
    <p>a</p>
    <p>A Hot Topic Area: Zorzi and Rao: Geographic Random Forwarding (GeRaF) [IEEE Trans. on Mobile Computing, 2003]. Closest-to-Destination Heuristic</p>
    <p>Biswas and Morris: Extremely Opportunistic Routing (EXOR) [Proc. of Sigcomm, 2005].</p>
    <p>Fewest Expected Hops to Destination Heuristic (using a traditional shortest path based on error probs)</p>
    <p>h4h3</p>
    <p>h5 h16h14</p>
    <p>h11</p>
    <p>h10</p>
    <p>h15 h13</p>
    <p>h12</p>
    <p>h21 h1 h2</p>
    <p>h17 h19</p>
    <p>h23</p>
    <p>h22</p>
    <p>h18</p>
    <p>h19 h20</p>
    <p>h25</p>
    <p>h6</p>
    <p>h9</p>
    <p>h7 h1</p>
    <p>h8</p>
    <p>h24EXOR:</p>
  </div>
  <div class="page">
    <p>How to achieve thruput and energy optimal routing?</p>
    <p>A Big Challenge: Complexity! Example: Suppose a node transmits a packet, and there are k potential receivers</p>
    <p>k</p>
    <p>Then there are 2k possible outcomes. An optimal algorithm must specify a contingency plan for each possible outcome.</p>
  </div>
  <div class="page">
    <p>A Big Challenge: Complexity! Example: Suppose a node transmits a packet, and there are k potential receivers</p>
    <p>k</p>
    <p>Then there are 2k possible outcomes. An optimal algorithm must specify a contingency plan for each possible outcome.</p>
    <p>How to achieve thruput and energy optimal routing?</p>
  </div>
  <div class="page">
    <p>A Big Challenge: Complexity! Example: Suppose a node transmits a packet, and there are k potential receivers</p>
    <p>k</p>
    <p>Then there are 2k possible outcomes. An optimal algorithm must specify a contingency plan for each possible outcome.</p>
    <p>How to achieve thruput and energy optimal routing?</p>
  </div>
  <div class="page">
    <p>A Big Challenge: Complexity! Example: Suppose a node transmits a packet, and there are k potential receivers</p>
    <p>k</p>
    <p>Then there are 2k possible outcomes. An optimal algorithm must specify a contingency plan for each possible outcome.</p>
    <p>How to achieve thruput and energy optimal routing?</p>
  </div>
  <div class="page">
    <p>A Big Challenge: Complexity! Example: Suppose a node transmits a packet, and there are k potential receivers</p>
    <p>k</p>
    <p>Then there are 2k possible outcomes. An optimal algorithm must specify a contingency plan for each possible outcome.</p>
    <p>How to achieve thruput and energy optimal routing?</p>
  </div>
  <div class="page">
    <p>A Big Challenge: Complexity! Example: Suppose a node transmits a packet, and there are k potential receivers</p>
    <p>k</p>
    <p>Then there are 2k possible outcomes. An optimal algorithm must specify a contingency plan for each possible outcome.</p>
    <p>How to achieve thruput and energy optimal routing?</p>
  </div>
  <div class="page">
    <p>k</p>
    <p>Further Challenges:</p>
  </div>
  <div class="page">
    <p>Our Main Results: (Algorithm DIVBAR)</p>
  </div>
  <div class="page">
    <p>The Seminal Paper on Backpressure Routing for Multi-Hop Queueing Networks:</p>
    <p>L. Tassiulas, A. Ephremides [IEEE Trans. Aut. Contr. 1992]</p>
    <p>Fundamental Results of Tassiulas-Ephremides [92]: a. Dynamic Routing via Differential Backlog b. Max Weight Matchings c. Stability Analysis via Lyapunov Drift</p>
    <p>link (a,b)</p>
    <p>a b a b = Optimal Commodity for link (a,b) on slot t (maximizes diff. backlog)</p>
    <p>A closeup view at timeslot t</p>
  </div>
  <div class="page">
    <p>A brief history of Lyapunov Drift for Queueing Systems: Lyapunov Stability: Tassiulas, Ephremides [91, 92, 93] P. R. Kumar, S. Meyn [95] McKeown, Anantharam, Walrand [96, 99] Kahale, P. E. Wright [97] Andrews, Kumaran, Ramanan, Stolyar, Whiting [2001] Leonardi, Melia, Neri, Marsan [2001] Neely, Modiano, Rohrs [2002, 2003, 2005]</p>
    <p>Lyapunov Stability with Stochastic Performance Optimization: Neely, Modiano [2003, 2005] (Fairness, Energy) Georgiadis, Neely, Tassiulas [NOW Publishers, F&amp;T, 2006]</p>
    <p>Alternate Approaches to Stoch. Performance Optimization: Eryilmaz, Srikant [2005] (Fluid Model Transformations) Stolyar [2005] (Fluid Model Transformations) Lee, Mazumdar, Shroff [2005] (Stochastic Gradients)</p>
  </div>
  <div class="page">
    <p>Problem Formulation:</p>
    <p>c(t) i.i.d. over slots, rates E[Ai c(t)] = i</p>
    <p>c</p>
    <p>Channel Probabilities: qi,(t) = qi,(S(t))</p>
    <p>= A particular subset of receivers)</p>
  </div>
  <div class="page">
    <p>i</p>
    <p>i(t) =1</p>
    <p>Problem Formulation:</p>
    <p>c(t) i.i.d. over slots, rates E[Ai c(t)] = i</p>
    <p>c</p>
    <p>Channel Probabilities: qi,(t) = qi,(S(t))</p>
    <p>= A particular subset of receivers)</p>
  </div>
  <div class="page">
    <p>i</p>
    <p>decide to transmit</p>
    <p>Problem Formulation:</p>
    <p>c(t) i.i.d. over slots, rates E[Ai c(t)] = i</p>
    <p>c</p>
    <p>Channel Probabilities: qi,(t) = qi,(S(t))</p>
    <p>= A particular subset of receivers)</p>
  </div>
  <div class="page">
    <p>Problem Formulation:</p>
    <p>i</p>
    <p>decide to transmit</p>
    <p>1. Slotted Time (t = {0, 1, 2, }) 2. Can transmit 1 packet (power Ptran) or else idle. 3. Traffic: Ai</p>
    <p>c(t) i.i.d. over slots, rates E[Ai c(t)] = i</p>
    <p>c</p>
    <p>Channel Probabilities: qi,(t) = qi,(S(t))</p>
    <p>= A particular subset of receivers)</p>
  </div>
  <div class="page">
    <p>Anatomy of a Single Timeslot:</p>
    <p>Receiver: Node b</p>
    <p>Packet Transmission Sender: Node a</p>
    <p>Control Info</p>
    <p>Final Instructions</p>
    <p>Control Info</p>
    <p>t+1t</p>
    <p>t+1t</p>
    <p>ACK/NACK</p>
    <p>-No errors on control channels. -After a packet transmission, the handshake enables the transmitter to know the successful recipients.</p>
    <p>Idealistic Assumptions:</p>
  </div>
  <div class="page">
    <p>Definition: The network layer capacity region  is the set of all rate matrices (i</p>
    <p>c) that can be stably supported, considering all possible routing/scheduling algorithms that conform to the network model (possibly forwarding multiple copies of the same packet).</p>
    <p>Note: Our network model does not include: -Signal enhancement via cooperative communication -Network coding</p>
    <p>(Network capacity can be increased by extending the valid control actions to include such options).</p>
    <p>Lemma: The capacity region (and minimum avg. energy) can be achieved without redundant packet forwarding.</p>
  </div>
  <div class="page">
    <p>Theorem 1: (Network Capacity and Minimum Avg. Energy) (a) Network Capacity Region  is given by all (i</p>
    <p>c) such that:</p>
  </div>
  <div class="page">
    <p>Theorem 1 part (b): The Minimum Avg. Energy is given by the solution to:</p>
    <p>Minimize:</p>
    <p>Subject to: The constraints of part (a)</p>
    <p>Note: Just writing down the optimal solution takes an Exponential Number of Parameters!</p>
  </div>
  <div class="page">
    <p>Theorem 1 part (b): The Minimum Avg. Energy is given by the solution to:</p>
    <p>Minimize:</p>
    <p>Subject to: The constraints of part (a)</p>
    <p>Note: Just writing down the optimal solution takes an Exponential Number of Parameters!</p>
  </div>
  <div class="page">
    <p>A Simple Backpressure Solution (in terms of a control parameter V): Algorithm DIVBAR Diversity Backpressure Routing</p>
    <p>Let n(t) = 1</p>
    <p>Kn(t) = Set of potential receivers at time t.</p>
    <p>n</p>
    <p>Wnk (c)(t) = max[Un</p>
    <p>(c)(t) - Uk (c)(t), 0]</p>
    <p>(Differential Backlog)</p>
    <p>(Uk (c)(t)=# commodity c packets in node n at slot t)</p>
  </div>
  <div class="page">
    <p>n Kn(t) = Set of potential receivers at time t.</p>
    <p>Wnk(n,c,t,1) (c)(t) &gt; Wnk(n,c,t,2)</p>
    <p>(c)(t) &gt; Wnk(n,c,t,3) (c)(t) &gt;</p>
    <p>(where k(n,c,t,b) = bth largest weight in rank ordering)</p>
    <p>by node n (at slot t) is correctly received at node k, but not received by any other nodes with rank order higher than k.</p>
    <p>(for k Kn(t))</p>
  </div>
  <div class="page">
    <p>n Kn(t) = Set of potential receivers at time t.</p>
    <p>Define Wn*(t) as the above maximum weighted sum.</p>
  </div>
  <div class="page">
    <p>n Kn(t) = Set of potential receivers at time t.</p>
    <p>Final step of DIVBAR:</p>
    <p>If we transmit: After receiving ACK/NACK feedback about successful reception, node n sends a final instruction that transfers responsibility of the packet to the receiver with largest differential backlog Wnk(c*)(t). If no successful receivers have positive differential backlog, node n retains responsibility for the packet.</p>
  </div>
  <div class="page">
    <p>Theorem 2 (DIVBAR Performance): If arrivals i.i.d. and topology state S(t) i.i.d. over timeslots, and if input rates are strictly interior to capacity region , then implementing DIVBAR for any control parameter V&gt;0 yields:</p>
    <p>max</p>
    <p>(B = system constant)</p>
  </div>
  <div class="page">
    <p>Important Special Case Channel Blind Transmission: -One commodity (multiple sources, single sink) -Neglect Average Power Optimization (set V=0)</p>
    <p>d b</p>
    <p>c 1</p>
    <p>a</p>
    <p>Skip steps 1-5: Just transmit whenever n(t)=1, and transfer responsibility to receiver that maximizes differential backlog. Achieves throughput optimality without requiring knowledge of (potentially time varying) channel probabilities!</p>
  </div>
  <div class="page">
    <p>Extensions: -Variable Rate and Power Control -Optimizing the MAC layer</p>
    <p>(t)=(1(t), 2(t), , N(t)) (# packets transmitted) P(t) = (P1(t), P2(t), , PN(t)) (Power allocation vector)</p>
    <p>I(t) = ((t); P(t)) = Collective Control Action</p>
    <p>qn, Wn(t) = qn, Wn(I(t), S(t))</p>
    <p>Jointly choose I(t), cn*(t) to maximize:</p>
  </div>
  <div class="page">
    <p>DIVBAR can easily be integrated with other cross-layer performance objectives using stochastic Lyapunov optimization, using techniques of Virtual Power Queues, Auxiliary Variables, Flow State Queues developed in:</p>
    <p>-Fairness, Flow Control for inside or outside of capacity region [Neely thesis 2003, Neely, Modiano, Li Infocom 2005]</p>
    <p>-Energy Constraints, General Functions of Energy [Neely Infocom 2005] [Georgiadis, Neely, Tassiulas NOW 2006]</p>
    <p>Flow control reservoir</p>
  </div>
  <div class="page">
    <p>DIVBAR also works for: -Non-i.i.d. arrivals and channel states -Enhanced DIVBAR (EDR) (improve delay via shortest path metric) -Distributed MAC via Random Access (similar to analysis in Neely 2003, JSAC 2005)</p>
    <p>(DRPC Alg. Of JSAC 2005)</p>
    <p>The cost of a distributed MAC for DRPC (without multi-receiver diversity)</p>
  </div>
  <div class="page">
    <p>d b</p>
    <p>c 1</p>
    <p>a Conclusions:</p>
  </div>
</Presentation>
