<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Participatory Networking Andrew Ferguson, Arjun Guha, Jordan Place, Rodrigo Fonseca, and Shriram Krishnamurthi</p>
  </div>
  <div class="page">
    <p>The Problem with Networks 2</p>
  </div>
  <div class="page">
    <p>The Problem with Networks</p>
  </div>
  <div class="page">
    <p>The Problem with Networks</p>
  </div>
  <div class="page">
    <p>The Problem with Networks</p>
  </div>
  <div class="page">
    <p>The Problem with Networks</p>
  </div>
  <div class="page">
    <p>A problem in the home 3</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>TCP Nice: A Mechanism for Background Transfers Arun Venkataramani Ravi Kokku Mike Dahlin</p>
    <p>Laboratory of Advanced Systems Research Department of Computer Sciences</p>
    <p>University of Texas at Austin, Austin, TX 78712 arun, rkoku, dahlin @cs.utexas.edu</p>
    <p>Abstract</p>
    <p>Many distributed applications can make use of large background transfers transfers of data that humans are not waiting for to improve availability, reliability, latency or consistency. However, given the rapid uctuations of available network bandwidth and changing resource costs due to technology trends, hand tuning the aggressivenessofbackgroundtransfers risks (1) complicating applications, (2) being too aggressive and interfering with other applications, and (3) being too timid and not gaining the bene ts of background transfers. Our goal is for the operating system to manage network resources inorder toprovidea simpleabstractionofnear zero-cost background transfers. Our system, TCP Nice, can provably bound the interference in icted by background owsonforeground ows ina restrictednetwork model. And our microbenchmarksand case study applications suggest that in practice it interferes little with foreground ows, reaps a large fraction of spare network bandwidth, and simpli es application construction and deployment. For example, in our prefetching case study application, aggressive prefetching improves demand performance by a factor of three when Nice manages resources; but the same prefetching hurts demand performance by a factor of six under standard network congestion control.</p>
    <p>Many distributed applications can make use of large backgroundtransfers transfersofdata thathumansare not waiting for to improve service quality. For example, a broad range of applications and services such as data backup [29], prefetching [50], enterprise data distribution[20], Internetcontentdistribution [2], andpeerto-peer storage [16, 43] can trade increased network</p>
    <p>This work was supported in part by an NSF CISE grant (CDA9624082), the Texas Advanced Technology Program, the Texas Advanced Research Program, and Tivoli. Dahlin was also supported by an NSF CAREER award (CCR-9733842) and an Alfred P. Sloan Research Fellowship.</p>
    <p>bandwidth consumption and possibly disk space for improvedservice latency[15, 18, 26, 32, 38, 50], improved availability [11, 53], increased scalability [2], stronger consistency [53], or support for mobility [28, 41, 47]. Many of these services have potentially unlimited bandwidth demands where incrementally more bandwidth consumption provides incrementally better service. For example, a web prefetching system can improve its hit rate by fetching objects from a virtually unlimited collection of objects that have non-zero probability of access [8, 10] or by updating cached copies more frequently as data change [13, 50, 48]; Technology trends suggest that wasting bandwidth and storage to improve latency and availability will become increasingly attractive in the future: per-byte network transport costs and disk storage costs are low and have been improving at 80-100% per year [9, 17, 37]; conversely network availability [11, 40, 54] and network latencies improve slowly, and long latencies and failures waste human time.</p>
    <p>Current operating systems and networks do not provide good support for aggressive background transfers. In particular, because background transfers compete with foreground requests, they can hurt overall performance and availability by increasing network congestion. Applications must therefore carefully balance the bene ts of background transfers against the risk of both selfinterference, where applications hurt their own performance, and cross-interference, where applications hurt other applications performance. Often, applications attempt to achieve this balance by setting magic numbers (e.g., the prefetch threshold in prefetching algorithms [18, 26]) that have little obvious relationship to system goals (e.g., availability or latency) or constraints (e.g., current spare network bandwidth).</p>
    <p>Our goal is for the operating system to manage network resources in order to provide a simple abstraction of zero-cost background transfers. A self-tuning background transport layer will enable new classes of applications by (1) simplifying applications, (2) reducing the risk of being too aggressive, and (3) making</p>
  </div>
  <div class="page">
    <p>A problem in the enterprise 8</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>A problem in the cloud 12</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
    <p>Boot Service</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
    <p>Boot Service</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
    <p>Boot Service</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
    <p>Boot Service</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
    <p>Boot Service</p>
  </div>
  <div class="page">
    <p>Production Platform</p>
    <p>Boot Service</p>
  </div>
  <div class="page">
    <p>A problem in the datacenter 17</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>Proposal</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Safe?</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Safe? Secure?</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Safe? Secure? Fair?</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Safe? Secure? Fair?</p>
    <p>Practical?</p>
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Safe? Secure? Fair?</p>
    <p>Practical?</p>
    <p>Participatory Networking</p>
    <p>Efficient? 24</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
    <p>End-user API for SDNs</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
    <p>End-user API for SDNs  Exposes existing mechanisms</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
    <p>End-user API for SDNs  Exposes existing mechanisms  No effect on unmodified applications</p>
  </div>
  <div class="page">
    <p>The PANE prototype</p>
  </div>
  <div class="page">
    <p>The PANE prototype</p>
  </div>
  <div class="page">
    <p>The PANE prototype</p>
  </div>
  <div class="page">
    <p>The PANE prototype</p>
  </div>
  <div class="page">
    <p>The PANE prototype</p>
  </div>
  <div class="page">
    <p>Semantics</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>bandwidth 50Mbps</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 50Mbps</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>root</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 50Mbps</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>root adf</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 50Mbps</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>root adf</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 50Mbps</p>
  </div>
  <div class="page">
    <p>root</p>
    <p>root adf</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 50Mbps</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>PANE</p>
  </div>
  <div class="page">
    <p>PANE Reserve 2 Mbpsfrom now to +5min?</p>
  </div>
  <div class="page">
    <p>PANE Yes</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>is traffic will be</p>
    <p>short and bursty</p>
  </div>
  <div class="page">
    <p>PANE OK</p>
  </div>
  <div class="page">
    <p>PANE How much web trafficin the last hour?</p>
  </div>
  <div class="page">
    <p>PANE 67,560 bytes</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
    <p>Reserve 80 Mbps?</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
    <p>Current: 80 Mbps</p>
    <p>Yes</p>
    <p>Current: 80 Mbps</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
    <p>Current: 80 Mbps</p>
    <p>Current: 80 Mbps</p>
    <p>Re se</p>
    <p>rv e 5</p>
    <p>bp s?</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
    <p>Current: 80 Mbps</p>
    <p>Current: 80 Mbps</p>
    <p>N o</p>
  </div>
  <div class="page">
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>bandwidth 100Mbps</p>
    <p>PANE</p>
    <p>Current: 0 Mbps Current: 0 Mbps</p>
    <p>Current: 0 Mbps</p>
    <p>Current: 80 Mbps</p>
    <p>Current: 80 Mbps</p>
  </div>
  <div class="page">
    <p>Protocol</p>
  </div>
  <div class="page">
    <p>PANE</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Root</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aBW to Alice. Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aBW to Alice. OKRoot</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aBW to Alice. OK</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aBW to Alice. OK</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aBW to Alice. OK</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aBW to Alice. OK</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min.</p>
    <p>NewShare aBW for (user=Alice) [reserve &lt;= 10Mb]</p>
    <p>on rootShare.</p>
    <p>Root</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from now to +10min.</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from now to +10min.</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from now to +10min.</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from now to +10min.</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from now to +10min.</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min. NO</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min. NO</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW from +20min to +30min.</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from +20min to +30min.</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from +20min to +30min.</p>
  </div>
  <div class="page">
    <p>Time</p>
    <p>Ba nd</p>
    <p>w id th</p>
    <p>Reservation Limit</p>
    <p>t</p>
    <p>PANE reserve(user=Alice,</p>
    <p>dstPort=80) = 5Mb on aBW from +20min to +30min.</p>
  </div>
  <div class="page">
    <p>PANE</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW</p>
    <p>from now to +10min. NO</p>
    <p>reserve(user=Alice, dstPort=80) = 5Mb on aBW from +20min to +30min.</p>
    <p>OKAlice</p>
  </div>
  <div class="page">
    <p>PANE</p>
  </div>
  <div class="page">
    <p>PANE Alice</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>Alice</p>
    <p>Root</p>
  </div>
  <div class="page">
    <p>NewShare aAC for (dstHost=10.0.0.2) [deny = True]</p>
    <p>on rootShare.</p>
    <p>PANE 10.0.0.2</p>
    <p>Alice</p>
    <p>Root</p>
  </div>
  <div class="page">
    <p>NewShare aAC for (dstHost=10.0.0.2) [deny = True]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Root</p>
  </div>
  <div class="page">
    <p>NewShare aAC for (dstHost=10.0.0.2) [deny = True]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aAC to Alice.</p>
    <p>Root</p>
  </div>
  <div class="page">
    <p>NewShare aAC for (dstHost=10.0.0.2) [deny = True]</p>
    <p>on rootShare.</p>
    <p>PANE</p>
    <p>OK</p>
    <p>Grant aAC to Alice. OK</p>
    <p>Root</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>deny(dstHost=10.0.0.2, srcHost=10.0.0.3) on aAC</p>
    <p>from now to +5min.</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>deny(dstHost=10.0.0.2, srcHost=10.0.0.3) on aAC</p>
    <p>from now to +5min.</p>
    <p>OK</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>PANE 10.0.0.2</p>
    <p>deny(dstHost=10.0.0.2, srcHost=10.0.0.3) on aAC</p>
    <p>from now to +5min.</p>
    <p>OK</p>
    <p>Alice</p>
  </div>
  <div class="page">
    <p>Current Status</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>no ftp-server write-enable controller T1 3/0 framing sf linecode ami !--- The outside interface. interface Ethernet2/0 ip address 172.22.1.16 255.255.255.0 !--- Apply the access list to permit SMTP/ESMTP connections !--- to the mail server. This also allows Cisco IOS Firewall !--- to inspect SMTP or ESMTP commands. ip access-group 101 in ip nat outside !--- Apply the inspection rule OUT-IN inbound on this interface. This is !--- the rule that defines SMTP/ESMTP inspection. ip inspect OUT-IN in ip virtualreassembly half-duplex interface Serial2/0 no ip address shutdown !--- The inside interface. interface Ethernet2/1 ip address 10.10.10.1 255.255.255.0 ip nat inside !--- Apply the inspection rule INOUT inbound on this interface. ip inspect IN-OUT in ip virtualreassembly half-duplex ip http server no ip http secureserver ip classless ip route 0.0.0.0 0.0.0.0 172.22.1.1</p>
    <p>!--- The static translation for the mail server. ip nat inside source static 10.10.10.2 172.22.1.110 ip nat inside source static 10.10.10.5 172.22.1.111 !--- The access list to permit SMTP and ESMTP to the mail server. !--- Cisco IOS Firewall inspects permitted traffic. access-list 101 permit tcp any host 172.22.1.110 eq smtp control-plane voice-port 1/0/0 voice-port 1/0/1 voice-port 1/1/0 voice-port 1/1/1 line con 0 line aux 0 line vty 0 4 password 7 121A0C0411045D5679 login end Current configuration: version 12.2 service timestamps debug uptime service timestamps log uptime no service password-encryption hostname sec-3640 aaa new-model aaa group server tacacs+ RTP server 171.68.120.214 aaa authentication login default group RTP none aaa authorization exec default group RTP none aaa authorization auth-proxy default group RTP enable secret 5 $1$pqRI $3TDNFT9FdYT8Sd/ q3S0VU1 enable password ww ! ip subnet-zero</p>
    <p>ip inspect name myfw cuseeme timeout 3600 ip inspect name myfw ftp timeout 3600 ip inspect name myfw http timeout 3600 ip inspect name myfw rcmd timeout 3600 ip inspect name myfw realaudio timeout 3600 ip inspect name myfw smtp timeout 3600 ip inspect name myfw sqlnet timeout 3600 ip inspect name myfw streamworks timeout 3600 ip inspect name myfw tftp timeout 30 ip inspect name myfw udp timeout 15 ip inspect name myfw tcp timeout 3600 ip inspect name myfw vdolive ip auth-proxy authproxy-banner ip auth-proxy authcache-time 10 ip auth-proxy name list_a http ip audit notify log ip audit po maxevents 100 interface Ethernet0/0 ip address 40.31.1.144 255.255.255.0 ip access-group 116 in ip nat outside ip auth-proxy list_a no ip route-cache no ip mroute-cache speed auto half-duplex no mop enabled interface Ethernet1/0 ip address 10.14.14.14 255.255.255.0 ip nat inside ip inspect myfw in</p>
    <p>the syslog server or router. ip urlfilter audittrail !--- use the ip urlfilter urlfserver-log command in global configuration mode to enable the logging of system messages on the URL filtering server. ip urlfilter urlfserver-log !--- use the ip urlfilter server vendor command in global configuration mode to configure a vendor server for URL filtering. Here we have configured a websense server for URL filtering ip urlfilter server vendor websense 192.168.15.15 no ftp-server write-enable !--- Below is the basic interface configuration on the router interface FastEthernet0 ip address 192.168.5.10 255.255.255.0 ip virtualreassembly !--- use the ip inspect command in interface configuration mode to apply a set of inspection rules to an interface. Here the inspection name TEST is applied to the interface FastEthernet0. ip inspect test in duplex auto speed auto interface FastEthernet1 ip address 192.168.15.1 255.255.255.0</p>
    <p>ip virtualreassembly duplex auto speed auto interface FastEthernet2 ip address 10.77.241.109 255.255.255.192 ip virtualreassembly duplex auto speed auto interface FastEthernet2 no ip address interface Vlan1 ip address 10.77.241.111 255.255.255.192 ip virtualreassembly ip classless ip route 10.10.10.0 255.255.255.0 172.17.1.2 ip route 10.77.0.0 255.255.0.0 10.77.241.65 !--- Configure the below commands to enable SDM access to the cisco routers ip http server ip http authentication local no ip http secureserver line con 0 line aux 0 line vty 0 4 privilege level 15 transport input telnet ssh end version 12.4 service timestamps debug datetime msec service timestamps log datetime msec no service password-encryption hostname 2851-cme2 logging messagecounter syslog logging buffered 51200 warnings no aaa new-model clock timezone mst -7 clock summer-time mdt recurring dot11 syslog ip source-route ip cef</p>
    <p>no ip dhcp use vrf connected ip dhcp pool pub-112-net network 172.17.112.0 255.255.255.0 default-router 172.17.112.1 dns-server 172.16.1.22 option 150 ip 172.16.1.43 domain-name bldrtme.com ip dhcp pool priv-112-net network 192.168.112.0 255.255.255.0 default-router 192.168.112.1 dns-server 172.16.1.22 domain-name bldrtme.com option 150 ip 192.168.112.1 ip domain name yourdomain.com no ipv6 cef multilink bundlename authenticated voice translationrule 1 rule 1 // /1001/ voice translationprofile default translate called 1 voice-card 0 no dspfarm interface GigabitEthernet0/0 description $ETHLAN$$ETH-SW-LAUNCH$ $INTF-INFO-GE 0/0$ ip address 172.16.112.10 255.255.255.0 ip nat outside ip virtualreassembly duplex auto speed auto interface GigabitEthernet0/1 no ip address duplex auto speed auto interface GigabitEthernet0/1. 132 encapsulation dot1Q 132 ip address 172.17.112.1 255.255.255.0</p>
    <p>interface GigabitEthernet0/1. 152 encapsulation dot1Q 152 ip address 192.168.112.1 255.255.255.0 ip nat inside ip virtualreassembly interface FastEthernet0/2/0 interface FastEthernet0/2/1 interface FastEthernet0/2/2 interface FastEthernet0/2/3 interface Vlan1 ip address 198.41.9.15 255.255.255.0 router eigrp 1 network 172.16.112.0 0.0.0.255 network 172.17.112.0 0.0.0.255 no auto-summary ip forward-protocol nd ip http server ip http accessclass 23 ip http authentication local ip http secureserver ip http timeoutpolicy idle 60 life 86400 requests 10000 ip http path flash:/gui ip nat inside source list 111 interface GigabitEthernet0/0 overload access-list 23 permit 10.10.10.0 0.0.0.7 access-list 111 deny ip 192.168.112.0 0.0.0.255 192.168.0.0 0.0.255.255 access-list 111 permit ip 192.168.112.0 0.0.0.255 any tftp-server flash:/ phone/7940-7960/ P00308000400.bin</p>
  </div>
  <div class="page">
    <p>no ftp-server write-enable controller T1 3/0 framing sf linecode ami !--- The outside interface. interface Ethernet2/0 ip address 172.22.1.16 255.255.255.0 !--- Apply the access list to permit SMTP/ESMTP connections !--- to the mail server. This also allows Cisco IOS Firewall !--- to inspect SMTP or ESMTP commands. ip access-group 101 in ip nat outside !--- Apply the inspection rule OUT-IN inbound on this interface. This is !--- the rule that defines SMTP/ESMTP inspection. ip inspect OUT-IN in ip virtualreassembly half-duplex interface Serial2/0 no ip address shutdown !--- The inside interface. interface Ethernet2/1 ip address 10.10.10.1 255.255.255.0 ip nat inside !--- Apply the inspection rule INOUT inbound on this interface. ip inspect IN-OUT in ip virtualreassembly half-duplex ip http server no ip http secureserver ip classless ip route 0.0.0.0 0.0.0.0 172.22.1.1</p>
    <p>!--- The static translation for the mail server. ip nat inside source static 10.10.10.2 172.22.1.110 ip nat inside source static 10.10.10.5 172.22.1.111 !--- The access list to permit SMTP and ESMTP to the mail server. !--- Cisco IOS Firewall inspects permitted traffic. access-list 101 permit tcp any host 172.22.1.110 eq smtp control-plane voice-port 1/0/0 voice-port 1/0/1 voice-port 1/1/0 voice-port 1/1/1 line con 0 line aux 0 line vty 0 4 password 7 121A0C0411045D5679 login end Current configuration: version 12.2 service timestamps debug uptime service timestamps log uptime no service password-encryption hostname sec-3640 aaa new-model aaa group server tacacs+ RTP server 171.68.120.214 aaa authentication login default group RTP none aaa authorization exec default group RTP none aaa authorization auth-proxy default group RTP enable secret 5 $1$pqRI $3TDNFT9FdYT8Sd/ q3S0VU1 enable password ww ! ip subnet-zero</p>
    <p>ip inspect name myfw cuseeme timeout 3600 ip inspect name myfw ftp timeout 3600 ip inspect name myfw http timeout 3600 ip inspect name myfw rcmd timeout 3600 ip inspect name myfw realaudio timeout 3600 ip inspect name myfw smtp timeout 3600 ip inspect name myfw sqlnet timeout 3600 ip inspect name myfw streamworks timeout 3600 ip inspect name myfw tftp timeout 30 ip inspect name myfw udp timeout 15 ip inspect name myfw tcp timeout 3600 ip inspect name myfw vdolive ip auth-proxy authproxy-banner ip auth-proxy authcache-time 10 ip auth-proxy name list_a http ip audit notify log ip audit po maxevents 100 interface Ethernet0/0 ip address 40.31.1.144 255.255.255.0 ip access-group 116 in ip nat outside ip auth-proxy list_a no ip route-cache no ip mroute-cache speed auto half-duplex no mop enabled interface Ethernet1/0 ip address 10.14.14.14 255.255.255.0 ip nat inside ip inspect myfw in</p>
    <p>the syslog server or router. ip urlfilter audittrail !--- use the ip urlfilter urlfserver-log command in global configuration mode to enable the logging of system messages on the URL filtering server. ip urlfilter urlfserver-log !--- use the ip urlfilter server vendor command in global configuration mode to configure a vendor server for URL filtering. Here we have configured a websense server for URL filtering ip urlfilter server vendor websense 192.168.15.15 no ftp-server write-enable !--- Below is the basic interface configuration on the router interface FastEthernet0 ip address 192.168.5.10 255.255.255.0 ip virtualreassembly !--- use the ip inspect command in interface configuration mode to apply a set of inspection rules to an interface. Here the inspection name TEST is applied to the interface FastEthernet0. ip inspect test in duplex auto speed auto interface FastEthernet1 ip address 192.168.15.1 255.255.255.0</p>
    <p>ip virtualreassembly duplex auto speed auto interface FastEthernet2 ip address 10.77.241.109 255.255.255.192 ip virtualreassembly duplex auto speed auto interface FastEthernet2 no ip address interface Vlan1 ip address 10.77.241.111 255.255.255.192 ip virtualreassembly ip classless ip route 10.10.10.0 255.255.255.0 172.17.1.2 ip route 10.77.0.0 255.255.0.0 10.77.241.65 !--- Configure the below commands to enable SDM access to the cisco routers ip http server ip http authentication local no ip http secureserver line con 0 line aux 0 line vty 0 4 privilege level 15 transport input telnet ssh end version 12.4 service timestamps debug datetime msec service timestamps log datetime msec no service password-encryption hostname 2851-cme2 logging messagecounter syslog logging buffered 51200 warnings no aaa new-model clock timezone mst -7 clock summer-time mdt recurring dot11 syslog ip source-route ip cef</p>
    <p>no ip dhcp use vrf connected ip dhcp pool pub-112-net network 172.17.112.0 255.255.255.0 default-router 172.17.112.1 dns-server 172.16.1.22 option 150 ip 172.16.1.43 domain-name bldrtme.com ip dhcp pool priv-112-net network 192.168.112.0 255.255.255.0 default-router 192.168.112.1 dns-server 172.16.1.22 domain-name bldrtme.com option 150 ip 192.168.112.1 ip domain name yourdomain.com no ipv6 cef multilink bundlename authenticated voice translationrule 1 rule 1 // /1001/ voice translationprofile default translate called 1 voice-card 0 no dspfarm interface GigabitEthernet0/0 description $ETHLAN$$ETH-SW-LAUNCH$ $INTF-INFO-GE 0/0$ ip address 172.16.112.10 255.255.255.0 ip nat outside ip virtualreassembly duplex auto speed auto interface GigabitEthernet0/1 no ip address duplex auto speed auto interface GigabitEthernet0/1. 132 encapsulation dot1Q 132 ip address 172.17.112.1 255.255.255.0</p>
    <p>interface GigabitEthernet0/1. 152 encapsulation dot1Q 152 ip address 192.168.112.1 255.255.255.0 ip nat inside ip virtualreassembly interface FastEthernet0/2/0 interface FastEthernet0/2/1 interface FastEthernet0/2/2 interface FastEthernet0/2/3 interface Vlan1 ip address 198.41.9.15 255.255.255.0 router eigrp 1 network 172.16.112.0 0.0.0.255 network 172.17.112.0 0.0.0.255 no auto-summary ip forward-protocol nd ip http server ip http accessclass 23 ip http authentication local ip http secureserver ip http timeoutpolicy idle 60 life 86400 requests 10000 ip http path flash:/gui ip nat inside source list 111 interface GigabitEthernet0/0 overload access-list 23 permit 10.10.10.0 0.0.0.7 access-list 111 deny ip 192.168.112.0 0.0.0.255 192.168.0.0 0.0.255.255 access-list 111 permit ip 192.168.112.0 0.0.0.255 any tftp-server flash:/ phone/7940-7960/ P00308000400.bin</p>
    <p>&lt;1%</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
    <p>Safe</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
    <p>Safe Secure</p>
  </div>
  <div class="page">
    <p>Participatory Networking</p>
    <p>Safe Secure Fair</p>
  </div>
  <div class="page">
    <p>Questions? 55</p>
    <p>Andrew Ferguson adf@cs.brown.edu</p>
  </div>
  <div class="page">
    <p>Questions? 56</p>
    <p>Andrew Ferguson adf@cs.brown.edu</p>
    <p>Arjun Guha</p>
    <p>Jordan Place</p>
    <p>Rodrigo Fonseca</p>
    <p>Shriram Krishnamurthi</p>
    <p>Co -a</p>
    <p>ut ho</p>
    <p>rs</p>
  </div>
  <div class="page">
    <p>Backup Slides</p>
  </div>
  <div class="page">
    <p>PANE Implementation</p>
  </div>
  <div class="page">
    <p>PANE Policy Tree</p>
  </div>
</Presentation>
