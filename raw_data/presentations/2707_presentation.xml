<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Efficient Memory Disaggregation with Infiniswap</p>
    <p>Juncheng Gu, Youngmoon Lee, Yiwen Zhang, Mosharaf Chowdhury, Kang G. Shin</p>
  </div>
  <div class="page">
    <p>Agenda  Motivation and related work</p>
    <p>Design and system overview</p>
    <p>Implementation and evaluation</p>
    <p>Future work and conclusion</p>
  </div>
  <div class="page">
    <p>Memory-intensive applications</p>
  </div>
  <div class="page">
    <p>Memory-intensive applications</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>Performance degradation</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>Memory overestimation</p>
  </div>
  <div class="page">
    <p>Google Cluster Analysis[1]</p>
    <p>[1] Reiss, Charles, et al. &quot;Heterogeneity and dynamicity of clouds at scale: Google trace analysis.&quot; SoCC12.</p>
    <p>Memory underutilization</p>
    <p>How to utilize ABU memory?</p>
    <p>Allocated Used</p>
    <p>P or</p>
    <p>tio n</p>
    <p>of M</p>
    <p>em or</p>
    <p>y</p>
    <p>Time (days)</p>
  </div>
  <div class="page">
    <p>Google Cluster Analysis[1]</p>
    <p>[1] Reiss, Charles, et al. &quot;Heterogeneity and dynamicity of clouds at scale: Google trace analysis.&quot; SoCC12.</p>
    <p>Memory underutilization</p>
    <p>How to utilize ABU memory?</p>
    <p>Allocated Used</p>
    <p>P or</p>
    <p>tio n</p>
    <p>of M</p>
    <p>em or</p>
    <p>y</p>
    <p>Time (days)</p>
  </div>
  <div class="page">
    <p>Google Cluster Analysis[1]</p>
    <p>[1] Reiss, Charles, et al. &quot;Heterogeneity and dynamicity of clouds at scale: Google trace analysis.&quot; SoCC12.</p>
    <p>Memory underutilization</p>
    <p>How to utilize ABU memory?</p>
    <p>Allocated Used</p>
    <p>P or</p>
    <p>tio n</p>
    <p>of M</p>
    <p>em or</p>
    <p>y</p>
    <p>Time (days)</p>
  </div>
  <div class="page">
    <p>Google Cluster Analysis[1]</p>
    <p>[1] Reiss, Charles, et al. &quot;Heterogeneity and dynamicity of clouds at scale: Google trace analysis.&quot; SoCC12.</p>
    <p>Memory underutilization</p>
    <p>How to utilize ABU memory?</p>
    <p>Allocated Used</p>
    <p>P or</p>
    <p>tio n</p>
    <p>of M</p>
    <p>em or</p>
    <p>y</p>
    <p>Time (days)</p>
  </div>
  <div class="page">
    <p>Google Cluster Analysis[1]</p>
    <p>[1] Reiss, Charles, et al. &quot;Heterogeneity and dynamicity of clouds at scale: Google trace analysis.&quot; SoCC12.</p>
    <p>Memory underutilization</p>
    <p>How to utilize ABU memory?</p>
    <p>Allocated Used</p>
    <p>P or</p>
    <p>tio n</p>
    <p>of M</p>
    <p>em or</p>
    <p>y</p>
    <p>Time (days) Can we utilize this memory?</p>
  </div>
  <div class="page">
    <p>Machine 2</p>
    <p>Used memory Free memory Remote memory</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
  </div>
  <div class="page">
    <p>Disaggregate free memory</p>
    <p>Machine 2</p>
    <p>Used memory Free memory Remote memory</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
    <p>Machine 2</p>
    <p>Memory Disaggregation Layer</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
    <p>Used memory Free memory Remote memory</p>
  </div>
  <div class="page">
    <p>Disaggregate free memory</p>
    <p>Machine 2</p>
    <p>Used memory Free memory Remote memory</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
    <p>Machine 2</p>
    <p>Memory Disaggregation Layer</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
    <p>Used memory Free memory Remote memory</p>
    <p>Machine 2</p>
    <p>Memory Disaggregation Layer</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
    <p>Used memory Free memory Remote memory</p>
    <p>Machine 2</p>
    <p>Memory Disaggregation Layer</p>
    <p>Machine 3 Machine 4 Machine N</p>
    <p>Machine 1</p>
    <p>Used memory Free memory Remote memory</p>
  </div>
  <div class="page">
    <p>What are the challenges?</p>
    <p>Minimize deployment overhead  No hardware design  No application modification</p>
    <p>Tolerate failures  e.g. network disconnection, machine crash</p>
    <p>Manage remote memory at scale</p>
  </div>
  <div class="page">
    <p>No HW design No appmodification Fault</p>
    <p>tolerance Scalability</p>
    <p>Memory Blade[ISCA09]</p>
    <p>HPBD[CLUSTER05] / NBDX[1]</p>
    <p>RDMA key-value service (e.g. HERD[SIGCOMM14], FaRM[NSDI14])</p>
    <p>Intel Rack Scale Architecture (RSA)[2]</p>
    <p>Infiniswap</p>
    <p>Recent work on memory disaggregation</p>
    <p>[1] https://github.com/accelio/NBDX [2] http://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html</p>
  </div>
  <div class="page">
    <p>Agenda  Motivation and related work</p>
    <p>Design and system overview</p>
    <p>Implementation and evaluation</p>
    <p>Future work and conclusion</p>
  </div>
  <div class="page">
    <p>System Overview</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>Local Disk RNIC</p>
    <p>Machine 1</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 2</p>
    <p>RNIC</p>
    <p>SyncAsync</p>
  </div>
  <div class="page">
    <p>System Overview</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>Local Disk RNIC</p>
    <p>Machine 1</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 2</p>
    <p>RNIC</p>
    <p>SyncAsync</p>
    <p>Infiniswap Block Device  Swap space  Request router</p>
  </div>
  <div class="page">
    <p>System Overview</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>Local Disk RNIC</p>
    <p>Machine 1</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 2</p>
    <p>RNIC</p>
    <p>SyncAsync</p>
    <p>Local disk  [ASYNC] backup swapped-out</p>
    <p>data  Tolerate remote memory</p>
    <p>failure</p>
  </div>
  <div class="page">
    <p>System Overview</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>Local Disk RNIC</p>
    <p>Machine 1</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 2</p>
    <p>RNIC</p>
    <p>SyncAsync</p>
    <p>Infiniswap Deamon  Local memory region  Remote memory service</p>
  </div>
  <div class="page">
    <p>System Overview</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>Local Disk RNIC</p>
    <p>Machine 1</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 2</p>
    <p>RNIC</p>
    <p>SyncAsync</p>
    <p>RDMA  One-sided operations  Bypass remote CPU</p>
  </div>
  <div class="page">
    <p>Objectives Ideas</p>
    <p>No hardware design Remote paging</p>
    <p>No application modification</p>
    <p>Fault-tolerance Local backup disk</p>
    <p>Scalability Decentralized remote memory management</p>
    <p>How to meet the design objectives?</p>
  </div>
  <div class="page">
    <p>One-to-many</p>
    <p>Application1 Application2</p>
    <p>Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>RNIC</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 1 Machine 2</p>
    <p>RNIC</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 3</p>
    <p>RNIC</p>
    <p>Local Disk</p>
    <p>User Space</p>
    <p>Kernel Space</p>
    <p>Async Sync</p>
  </div>
  <div class="page">
    <p>Many-to-many</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>RNIC</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 1 Machine 2</p>
    <p>RNIC</p>
    <p>Application Infiniswap Daemon User Space</p>
    <p>Machine 3</p>
    <p>RNIC</p>
    <p>Application1 Application2 User Space</p>
    <p>Kernel SpaceVirtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>RNIC</p>
    <p>Machine 4</p>
    <p>Local Disk Local Disk</p>
    <p>Async Sync AsyncSync</p>
  </div>
  <div class="page">
    <p>Many-to-many</p>
    <p>Application1 Application2User Space</p>
    <p>Kernel Space Virtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>RNIC</p>
    <p>Application Infiniswap Daemon User</p>
    <p>Space</p>
    <p>Machine 1 Machine 2</p>
    <p>RNIC</p>
    <p>Application Infiniswap Daemon User Space</p>
    <p>Machine 3</p>
    <p>RNIC</p>
    <p>Application1 Application2 User Space</p>
    <p>Kernel SpaceVirtual Memory Manager (VMM)</p>
    <p>Infiniswap Block Device</p>
    <p>RNIC</p>
    <p>Machine 4</p>
    <p>Local Disk Local Disk</p>
    <p>Async Sync AsyncSync</p>
    <p>How to scale remote memory?</p>
    <p>How to find remote memory in the cluster?  Which remote mapping should be evicted?</p>
  </div>
  <div class="page">
    <p>Objectives Ideas</p>
    <p>No hardware design Remote paging</p>
    <p>No application modification</p>
    <p>Fault-tolerance Local backup disk</p>
    <p>Scalability Decentralized remote memory management</p>
    <p>How to meet the design objectives?</p>
  </div>
  <div class="page">
    <p>Management unit: memory page?</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Management unit: memory page?</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Local Page Remote Page p100 &lt;s1, p1&gt;</p>
  </div>
  <div class="page">
    <p>Management unit: memory slab!</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Management unit: memory slab!</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Which remote machine should be selected?</p>
  </div>
  <div class="page">
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Which remote machine should be selected?</p>
    <p>Goal: balance memory utilization</p>
  </div>
  <div class="page">
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Which remote machine should be selected?</p>
    <p>Central controller</p>
  </div>
  <div class="page">
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Which remote machine should be selected?</p>
    <p>Central controller</p>
    <p>Decentralized approach</p>
  </div>
  <div class="page">
    <p>[1]Power of two choices[1]</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>[1] Mitzenmacher, Michael. &quot;The power of two choices in randomized load balancing., Ph.D. thesis, U.C. Berkeley, 1996</p>
  </div>
  <div class="page">
    <p>[1]Power of two choices[1]</p>
    <p>[1] Mitzenmacher, Michael. &quot;The power of two choices in randomized load balancing., Ph.D. thesis, U.C. Berkeley, 1996</p>
    <p>Infiniswap Block Device</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Slab eviction</p>
    <p>Infiniswap Daemon</p>
    <p>Remote Memory Used Memory</p>
    <p>Mapped Slab Unmapped Slab</p>
  </div>
  <div class="page">
    <p>Slab eviction</p>
    <p>Infiniswap Daemon</p>
    <p>Remote Memory Used Memory</p>
    <p>Infiniswap Daemon</p>
    <p>Remote Memory Used Memory</p>
    <p>Mapped Slab Unmapped Slab</p>
  </div>
  <div class="page">
    <p>Slab eviction</p>
    <p>Infiniswap Daemon</p>
    <p>Remote Memory Used Memory</p>
    <p>Infiniswap Daemon</p>
    <p>Remote Memory Used Memory</p>
    <p>Infiniswap Daemon</p>
    <p>Remote Memory Used Memory</p>
    <p>Mapped Slab Unmapped Slab</p>
  </div>
  <div class="page">
    <p>Which slab should be evicted?</p>
    <p>Daemon: Does not know the swap activities</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Daemon: Too expensive to query all the slabs</p>
    <p>Infiniswap Daemon</p>
    <p>Which slab should be evicted?</p>
  </div>
  <div class="page">
    <p>Infiniswap Daemon</p>
    <p>Power of multiple choices[1]</p>
    <p>Select E least-active slabs from E+E random slabs</p>
    <p>[1] Park, Gahyun. &quot;A generalization of multiple choice balls-into-bins. PODC11</p>
  </div>
  <div class="page">
    <p>Infiniswap Daemon</p>
    <p>Power of multiple choices[1]</p>
    <p>Select E least-active slabs from E+E random slabs</p>
    <p>[1] Park, Gahyun. &quot;A generalization of multiple choice balls-into-bins. PODC11</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Infiniswap Daemon</p>
    <p>Power of multiple choices[1]</p>
    <p>Select E least-active slabs from E+E random slabs</p>
    <p>[1] Park, Gahyun. &quot;A generalization of multiple choice balls-into-bins. PODC11</p>
    <p>Infiniswap Daemon</p>
    <p>Infiniswap Daemon</p>
  </div>
  <div class="page">
    <p>Agenda  Motivation and related work</p>
    <p>Design and system overview</p>
    <p>Implementation and evaluation</p>
    <p>Future work and conclusion</p>
  </div>
  <div class="page">
    <p>Implementation</p>
    <p>Connection Management  One RDMA connection per active block device - daemon pair</p>
    <p>Control Plane  SEND, RECV</p>
    <p>Data Plane  One-sided RDMA READ, WRITE</p>
    <p>Kernel Space</p>
    <p>Infiniswap Block Device</p>
    <p>User Space</p>
    <p>Infiniswap Daemon</p>
    <p>RDMA</p>
  </div>
  <div class="page">
    <p>What are we expecting from Infiniswap?</p>
    <p>Application performance</p>
    <p>Cluster memory utilization</p>
    <p>Network usage</p>
    <p>Eviction overhead</p>
    <p>Fault-tolerance overhead</p>
    <p>Performance as a block device</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>InfiniBand Network</p>
  </div>
  <div class="page">
    <p>50% working sets in memory</p>
    <p>Application performance</p>
    <p>Application performance is improved by 2-16x</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>50% working sets in memory</p>
    <p>Application performance</p>
    <p>Application performance is improved by 2-16x</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N o rm</p>
    <p>al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>50% working sets in memory</p>
    <p>Application performance</p>
    <p>Application performance is improved by 2-16x</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N or m al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
    <p>VoltDB (TPC-C)</p>
    <p>Memcached (Facebook/FB SYS)</p>
    <p>PowerGraph (TunkRank)</p>
    <p>GraphX (PageRank)</p>
    <p>N o rm</p>
    <p>al iz ed</p>
    <p>P er fo rm</p>
    <p>an ce</p>
  </div>
  <div class="page">
    <p>90 containers (applications), mixing all applications and memory constraints.</p>
    <p>Cluster memory utilization</p>
    <p>M em</p>
    <p>or y U til iz at io n (% )</p>
    <p>Rank of Machines</p>
    <p>A xi s Ti tle</p>
    <p>Axis Title</p>
    <p>Chart Title</p>
    <p>Infiniswap w/o Infiniswap</p>
  </div>
  <div class="page">
    <p>Agenda  Motivation and related work</p>
    <p>Design and system overview</p>
    <p>Implementation and evaluation</p>
    <p>Future work and conclusion</p>
  </div>
  <div class="page">
    <p>Limitations and future work  Trade-off in fault-tolerance</p>
    <p>Local disk is the bottleneck  Multiple remote replicas</p>
    <p>Fault-tolerance vs. space-efficiency</p>
    <p>Performance isolation among applications  W/o limitation on each applications usage  W/o mapping between remote memory and applications</p>
  </div>
  <div class="page">
    <p>Infiniswap: remote paging over RDMA  Application performance  Cluster memory utilization</p>
    <p>Conclusion</p>
    <p>Efficient, practical memory disaggregation  No hardware design  No application modification  Fault-tolerance  Scalability</p>
    <p>Source code is coming soon! https://github.com/Infiniswap/infiniswap.git</p>
  </div>
  <div class="page">
    <p>Thank You !</p>
  </div>
</Presentation>
