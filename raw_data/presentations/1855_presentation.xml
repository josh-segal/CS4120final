<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Enabling Topological Flexibility for Data Centers Using OmniSwitch</p>
    <p>Yi#ng Xia , Mike Schlansker , T. S. Eugene Ng , Jean Tourrilhes</p>
    <p>Rice University , HP Labs</p>
    <p>HotCloud 2015</p>
    <p>* *</p>
    <p>*</p>
  </div>
  <div class="page">
    <p>TradiPonal data centers</p>
    <p>Aggrega&amp;on) switch))</p>
    <p>Core) switch)</p>
    <p>Top3of3Rack) (ToR))switch))</p>
    <p>Fixed network topology  MulP-rooted tree structure of Ethernet switches  Bandwidth oversubscripPon  OpPcal fibers and transceivers for fast transmission</p>
  </div>
  <div class="page">
    <p>Aggrega&amp;on) switch))</p>
    <p>Core) switch)</p>
    <p>Top3of3Rack) (ToR))switch))</p>
    <p>Limited traffic opPmizaPon</p>
    <p>Problems of fixed topology</p>
  </div>
  <div class="page">
    <p>Aggrega&amp;on) switch))</p>
    <p>Core) switch)</p>
    <p>Top3of3Rack) (ToR))switch))</p>
    <p>Limited traffic opPmizaPon</p>
    <p>Problems of fixed topology</p>
  </div>
  <div class="page">
    <p>Aggrega&amp;on) switch))</p>
    <p>Core) switch)</p>
    <p>Top3of3Rack) (ToR))switch))</p>
    <p>Limited traffic opPmizaPon</p>
    <p>Problems of fixed topology</p>
  </div>
  <div class="page">
    <p>Limited traffic opPmizaPon  Complex wiring  Poor expansion</p>
    <p>Problems of fixed topology</p>
  </div>
  <div class="page">
    <p>Limited traffic opPmizaPon  Complex wiring  Poor expansion  High redundancy cost</p>
    <p>Problems of fixed topology</p>
    <p>Backup switch</p>
    <p>Backup link</p>
  </div>
  <div class="page">
    <p>SoluPon: topological flexibility</p>
    <p>Dynamic cable rewiring  Can be achieved using circuit switch</p>
  </div>
  <div class="page">
    <p>Dynamic cable rewiring  Can be achieved using circuit switch  Circuit switch - dedicated links - many possible topologies - configured by so6ware</p>
    <p>A B C D 5</p>
    <p>SoluPon: topological flexibility</p>
  </div>
  <div class="page">
    <p>SoluPon: topological flexibility</p>
    <p>Dynamic cable rewiring  Can be achieved using circuit switch  Circuit switch - dedicated links - many possible topologies - configured by so6ware</p>
    <p>A B C D 5</p>
  </div>
  <div class="page">
    <p>SoluPon: topological flexibility</p>
    <p>Dynamic cable rewiring  Can be achieved using circuit switch  Circuit switch - dedicated links - many possible topologies - configured by so6ware</p>
    <p>A B C D 5</p>
  </div>
  <div class="page">
    <p>Topological flexibility example</p>
  </div>
  <div class="page">
    <p>Topological flexibility example</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>Photonic Conversion</p>
    <p>Spare Switch Front Panel</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Photonic Conversion</p>
    <p>Spare Switch</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Photonic Conversion</p>
    <p>Spare Switch Front Panel</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>Photonic Conversion</p>
    <p>Spare Switch Front Panel</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>OmniSwitch architecture</p>
  </div>
  <div class="page">
    <p>OmniSwitch architecture</p>
    <p>Modular design  Small opPcal circuit switches  Interleaving opPcal and Ethernet switches  1 out of 5 Ethernet switch as backup  16 fibers bundled into 1 mulPlink</p>
    <p>Stack</p>
    <p>...</p>
    <p>Stack</p>
    <p>Spare Switch</p>
    <p>Photonic Conversion</p>
    <p>Front View of OmniSwitch Panel</p>
    <p>ul til</p>
    <p>in k</p>
    <p>C on</p>
    <p>ne ct</p>
    <p>or s</p>
    <p>Multilink 16 x 25G</p>
    <p>Front Panel</p>
    <p>Photonic Conversion</p>
    <p>Spare Switch Front Panel</p>
  </div>
  <div class="page">
    <p>OmniSwitch mesh network</p>
    <p>(a)</p>
    <p>(b) 8</p>
  </div>
  <div class="page">
    <p>OmniSwitch tree network 1 Spine</p>
    <p>OmniSwitch</p>
    <p>(a)</p>
    <p>(b)</p>
  </div>
  <div class="page">
    <p>Benefits of OmniSwitch  Easy wiring - mul8links - automa8c internal wiring</p>
    <p>Incremental expansion - add equipments in cabinet - purchase new cabinets</p>
    <p>Efficient backup - 1:5 vs. 1:1 redundancy</p>
    <p>Traffic opPmizaPon - traffic locality - load balancing</p>
    <p>Cost effecPveness - cheap small op8cal circuit switches - constrained flexibility 10</p>
    <p>Photonic Conversion</p>
    <p>Spare Switch Front Panel</p>
  </div>
  <div class="page">
    <p>Control plane</p>
    <p>ExisPng rouPng schemes do not work - need to configure topology &amp; rou8ng  Data center administered by single enPty - centralized network controller  OpPcal switches configured by so`ware  RouPng enforced by many possible mechanisms - OpenFlow protocol - VLAN - source rou8ng  Control logic customized to use cases</p>
  </div>
  <div class="page">
    <p>VM clustering: a case study</p>
    <p>Tenant refers to a cluster of VMs  VM only talks to other VMs in the same tenant  Localize traffic within tenant  Tenant management, not flow management  Input: pipe model  Output: 1) opPcal switch secngs 2) placement of VLs on physical links</p>
    <p>VM Virtual Link (VL)</p>
  </div>
  <div class="page">
    <p>Control algorithm</p>
    <p>Hard problem - NP-complete for fixed topology - search space larger for OmniSwitch  Tree-structured OmniSwitch cabinets  IteraPve from bodom up  VMs already placed  beder topology &amp; rouPng  Search space small - uplinks on switches - permuta8ons on small op8cal switches  Configure topology and rouPng at the same Pme 13</p>
  </div>
  <div class="page">
    <p>Control algorithm</p>
    <p>Hard problem - NP-complete for fixed topology - search space larger for OmniSwitch  Tree-structured OmniSwitch cabinets  IteraPve from bodom up  VMs already placed  beder topology &amp; rouPng  Search space small - uplinks on switches - permuta8ons on small op8cal switches  Configure topology and rouPng at the same Pme 13</p>
  </div>
  <div class="page">
    <p>EvaluaPons</p>
    <p>Tenant provisioning scenario  Smart VM placement vs. flexible topology  Systems compared  dumb - con8guous VM placement + ECMP rou8ng + fixed Clos network  SecondNet - SecondNet VM placement and rou8ng + fixed Clos network  OmniSwitch - con8guous VM placement + VM clustering algorithm + OmniSwitch network  OmniSwitch (big OCS) - same as above, but 1 big op8cal switch in each OmniSwitch cabinet</p>
  </div>
  <div class="page">
    <p>Bandwidth rejecPon rate</p>
    <p>Load</p>
    <p>B an</p>
    <p>dw id</p>
    <p>th R</p>
    <p>ej ec</p>
    <p>tio n</p>
    <p>R at</p>
    <p>e</p>
    <p>dumb + fixed Clos SecondNet + fixed Clos OmniSwitch OmniSwitch (big OCS)</p>
    <p>bw rejecPon rate = rejected bw / requested bw load = tenant size * arrival rate * duraPon / #VM</p>
  </div>
  <div class="page">
    <p>Transmission hop count</p>
    <p>dumb SecondNet OmniSwitch OmniSwitch (big OCS)</p>
    <p>Average hop count when load = 0.8</p>
  </div>
  <div class="page">
    <p>ComputaPon Pme</p>
    <p>Tenant Size (#VM)</p>
    <p>C om</p>
    <p>pu ta</p>
    <p>tio n</p>
    <p>Ti m</p>
    <p>e (u</p>
    <p>s)</p>
    <p>SecondNet  load = 0.2 SecondNet  load = 0.5 SecondNet  load = 0.8 OmniSwitch  load = 0.2 OmniSwitch  load = 0.5 OmniSwitch  load = 0.8</p>
  </div>
  <div class="page">
    <p>Conclusion  OmniSwitch is a modular data center architecture  Integrated opPcal switches and Ethernet switches for</p>
    <p>topological flexibility and large-scale connecPvity  Topological flexibility improves traffic opPmizaPon and</p>
    <p>simplifies network management  VM clustering as a case study - reduce transmission path length - host more bandwidth - low computa8on 8me</p>
  </div>
</Presentation>
