<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Computational Risk Management for Building Highly Reliable Network Services</p>
    <p>Chaki Ng</p>
    <p>Brent N. Chun</p>
    <p>Philip Buonadonna</p>
    <p>HotDep05</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 2</p>
    <p>Network Service Performance</p>
    <p>Desire for Hard Performance Guarantees  99.999% availability, all trades &lt; 30 seconds</p>
    <p>Difficult to Achieve Consistently  Demand: workload varies and can be bursty  Supply: resource needs vary and hard to plan for</p>
    <p>Dedicated and Over-Provisioning  $$$, low utilization</p>
    <p>Shared Infrastructure  Resource supply varies  competition, failures</p>
    <p>Tradeoff supply and performance guarantees</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 3</p>
    <p>Computational Service Provider (CSP)</p>
    <p>Goal: mechanism to manage supply  Resources (e.g. server nodes)</p>
    <p>Accommodate peak demand of most services</p>
    <p>Markets of nodes  Each node sells resource contracts</p>
    <p>Spot, futures, options</p>
    <p>Contracts priced based on supply and demand</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 4</p>
    <p>Measure Risk</p>
    <p>How to quantify performance guarantees  Risk metrics: simple statistical summaries of undesirable</p>
    <p>outcomes</p>
    <p>Example: Value-at-Risk (VaR)  Finance: The Fidelity mutual fund will lose no more</p>
    <p>than $25MM monthly, with 95% probability  Computation: Amazon.com will process orders in less</p>
    <p>than 30 seconds daily for 95% of all orders</p>
    <p>Two challenges: calculate VaR and sensitivity analysis of VaR</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 5</p>
    <p>Calculate VaR</p>
    <p>Calc expected performance distribution  Example method: historical</p>
    <p>Methods: Variance, Monte Carlo, Stress Testing</p>
    <p>P ro</p>
    <p>b a b il it</p>
    <p>y</p>
    <p>Fidelity Fund Profit/Loss</p>
    <p>P ro</p>
    <p>b a b il it</p>
    <p>y</p>
    <p>Amazon.com Order Time 0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 6</p>
    <p>Compute VaR: Model Supply and Demand Own Service</p>
    <p>Workload Forecast</p>
    <p>Node Performance and Trade Forecast</p>
    <p>Aggregate Workload Forecast</p>
    <p>VaR</p>
    <p>Set of Accessible Node Resources</p>
    <p>Supply</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 7</p>
    <p>Sensitivity Analysis of VaR</p>
    <p>Goal: model how VaR varies as the set of resource contracts changes</p>
    <p>VaR = F(set of resource contracts)</p>
    <p>Forecast demand and supply  Nodes and aggregate workload forecast  Own client workload forecast</p>
    <p>Model portfolio VaR  Swap set of resource contracts  Calculate VaR improvements</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 8</p>
    <p>Portfolio Management</p>
    <p>Goal: meet target VaR within budget and minimal cost</p>
    <p>Continuous portfolio optimization  Find available set of resources  Find sets that achieve best VaR</p>
    <p>Trade resource contracts  Buy best set within budget</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 9</p>
    <p>Finance: Manage Portfolio VaR</p>
    <p>Portfolio VaR</p>
    <p>Target VaR: The Fidelity mutual fund will lose no more than $25MM monthly with 95% probability.</p>
    <p>IBM MSFT ORCL</p>
    <p>P ro</p>
    <p>b a b il it</p>
    <p>y</p>
    <p>Fidelity Profit/Loss</p>
    <p>EBAY</p>
    <p>Financial Markets</p>
    <p>Sell IBM @ $75 Buy EBay @ $37</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 10</p>
    <p>P ro</p>
    <p>b a b il it</p>
    <p>y</p>
    <p>Amazon.com Order Time 0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36</p>
    <p>Node4</p>
    <p>Computation: Manage Portfolio VaR</p>
    <p>Portfolio VaR</p>
    <p>Target VaR: Amazon.com will process orders in less than 30 seconds for 95% of all orders.</p>
    <p>Node1 Node2 Node3</p>
    <p>CSP</p>
    <p>Sell Node1 @ $50 Buy Node4 @ $30</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 11</p>
    <p>Open Problems</p>
    <p>Resource Contracts: pricing, base units  Programming: model, API  Modeling Supply and Demand  Portfolio Strategies: standard</p>
    <p>portfolios  Interoperability: across different CSPes</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 12</p>
    <p>Conclusion</p>
    <p>Dedicated vs. shared  CSP: share resources via markets  Achieve performance goals in the</p>
    <p>context of shared CSP  Quantify performance goal via risk metrics like VaR  Calculation and sensitivity analysis  Portfolio optimization</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 13</p>
    <p>Backup Slides</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 14</p>
    <p>Simple Experiment</p>
    <p>Service Workload</p>
    <p>Node Failures</p>
    <p>Each request tries N nodes randomly</p>
    <p>If both nodes down  failed request</p>
    <p>Daily Service Availability =</p>
    <p>Failover</p>
    <p>Successful Requests</p>
    <p>All Requests</p>
  </div>
  <div class="page">
    <p>Chaki Ng || Computational Risk Management 15</p>
    <p>Results</p>
    <p>Each point: 100 daily runs, 100 requests/hr</p>
  </div>
</Presentation>
