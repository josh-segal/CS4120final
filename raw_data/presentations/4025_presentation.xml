<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>On Static and Dynamic Partitioning</p>
    <p>Behavior of Large-Scale Networks</p>
    <p>Derek Leonard, Zhongmei Yao, Xiaoming Wang, and Dmitri Loguinov</p>
    <p>Internet Research Lab Department of Computer Science</p>
    <p>Texas A&amp;M University College Station, TX 77843</p>
    <p>November 9th, 2005</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 1/41</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 2/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 3/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background I</p>
    <p>Resilience of Peer-to-Peer Networks</p>
    <p>The resilience of P2P networks to disconnection (partitioning) is important to their design and performance</p>
    <p>Two Types of Resilience</p>
    <p>The local resilience of a graph G we define to be the probability that a node v is isolated (has no neighbors) from the system</p>
    <p>Global resilience refers to the probability that G is a connected graph</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 4/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background I</p>
    <p>Resilience of Peer-to-Peer Networks</p>
    <p>The resilience of P2P networks to disconnection (partitioning) is important to their design and performance</p>
    <p>Two Types of Resilience</p>
    <p>The local resilience of a graph G we define to be the probability that a node v is isolated (has no neighbors) from the system</p>
    <p>Global resilience refers to the probability that G is a connected graph</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 4/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background I</p>
    <p>Resilience of Peer-to-Peer Networks</p>
    <p>The resilience of P2P networks to disconnection (partitioning) is important to their design and performance</p>
    <p>Two Types of Resilience</p>
    <p>The local resilience of a graph G we define to be the probability that a node v is isolated (has no neighbors) from the system</p>
    <p>Global resilience refers to the probability that G is a connected graph</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 4/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background II</p>
    <p>Node Failure</p>
    <p>To study the two kinds of resilience, some sort of random node failure is imposed on G</p>
    <p>Two Types of Node Failure</p>
    <p>The most popular approach we call static node failure, where each node is simultaneously removed from the system with independent probability p</p>
    <p>A more realistic approach is to study P2P networks under random arrival/departure of nodes, which we call dynamic node failure</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 5/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background II</p>
    <p>Node Failure</p>
    <p>To study the two kinds of resilience, some sort of random node failure is imposed on G</p>
    <p>Two Types of Node Failure</p>
    <p>The most popular approach we call static node failure, where each node is simultaneously removed from the system with independent probability p</p>
    <p>A more realistic approach is to study P2P networks under random arrival/departure of nodes, which we call dynamic node failure</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 5/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background III</p>
    <p>Random Graph Connectivity</p>
    <p>Erdos and Renyi demonstrated that almost every (i.e., with probability 1  o(1) as n  ) random graph is connected if and only if it has no isolated vertices</p>
    <p>Define (G) to be the probability that graph G remains connected under node or edge failure</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>Burtin [1977] and then later Bollobas [1983] prove that this holds under static node failure for the hypercube</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 6/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background III</p>
    <p>Random Graph Connectivity</p>
    <p>Erdos and Renyi demonstrated that almost every (i.e., with probability 1  o(1) as n  ) random graph is connected if and only if it has no isolated vertices</p>
    <p>Define (G) to be the probability that graph G remains connected under node or edge failure</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>Burtin [1977] and then later Bollobas [1983] prove that this holds under static node failure for the hypercube</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 6/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background III</p>
    <p>Random Graph Connectivity</p>
    <p>Erdos and Renyi demonstrated that almost every (i.e., with probability 1  o(1) as n  ) random graph is connected if and only if it has no isolated vertices</p>
    <p>Define (G) to be the probability that graph G remains connected under node or edge failure</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>Burtin [1977] and then later Bollobas [1983] prove that this holds under static node failure for the hypercube</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 6/41</p>
  </div>
  <div class="page">
    <p>Background</p>
    <p>Background IV</p>
    <p>Combinatorial Result</p>
    <p>Najjar and Gaudiot [1990] proposed a combinatorial model of connectivity for k-regular graphs under static node failure:</p>
    <p>(G) = n</p>
    <p>i=0</p>
    <p>Qi</p>
    <p>( n</p>
    <p>i</p>
    <p>) pi(1  p)ni,</p>
    <p>where</p>
    <p>Qi = i</p>
    <p>j=1</p>
    <p>[ 1</p>
    <p>k(n  k  1)!(j  1)!(n  j) (n  1)!(j  k)!</p>
    <p>] .</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 7/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 8/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model I</p>
    <p>Properties for Connectivity</p>
    <p>Recall that (G) is defined as the probability that G remains connected under node or edge failure:</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>To satisfy this expression, the number of edges leaving each set of nodes S must be an increasing function of set size |S|</p>
    <p>Burtin [1977] showed that hypercubes have this property by proving that larger sets S are always better connected than smaller sets</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 9/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model I</p>
    <p>Properties for Connectivity</p>
    <p>Recall that (G) is defined as the probability that G remains connected under node or edge failure:</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>To satisfy this expression, the number of edges leaving each set of nodes S must be an increasing function of set size |S| Burtin [1977] showed that hypercubes have this property by proving that larger sets S are always better connected than smaller sets</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 9/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model II</p>
    <p>Remaining Nodes</p>
    <p>Illustration</p>
    <p>The figure illustrates the connectivity of node sets in hypercube and similar random graphs</p>
    <p>The probability of any large subgraph disconnecting after node failure is negligible compared to that of an individual node</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 10/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model II</p>
    <p>Remaining Nodes</p>
    <p>Illustration</p>
    <p>The figure illustrates the connectivity of node sets in hypercube and similar random graphs</p>
    <p>The probability of any large subgraph disconnecting after node failure is negligible compared to that of an individual node</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 10/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model III</p>
    <p>Proposition</p>
    <p>If a graph G has node expansion properties no worse than those of hypercubes or random graphs of the same size, it will remain almost surely connected under random node failure if it has no isolated nodes</p>
    <p>Applicable Graphs</p>
    <p>All DHTs that can be reduced to the hypercube</p>
    <p>Graphs with better expansion than the hypercube</p>
    <p>Random graphs where users rely on random selection of neighbors during join</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 11/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model III</p>
    <p>Proposition</p>
    <p>If a graph G has node expansion properties no worse than those of hypercubes or random graphs of the same size, it will remain almost surely connected under random node failure if it has no isolated nodes</p>
    <p>Applicable Graphs</p>
    <p>All DHTs that can be reduced to the hypercube</p>
    <p>Graphs with better expansion than the hypercube</p>
    <p>Random graphs where users rely on random selection of neighbors during join</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 11/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model III</p>
    <p>Proposition</p>
    <p>If a graph G has node expansion properties no worse than those of hypercubes or random graphs of the same size, it will remain almost surely connected under random node failure if it has no isolated nodes</p>
    <p>Applicable Graphs</p>
    <p>All DHTs that can be reduced to the hypercube</p>
    <p>Graphs with better expansion than the hypercube</p>
    <p>Random graphs where users rely on random selection of neighbors during join</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 11/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model III</p>
    <p>Proposition</p>
    <p>If a graph G has node expansion properties no worse than those of hypercubes or random graphs of the same size, it will remain almost surely connected under random node failure if it has no isolated nodes</p>
    <p>Applicable Graphs</p>
    <p>All DHTs that can be reduced to the hypercube</p>
    <p>Graphs with better expansion than the hypercube</p>
    <p>Random graphs where users rely on random selection of neighbors during join</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 11/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model IV</p>
    <p>Summary</p>
    <p>For graphs that have properties described in the previous slide:</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>This is certain for extremely large graphs, but we next verify its applicability to smaller, finite graphs through simulations</p>
    <p>We later derive accurate models for the probability of isolation under both static and dynamic node failure</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 12/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Generic Global Resilience Model IV</p>
    <p>Summary</p>
    <p>For graphs that have properties described in the previous slide:</p>
    <p>(G) = P (G has no isolated nodes)</p>
    <p>This is certain for extremely large graphs, but we next verify its applicability to smaller, finite graphs through simulations</p>
    <p>We later derive accurate models for the probability of isolation under both static and dynamic node failure</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 12/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 13/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure I</p>
    <p>Simulations</p>
    <p>Recall that static node failure is done by removing each node from the graph independently with probability p</p>
    <p>We simulated a number of graphs using 100, 000 failure patterns for each value of p</p>
    <p>Table: Chord with n = 16384 under static node failure</p>
    <p>p (G) P (no isolated nodes) 0.5 0.99996 0.99996 0.6 0.99354 0.99354 0.7 0.72619 0.72650 0.8 0.00040 0.00043</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 14/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure I</p>
    <p>Simulations</p>
    <p>Recall that static node failure is done by removing each node from the graph independently with probability p</p>
    <p>We simulated a number of graphs using 100, 000 failure patterns for each value of p</p>
    <p>Table: Chord with n = 16384 under static node failure</p>
    <p>p (G) P (no isolated nodes) 0.5 0.99996 0.99996 0.6 0.99354 0.99354 0.7 0.72619 0.72650 0.8 0.00040 0.00043</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 14/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 15/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure I</p>
    <p>Lifetime-based Node Failure</p>
    <p>What can be said about node-failure in real-world P2P systems?</p>
    <p>Nodes arrive/depart dynamically instead due to individual behavior</p>
    <p>Model: we assign each user a random lifetime Li from a distribution F (x) the reflects the behavior of the user and represents the duration of his/her service to the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 16/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure I</p>
    <p>Lifetime-based Node Failure</p>
    <p>What can be said about node-failure in real-world P2P systems?</p>
    <p>Nodes arrive/depart dynamically instead due to individual behavior</p>
    <p>Model: we assign each user a random lifetime Li from a distribution F (x) the reflects the behavior of the user and represents the duration of his/her service to the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 16/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure II</p>
    <p>Model Assumptions</p>
    <p>Arrival: nodes arrive randomly according to any process; however, their arrival times are uncorrelated with lifetimes of existing nodes</p>
    <p>Departure: nodes deterministically die (fail) after spending Li time units in the system</p>
    <p>Neighbor selection: neighbors are picked from among the existing nodes using any rules that do not involve node lifetimes or age (e.g., based on random walks, etc.)</p>
    <p>Neighbor replacement: once a failed neighbor is detected, a replacement search is performed</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 17/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure II</p>
    <p>Model Assumptions</p>
    <p>Arrival: nodes arrive randomly according to any process; however, their arrival times are uncorrelated with lifetimes of existing nodes</p>
    <p>Departure: nodes deterministically die (fail) after spending Li time units in the system</p>
    <p>Neighbor selection: neighbors are picked from among the existing nodes using any rules that do not involve node lifetimes or age (e.g., based on random walks, etc.)</p>
    <p>Neighbor replacement: once a failed neighbor is detected, a replacement search is performed</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 17/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure II</p>
    <p>Model Assumptions</p>
    <p>Arrival: nodes arrive randomly according to any process; however, their arrival times are uncorrelated with lifetimes of existing nodes</p>
    <p>Departure: nodes deterministically die (fail) after spending Li time units in the system</p>
    <p>Neighbor selection: neighbors are picked from among the existing nodes using any rules that do not involve node lifetimes or age (e.g., based on random walks, etc.)</p>
    <p>Neighbor replacement: once a failed neighbor is detected, a replacement search is performed</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 17/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure II</p>
    <p>Model Assumptions</p>
    <p>Arrival: nodes arrive randomly according to any process; however, their arrival times are uncorrelated with lifetimes of existing nodes</p>
    <p>Departure: nodes deterministically die (fail) after spending Li time units in the system</p>
    <p>Neighbor selection: neighbors are picked from among the existing nodes using any rules that do not involve node lifetimes or age (e.g., based on random walks, etc.)</p>
    <p>Neighbor replacement: once a failed neighbor is detected, a replacement search is performed</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 17/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure III</p>
    <p>Definition</p>
    <p>A node becomes isolated when all of the neighbors in its table are in the failed state</p>
    <p>de gr ee</p>
    <p>time</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 18/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure IV</p>
    <p>Lifetimes of Neighbors</p>
    <p>The k neighbors of node v are represented by residual lifetimes</p>
    <p>tv R1</p>
    <p>R4</p>
    <p>Definition</p>
    <p>Let Ri be the remaining lifetime of neighbor i when v joined the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 19/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure IV</p>
    <p>Lifetimes of Neighbors</p>
    <p>The k neighbors of node v are represented by residual lifetimes</p>
    <p>tv R1</p>
    <p>R4</p>
    <p>Definition</p>
    <p>Let Ri be the remaining lifetime of neighbor i when v joined the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 19/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure V</p>
    <p>Formalizing Search Time</p>
    <p>When a neighbor fails, there is usually some detection mechanism (e.g., periodic probing)</p>
    <p>Systems often repair the failed zone of a DHT or find a random replacement neighbor in unstructured systems</p>
    <p>We allow this process to be arbitrary as the technique employed has no effect on our results</p>
    <p>Definition</p>
    <p>Let Si be a random variable describing the total search time for the i-th replacement in the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 20/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure V</p>
    <p>Formalizing Search Time</p>
    <p>When a neighbor fails, there is usually some detection mechanism (e.g., periodic probing)</p>
    <p>Systems often repair the failed zone of a DHT or find a random replacement neighbor in unstructured systems</p>
    <p>We allow this process to be arbitrary as the technique employed has no effect on our results</p>
    <p>Definition</p>
    <p>Let Si be a random variable describing the total search time for the i-th replacement in the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 20/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure VI</p>
    <p>Definition</p>
    <p>Define Z to be the random time (in terms of user joins) when a graph G disconnects for the first time under the lifetime model</p>
    <p>Proposition</p>
    <p>The probability that the graph stays connected for more than N user joins is almost surely:</p>
    <p>P (Z &gt; N ) = (1  )N ,</p>
    <p>where  is the probability of isolation for a single node</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 21/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure VI</p>
    <p>Definition</p>
    <p>Define Z to be the random time (in terms of user joins) when a graph G disconnects for the first time under the lifetime model</p>
    <p>Proposition</p>
    <p>The probability that the graph stays connected for more than N user joins is almost surely:</p>
    <p>P (Z &gt; N ) = (1  )N ,</p>
    <p>where  is the probability of isolation for a single node</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 21/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure VII</p>
    <p>Simulations</p>
    <p>Simulations results are below with  computed empirically</p>
    <p>Table: Simulations for 12-regular CAN with N = 106 and degree-irregular Chord with k  13 and N = 50, 000</p>
    <p>Search time CAN Model Chord Model 6 mins .9732 .9728 .6295 .6251 7.5 mins .8118 .8124 .3284 .3184 8.5 mins .5669 .5659 .2189 .2206 9 mins .4065 .4028 .1460 .1483 9.5 mins .2613 .2645 .1211 .1274 10.5 mins .0482 .0471 .0493 .0493</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 22/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure VIII</p>
    <p>Implications</p>
    <p>Using 6-minute replacement delays, CAN has a 97% chance of surviving 1 million user joins without disconnecting</p>
    <p>For reasonably small search delays, network partitioning in lifetime-based systems almost surely effects only a single node in the system</p>
    <p>Note that in these simulations  is calculated empirically, we later derive a model for  and show that it is very accurate as well</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 23/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure VIII</p>
    <p>Implications</p>
    <p>Using 6-minute replacement delays, CAN has a 97% chance of surviving 1 million user joins without disconnecting</p>
    <p>For reasonably small search delays, network partitioning in lifetime-based systems almost surely effects only a single node in the system</p>
    <p>Note that in these simulations  is calculated empirically, we later derive a model for  and show that it is very accurate as well</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 23/41</p>
  </div>
  <div class="page">
    <p>Generic Global Resilience Model Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure VIII</p>
    <p>Implications</p>
    <p>Using 6-minute replacement delays, CAN has a 97% chance of surviving 1 million user joins without disconnecting</p>
    <p>For reasonably small search delays, network partitioning in lifetime-based systems almost surely effects only a single node in the system</p>
    <p>Note that in these simulations  is calculated empirically, we later derive a model for  and show that it is very accurate as well</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 23/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 24/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model I</p>
    <p>Preliminaries</p>
    <p>We now develop a simple closed-form model for the probability that there are no isolated nodes under static node failure</p>
    <p>Let pi be the probability that node i is isolated and alive after the failure</p>
    <p>Proposition</p>
    <p>The number of isolated vertices X tends to a Poisson distribution with mean  =</p>
    <p>i pi and the probability (G) of</p>
    <p>having a connected graph converges to e with probability 1 as n</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 25/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model I</p>
    <p>Preliminaries</p>
    <p>We now develop a simple closed-form model for the probability that there are no isolated nodes under static node failure</p>
    <p>Let pi be the probability that node i is isolated and alive after the failure</p>
    <p>Proposition</p>
    <p>The number of isolated vertices X tends to a Poisson distribution with mean  =</p>
    <p>i pi and the probability (G) of</p>
    <p>having a connected graph converges to e with probability 1 as n</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 25/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model I</p>
    <p>Preliminaries</p>
    <p>We now develop a simple closed-form model for the probability that there are no isolated nodes under static node failure</p>
    <p>Let pi be the probability that node i is isolated and alive after the failure</p>
    <p>Proposition</p>
    <p>The number of isolated vertices X tends to a Poisson distribution with mean  =</p>
    <p>i pi and the probability (G) of</p>
    <p>having a connected graph converges to e with probability 1 as n</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 25/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model II</p>
    <p>Table: Simulation results and model for two regular graphs.</p>
    <p>p Chord n = 16384, k = 27 de Bruijn n = 20736, k = 24 (G) Model Najjar (G) Model Najjar</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 26/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model III</p>
    <p>Observations</p>
    <p>The model is very accurate for all values of disconnection probability p</p>
    <p>The more complex result of Najjar and Gaudiot is less accurate than the model</p>
    <p>Next step</p>
    <p>We now show that our model also applies to irregular graphs, which has not been attempted previously to our knowledge</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 27/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model III</p>
    <p>Observations</p>
    <p>The model is very accurate for all values of disconnection probability p</p>
    <p>The more complex result of Najjar and Gaudiot is less accurate than the model</p>
    <p>Next step</p>
    <p>We now show that our model also applies to irregular graphs, which has not been attempted previously to our knowledge</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 27/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Static Node Failure Model IV</p>
    <p>Table: Simulation results and model for three irregular graphs.</p>
    <p>p Symphony Gnutella Randomized Chord (G) Model (G) Model (G) Model</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 28/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Outline</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 29/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model I</p>
    <p>Exact Numerical Solution</p>
    <p>What is the probability  that a node will become isolated from the network during its lifetime?</p>
    <p>For exponential lifetimes and exponential search delays, the probability of isolation is:</p>
    <p>= k</p>
    <p>j=1</p>
    <p>(vj)(u T j r)</p>
    <p>+ j ,</p>
    <p>where  = 1/E[Li], j is the j-th eigenvalue of a scaled rate matrix R,  = (0, 0, . . . , 1), and vj and uj are eigenvectors of R</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 30/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model I</p>
    <p>Exact Numerical Solution</p>
    <p>What is the probability  that a node will become isolated from the network during its lifetime?</p>
    <p>For exponential lifetimes and exponential search delays, the probability of isolation is:</p>
    <p>= k</p>
    <p>j=1</p>
    <p>(vj)(u T j r)</p>
    <p>+ j ,</p>
    <p>where  = 1/E[Li], j is the j-th eigenvalue of a scaled rate matrix R,  = (0, 0, . . . , 1), and vj and uj are eigenvectors of R</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 30/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model II</p>
    <p>Simulations</p>
    <p>Simulations with E[Li] = 0.5 and k = 8</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y</p>
    <p>simulations</p>
    <p>exact model</p>
    <p>(a) exponential Si</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y simulations</p>
    <p>exact model</p>
    <p>(b) constant Si</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 31/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model III</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y</p>
    <p>simulations</p>
    <p>exact model</p>
    <p>(c) uniform Si</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y</p>
    <p>simulations</p>
    <p>exact model</p>
    <p>(d) Pareto Si with  = 3</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 32/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model IV</p>
    <p>Asymptotic Expansion</p>
    <p>This result requires numerical manipulation to calculate, so we simplify the model for  to the following</p>
    <p>Proposition</p>
    <p>For asymptotically small exponential search delays and exponential lifetimes:</p>
    <p>= k</p>
    <p>(1 + )k + k  1 + o(1),</p>
    <p>where  = E[Li]/E[Si]</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 33/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model IV</p>
    <p>Asymptotic Expansion</p>
    <p>This result requires numerical manipulation to calculate, so we simplify the model for  to the following</p>
    <p>Proposition</p>
    <p>For asymptotically small exponential search delays and exponential lifetimes:</p>
    <p>= k</p>
    <p>(1 + )k + k  1 + o(1),</p>
    <p>where  = E[Li]/E[Si]</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 33/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model V</p>
    <p>Simulations</p>
    <p>Simulations with E[Li] = 0.5 and k = 8</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y</p>
    <p>simulations</p>
    <p>approx model</p>
    <p>(e) exponential Si</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y simulations</p>
    <p>approx model</p>
    <p>(f) constant Si</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 34/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model VI</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y</p>
    <p>simulations</p>
    <p>approx model</p>
    <p>(g) uniform Si</p>
    <p>is o</p>
    <p>la ti</p>
    <p>o n</p>
    <p>p ro</p>
    <p>b a b</p>
    <p>il it</p>
    <p>y</p>
    <p>simulations</p>
    <p>approx model</p>
    <p>(h) Pareto Si with  = 3</p>
    <p>Simulations</p>
    <p>As E[Si] becomes small the simulations converge to the model</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 35/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model VII</p>
    <p>Convergence of Asymptotic Expansion to Numerical Result</p>
    <p>As search delay decreases, the asymptotic expansion for  approaches the numerical solution</p>
    <p>Table: Exponential search delays, E[Li] = 0.5 and k = 8</p>
    <p>E[Si] Numeric  Asymptotic  Ratio 1 hour 3.2480  102 1.3971  101 4.3017 6 min 1.5379  105 2.3814  105 1.5485 36 sec 8.2856  1012 8.7397  1012 1.0548 3.6 sec 1.0023  1018 1.0078  1018 1.0054 360 ms 1.0218  1025 1.0224  1025 1.0006</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 36/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model VIII</p>
    <p>Heavy-tailed Lifetimes</p>
    <p>This result also applies to heavy-tailed lifetime distributions</p>
    <p>Proposition</p>
    <p>For an arbitrary distribution of search delays and any lifetime distribution F (x) with an exponential or heavier tail, the following holds:</p>
    <p>k</p>
    <p>(1 + )k + k  1 ,</p>
    <p>where  = E[Li]/E[Si]</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 37/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Dynamic Node Failure Model VIII</p>
    <p>Heavy-tailed Lifetimes</p>
    <p>This result also applies to heavy-tailed lifetime distributions</p>
    <p>Proposition</p>
    <p>For an arbitrary distribution of search delays and any lifetime distribution F (x) with an exponential or heavier tail, the following holds:</p>
    <p>k</p>
    <p>(1 + )k + k  1 ,</p>
    <p>where  = E[Li]/E[Si]</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 37/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure I</p>
    <p>Global Resilience Model</p>
    <p>Using this result, we now revisit global resilience under dynamic node failure previously demonstrated with simulated</p>
    <p>Proposition</p>
    <p>The global resilience of a graph G is lower bounded by:</p>
    <p>P (Z &gt; N ) = (1  )N  (</p>
    <p>(1 + )k + k  1</p>
    <p>)N ,</p>
    <p>where Z is the number of user joins before the first disconnection of the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 38/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure I</p>
    <p>Global Resilience Model</p>
    <p>Using this result, we now revisit global resilience under dynamic node failure previously demonstrated with simulated</p>
    <p>Proposition</p>
    <p>The global resilience of a graph G is lower bounded by:</p>
    <p>P (Z &gt; N ) = (1  )N  (</p>
    <p>(1 + )k + k  1</p>
    <p>)N ,</p>
    <p>where Z is the number of user joins before the first disconnection of the system</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 38/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure II</p>
    <p>Simulations</p>
    <p>Table: Comparison of P (Z &gt; N ) in CAN</p>
    <p>Fixed search Actual Model time (min) P (Z &gt; N ) 6 .9732 .9728 7.5 .8118 .8215 8.5 .5669 .5666 9.5 .2613 .2419 10.5 .0482 .0424</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 39/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure III</p>
    <p>Example</p>
    <p>Consider a system with k = 12, E[Si] = 1 minute, and E[Li] = 0.5 hours</p>
    <p>The probability of isolation  = 4.57  1016</p>
    <p>If 35 million users join and leave the system each week, the probability that the network survives for 10,000 years without disconnecting is at least 99.2%</p>
    <p>The further implication is that the mean delay between disconnections is lower bounded by 1/ user joins, or 1.2 million years</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 40/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure III</p>
    <p>Example</p>
    <p>Consider a system with k = 12, E[Si] = 1 minute, and E[Li] = 0.5 hours</p>
    <p>The probability of isolation  = 4.57  1016</p>
    <p>If 35 million users join and leave the system each week, the probability that the network survives for 10,000 years without disconnecting is at least 99.2%</p>
    <p>The further implication is that the mean delay between disconnections is lower bounded by 1/ user joins, or 1.2 million years</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 40/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure III</p>
    <p>Example</p>
    <p>Consider a system with k = 12, E[Si] = 1 minute, and E[Li] = 0.5 hours</p>
    <p>The probability of isolation  = 4.57  1016</p>
    <p>If 35 million users join and leave the system each week, the probability that the network survives for 10,000 years without disconnecting is at least 99.2%</p>
    <p>The further implication is that the mean delay between disconnections is lower bounded by 1/ user joins, or 1.2 million years</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 40/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Global Resilience under Dynamic Failure III</p>
    <p>Example</p>
    <p>Consider a system with k = 12, E[Si] = 1 minute, and E[Li] = 0.5 hours</p>
    <p>The probability of isolation  = 4.57  1016</p>
    <p>If 35 million users join and leave the system each week, the probability that the network survives for 10,000 years without disconnecting is at least 99.2%</p>
    <p>The further implication is that the mean delay between disconnections is lower bounded by 1/ user joins, or 1.2 million years</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 40/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Wrap-up</p>
    <p>Wrap-up</p>
    <p>Classical results on graph disconnection apply to most P2P networks under both static and dynamic node failure</p>
    <p>In the case of both static and dynamic node failure, global resilience has been effectively reduced to local resilience</p>
    <p>P2P systems are more resilient than we thought</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 41/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Wrap-up</p>
    <p>Wrap-up</p>
    <p>Classical results on graph disconnection apply to most P2P networks under both static and dynamic node failure</p>
    <p>In the case of both static and dynamic node failure, global resilience has been effectively reduced to local resilience</p>
    <p>P2P systems are more resilient than we thought</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 41/41</p>
  </div>
  <div class="page">
    <p>Static Node Failure Dynamic Node Failure</p>
    <p>Wrap-up</p>
    <p>Wrap-up</p>
    <p>Classical results on graph disconnection apply to most P2P networks under both static and dynamic node failure</p>
    <p>In the case of both static and dynamic node failure, global resilience has been effectively reduced to local resilience</p>
    <p>P2P systems are more resilient than we thought</p>
    <p>ICNP 2005 On Static and Dynamic Partitioning Behavior of Large-Scale Networks 41/41</p>
  </div>
</Presentation>
