<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Batchy: Batch-scheduling Data Flow Graphs with Service-level Objectives</p>
    <p>Tams Lvai Felicin Nmeth Barath Raghavan Gbor Rtvri</p>
  </div>
  <div class="page">
    <p>Get Things Done in Batches</p>
  </div>
  <div class="page">
    <p>Batch Scheduling 101</p>
    <p>A B</p>
  </div>
  <div class="page">
    <p>Batch Fragmentation</p>
    <p>A</p>
    <p>B</p>
    <p>C</p>
  </div>
  <div class="page">
    <p>Batch Defragmentation</p>
    <p>A B</p>
    <p>C</p>
    <p>Buffer</p>
    <p>Buffer</p>
  </div>
  <div class="page">
    <p>Batch Defragmentation</p>
    <p>A B</p>
    <p>C</p>
    <p>Buffer</p>
    <p>Buffer Buffer Size</p>
    <p>D el</p>
    <p>ay</p>
    <p>delay-SLO</p>
  </div>
  <div class="page">
    <p>Batchy</p>
    <p>Controls queue backlogs to balance efficiency and delays:</p>
    <p>Process as large batches as possible</p>
    <p>Comply with SLOs by provisioning enough resource</p>
  </div>
  <div class="page">
    <p>Profile node processing times</p>
  </div>
  <div class="page">
    <p>Batchiness:</p>
    <p>TN packets in a single batch TN-times single-packet batches</p>
  </div>
  <div class="page">
    <p>System Model</p>
    <p>Node</p>
    <p>Fractional Buffer</p>
  </div>
  <div class="page">
    <p>Controller</p>
    <p>Set buffer sizes to comply with SLOs</p>
    <p>Short-circuit useless buffers</p>
    <p>Recover from infeasibility</p>
  </div>
  <div class="page">
    <p>Architecture</p>
  </div>
  <div class="page">
    <p>Controllers Batchy:</p>
    <p>Full: buffer size in interval [0, max batch size]  On/Off: buffer size is either 0 or max batch size</p>
    <p>Baseline:</p>
    <p>Null: no buffering  Max: all buffers are set to max batch size</p>
    <p>NFVnice: implemented over BESS 13</p>
  </div>
  <div class="page">
    <p>Basic IP Router (L2L3)</p>
    <p>Static traffic-mix</p>
    <p>Delay-SLO: 80% of Max</p>
    <p>100 ms control period</p>
    <p>Steady-state perf.</p>
  </div>
  <div class="page">
    <p>Static L2L3 results</p>
    <p>Batch defragmentation improves throughput</p>
    <p>Batchy:  successfully reconstructs batches</p>
    <p>complies with delay-SLOs</p>
    <p>provides the highest throughput (thanks to short-circuiting unused queues)</p>
  </div>
  <div class="page">
    <p>Mobile Gateway</p>
    <p>Service0 (B0):</p>
    <p>1ms delay req.</p>
    <p>Throughput [kpps]: 10 | 20 | 5 | 50 | 15 | 1</p>
    <p>Service1:</p>
    <p>Bulk traffic</p>
  </div>
  <div class="page">
    <p>System Dynamics</p>
    <p>Batchy:</p>
    <p>keeps delay &lt; 1ms (except transients)</p>
    <p>reacts instantaneously</p>
    <p>improves the performance of the whole pipeline</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Batchy can achieve efficient batch processing in arbitrary graphs without sacrificing latency.</p>
    <p>Code and artifacts are available at https://github.com/hsnlab/batchy</p>
  </div>
</Presentation>
