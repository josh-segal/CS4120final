<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Searching Dynamic Point Sets Searching Dynamic Point Sets in Spaces with Bounded in Spaces with Bounded</p>
    <p>Doubling DimensionDoubling Dimension Lee-Ad GottliebLee-Ad Gottlieb</p>
    <p>Joint work withJoint work with Richard ColeRichard Cole</p>
  </div>
  <div class="page">
    <p>NNSNNS</p>
    <p>Nearest Neighbor SearchNearest Neighbor Search (NNS) (NNS)  Given a set of points Given a set of points SS in a metric in a metric</p>
    <p>space space  Preprocess Preprocess SS so that the following so that the following</p>
    <p>query can be answered efficiently:query can be answered efficiently:  given query point q, what is the closest given query point q, what is the closest</p>
    <p>point to point to qq in in SS?? q</p>
  </div>
  <div class="page">
    <p>NNSNNS</p>
    <p>A sublinear algorithm for NNS in A sublinear algorithm for NNS in general metrics?general metrics?  Bad news: not possible.Bad news: not possible.</p>
    <p>q</p>
    <p>~1 ~1</p>
    <p>~1</p>
    <p>~1</p>
    <p>~1</p>
  </div>
  <div class="page">
    <p>NNSNNS</p>
    <p>What if we only require only an What if we only require only an approximate NNS (ANN)? approximate NNS (ANN)?  More bad news: Still takes linear time!More bad news: Still takes linear time!</p>
    <p>This talk deals with ANN.This talk deals with ANN.  Can we parameterize theCan we parameterize the</p>
    <p>hard case? hard case?</p>
    <p>q</p>
    <p>~1 ~1</p>
    <p>~1</p>
    <p>~1</p>
    <p>~1</p>
  </div>
  <div class="page">
    <p>Doubling DimensionDoubling Dimension</p>
    <p>The space within radius r of The space within radius r of center center cc is the is the rr--ballball of of cc..</p>
    <p>Point set X has doubling Point set X has doubling dimension dimension  if if  the points of X covered by the points of X covered by</p>
    <p>ball B can be covered by 2ball B can be covered by 2 balls of half the radius.balls of half the radius.</p>
  </div>
  <div class="page">
    <p>NNS in Low Doubling DimensionNNS in Low Doubling Dimension</p>
    <p>Data structure for (1+Data structure for (1+)-ANN query )-ANN query on on SS  Navigating Net of points aids search. Navigating Net of points aids search.  A Navigating Net is composed of levels A Navigating Net is composed of levels</p>
    <p>of of -nets. -nets.</p>
    <p>Navigating nets: Simple algorithms Navigating nets: Simple algorithms for proximity searchfor proximity search. R. Krauthgamer, . R. Krauthgamer, J.R. Lee. SODA 04J.R. Lee. SODA 04</p>
  </div>
  <div class="page">
    <p>Modified Modified -net-net</p>
    <p>anan modified modified -net for a point set -net for a point set SS is is a set of balls of radius a set of balls of radius  centered at centered at points of points of SS  Packing propertyPacking property</p>
    <p>The centers are separated from each other The centers are separated from each other by some minimum distance by some minimum distance</p>
    <p>We use We use  = 4/5  = 4/5</p>
    <p>The ballsThe balls Cover Cover all the points of the all the points of the SS..</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
    <p>Radius = 1</p>
    <p>Covering: all points are covered</p>
    <p>Packing</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
    <p>Radius = 2</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Navigating Net VariantNavigating Net Variant 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Search exampleSearch example 1-net 2-net 4-net 8-net</p>
  </div>
  <div class="page">
    <p>Another PerspectiveAnother Perspective</p>
    <p>DAG</p>
  </div>
  <div class="page">
    <p>Another PerspectiveAnother Perspective</p>
    <p>DAG</p>
  </div>
  <div class="page">
    <p>Another PerspectiveAnother Perspective</p>
    <p>DAG</p>
  </div>
  <div class="page">
    <p>Another PerspectiveAnother Perspective</p>
    <p>DAG</p>
  </div>
  <div class="page">
    <p>AnalysisAnalysis</p>
    <p>Time to find the lowest enclosing ballTime to find the lowest enclosing ball  How many levels of nets are there?How many levels of nets are there?</p>
    <p>Let the spread of the points be Let the spread of the points be ddmaxmax/d/dminmin  There are O(log There are O(log ) levels) levels</p>
    <p>At every level, we consider At every level, we consider 22O(O() ) balls.balls.  O(O() ) log log</p>
    <p>If If  = n = nO(1)O(1) we get a good search time we get a good search time  22O(O() ) log nlog n</p>
    <p>But what if But what if  is asymptotically larger? is asymptotically larger?</p>
  </div>
  <div class="page">
    <p>Summary of Previous WorkSummary of Previous Work</p>
    <p>(1+(1+)-NNS query)-NNS query Insertion/deletionInsertion/deletion sizesize</p>
    <p>KL-04KL-04 22O(O() ) log log (1/(1/))O(O()) 22O(O()) log log  22O(O())nn</p>
    <p>BKL-06BKL-06 22O(O() ) log log (1/(1/))O(O()) 22O(O()) log log  O(n)O(n)</p>
    <p>HM-06HM-06 22O(O() ) log n log n (1/(1/))O(O()) ** O(n)O(n)</p>
    <p>This paperThis paper 22O(O() ) log n log n (1/(1/))O(O()) 22O(O()) log n log n O(n)O(n)</p>
    <p>Spread of the points = dSpread of the points = dmaxmax/d/dminmin  Abstract dimensionAbstract dimension * * Static structure, Static structure, 22O(O())n log nn log n construction time construction time</p>
  </div>
  <div class="page">
    <p>ChallengeChallenge</p>
    <p>How to dynamically maintain and How to dynamically maintain and search a deep DAG?search a deep DAG?</p>
    <p>loglog levels For large</p>
  </div>
  <div class="page">
    <p>Special CaseSpecial Case</p>
    <p>O(log n) search on an unbalanced tree is well known.</p>
  </div>
  <div class="page">
    <p>Special CaseSpecial Case</p>
    <p>O(log n) search on an unbalanced tree is well known.</p>
  </div>
  <div class="page">
    <p>Special CaseSpecial Case</p>
    <p>O(log n) search on an unbalanced tree is well known.</p>
  </div>
  <div class="page">
    <p>Special CaseSpecial Case</p>
    <p>O(log n) search on an unbalanced tree is well known.</p>
  </div>
  <div class="page">
    <p>Special CaseSpecial Case</p>
    <p>O(log n) search on an unbalanced tree is well known.</p>
    <p>Can we do something similar for our DAGs?</p>
  </div>
  <div class="page">
    <p>Towards a TreeTowards a Tree</p>
    <p>DAG</p>
  </div>
  <div class="page">
    <p>Towards a TreeTowards a Tree</p>
    <p>Spanning tree representation</p>
  </div>
  <div class="page">
    <p>Towards a TreeTowards a Tree</p>
    <p>Spanning tree representation</p>
  </div>
  <div class="page">
    <p>Towards a TreeTowards a Tree</p>
    <p>Spanning tree representation</p>
    <p>Balls &amp; subtrees of interest</p>
  </div>
  <div class="page">
    <p>Towards a TreeTowards a Tree</p>
    <p>Spanning tree representation</p>
    <p>Balls &amp; subtrees of interest</p>
  </div>
  <div class="page">
    <p>Towards a TreeTowards a Tree</p>
    <p>Balls of interest</p>
    <p>Spanning tree representation</p>
  </div>
  <div class="page">
    <p>PreliminariesPreliminaries</p>
    <p>For a ball x at level i, its For a ball x at level i, its friendsfriends are are all balls of level i that intersect x.all balls of level i that intersect x.  In the navigating net, every ball knows In the navigating net, every ball knows</p>
    <p>who its friends are. This information is who its friends are. This information is readily available from the DAGreadily available from the DAG</p>
    <p>If two balls of the same level both If two balls of the same level both contain contain qq, they must be friends., they must be friends.</p>
  </div>
  <div class="page">
    <p>Modified SearchModified Search</p>
    <p>The search begins with the top ball as the single The search begins with the top ball as the single ball of interestball of interest..</p>
    <p>In general, the search is specified by 2In general, the search is specified by 2O(O()) balls of balls of interest,interest, all at the same level. all at the same level.  each of these balls contain the query pointeach of these balls contain the query point  For illustration, let 2For illustration, let 2O(O()) = 3 = 3</p>
  </div>
  <div class="page">
    <p>Modified SearchModified Search</p>
    <p>Start the search on the largest treeStart the search on the largest tree  Identify a subtree with a constant Identify a subtree with a constant</p>
    <p>fraction of the total size of the large treefraction of the total size of the large tree</p>
  </div>
  <div class="page">
    <p>Modified SearchModified Search</p>
    <p>If the query point is not in the If the query point is not in the subtree, eliminate the subtree from subtree, eliminate the subtree from consideration.consideration.</p>
  </div>
  <div class="page">
    <p>Modified SearchModified Search</p>
    <p>If the query point is in the subtree, If the query point is in the subtree, take it as a new tree of interesttake it as a new tree of interest  Take its friends, too.Take its friends, too.</p>
  </div>
  <div class="page">
    <p>Modified SearchModified Search</p>
    <p>Friends are descendants of previous nodes Friends are descendants of previous nodes of interest.of interest.  The new subtrees of interest are smaller than The new subtrees of interest are smaller than</p>
    <p>the old ones.the old ones.  The previously largest tree has been reduced The previously largest tree has been reduced</p>
    <p>by a constant fractionby a constant fraction</p>
    <p>Friends</p>
  </div>
  <div class="page">
    <p>Modified SearchModified Search</p>
    <p>Friends are descendants of previous nodes Friends are descendants of previous nodes of interest.of interest.  The new subtrees of interest are smaller than The new subtrees of interest are smaller than</p>
    <p>the old ones.the old ones.  The largest subtree has been reduced by a The largest subtree has been reduced by a</p>
    <p>constant fractionconstant fraction  This implies an O(log n) searchThis implies an O(log n) search</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Conclusion: Conclusion:  Spanning tree of the DAG can be Spanning tree of the DAG can be</p>
    <p>searched in time 2searched in time 2O(O() ) log nlog n</p>
    <p>We now discuss maintaining the We now discuss maintaining the navigating net under insertionsnavigating net under insertions  Recall that Recall that  can be large. can be large.  We cannot afford log We cannot afford log  time to update time to update</p>
    <p>the DAGthe DAG</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>First problem:First problem:  InsertionsInsertions</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net 1-net 2-net 4-net First problem:First problem:</p>
    <p>InsertionsInsertions</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net 1-net 2-net 4-net</p>
    <p>First problem:First problem:  InsertionsInsertions  Solution: close-Solution: close</p>
    <p>containmentcontainment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net 1-net 2-net 4-net</p>
    <p>First problem:First problem:  InsertionsInsertions  Solution: close-Solution: close</p>
    <p>containmentcontainment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Solution:Solution:  dropoff =5dropoff =5  Close-containmentClose-containment</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Second ProblemSecond Problem  Net sizeNet size</p>
    <p>It costs too much to store all the friendsIt costs too much to store all the friends  22O(O()) friends for each of O(n) balls gives 2 friends for each of O(n) balls gives 2O(O())n n</p>
    <p>spacespace</p>
    <p>SolutionSolution  Storing friends for only n/2Storing friends for only n/2O(O()) balls, uses balls, uses</p>
    <p>O(n) space.O(n) space.  Implicit: no need to know the value of Implicit: no need to know the value of</p>
  </div>
  <div class="page">
    <p>Navigating NetNavigating Net</p>
    <p>Third ProblemThird Problem  DeletionsDeletions</p>
    <p>A deleted point may have been the center of A deleted point may have been the center of (log (log ) ) balls of the net.balls of the net.</p>
    <p>We cannot remove all these balls.We cannot remove all these balls.  SolutionSolution</p>
    <p>Leave the balls there, but mark the 1-level ball as Leave the balls there, but mark the 1-level ball as deleted.deleted.</p>
    <p>After After (n) deletions, start rebuilding structure in the (n) deletions, start rebuilding structure in the backgroundbackground</p>
    <p>During the search, identify which subtrees of the During the search, identify which subtrees of the spanning tree have unmarked nodesspanning tree have unmarked nodes</p>
    <p>Only these subtrees should be searchedOnly these subtrees should be searched  Cost: O(1) for each query.Cost: O(1) for each query.</p>
  </div>
  <div class="page">
    <p>ConclusionConclusion</p>
    <p>We give a dynamic ANN method that We give a dynamic ANN method that is spread independentis spread independent  (1+(1+)-ANN search: 2)-ANN search: 2O(O() ) log n log n (1/(1/))O(O())</p>
    <p>Insertions/deletions: 2Insertions/deletions: 2O(O() ) log n log n  Data structure size: O(n)Data structure size: O(n)</p>
  </div>
</Presentation>
