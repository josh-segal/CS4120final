<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Pricing Games for Hybrid</p>
    <p>Object Stores in the Cloud:</p>
    <p>Provider vs. Tenant Yue Cheng, M. Safdar Iqbal, Aayush Gupta, Ali R. Butt</p>
    <p>Virginia Tech &amp; IBM Research  Almaden</p>
    <p>HotCloud 15</p>
  </div>
  <div class="page">
    <p>Cloud-based object stores</p>
    <p>Google Cloud Storage</p>
    <p>Swift</p>
  </div>
  <div class="page">
    <p>Data analytics on object stores</p>
    <p>Cloud tenants</p>
    <p>Google Cloud Storage</p>
    <p>Swift</p>
    <p>Hadoop to object</p>
    <p>store connectors</p>
    <p>Cloud object stores</p>
  </div>
  <div class="page">
    <p>Data analytics on object stores</p>
    <p>Amazon Web Service</p>
    <p>Elastic MapReduce</p>
    <p>Microsoft Azure</p>
    <p>HDInsight</p>
  </div>
  <div class="page">
    <p>Cloud-based object stores</p>
    <p>Google Cloud Storage</p>
    <p>Swift</p>
  </div>
  <div class="page">
    <p>HDD-based object store?</p>
    <p>N o r m</p>
    <p>a li</p>
    <p>z e d</p>
    <p>c lo</p>
    <p>u d</p>
    <p>p r o fi</p>
    <p>t</p>
    <p>Tenant workload runtime (hour)</p>
    <p>HDD only, trace 1</p>
    <p>HDD only, trace 2</p>
    <p>Tenants cannot</p>
    <p>meet deadline</p>
    <p>Provider get low</p>
    <p>profit</p>
    <p>deadline HDD price: $0.0011/GB/day</p>
    <p>Trace 1: 12TB input 5TB output</p>
    <p>Trace 2: 18TB input 8TB output</p>
  </div>
  <div class="page">
    <p>SSD-based object store?</p>
    <p>N o r m</p>
    <p>a li</p>
    <p>z e d</p>
    <p>c lo</p>
    <p>u d</p>
    <p>p r o fi</p>
    <p>t</p>
    <p>Tenant workload runtime (hour)</p>
    <p>HDD only, trace 1</p>
    <p>HDD only, trace 2</p>
    <p>deadline</p>
    <p>SSD only, trace 1</p>
    <p>SSD only, trace 2</p>
    <p>HDD price: $0.0011/GB/day</p>
    <p>SSD price: $0.0044/GB/day</p>
    <p>SSD-based object store</p>
    <p>helps meet workload</p>
    <p>deadline for tenants</p>
    <p>while increasing profit</p>
    <p>for provider</p>
    <p>Trace 1: 12TB input 5TB output</p>
    <p>Trace 2: 18TB input 8TB output</p>
  </div>
  <div class="page">
    <p>SSD-based object store</p>
    <p>helps meet workload</p>
    <p>deadline for tenants</p>
    <p>while increasing profit</p>
    <p>for provider</p>
    <p>Trace 1: 12TB input 5TB output</p>
    <p>Trace 2: 18TB input 8TB output</p>
    <p>HDD price: $0.0011/GB/day</p>
    <p>SSD price: $0.0044/GB/day</p>
    <p>SSD-based object store?</p>
    <p>N o r m</p>
    <p>a li</p>
    <p>z e d</p>
    <p>c lo</p>
    <p>u d</p>
    <p>p r o fi</p>
    <p>t</p>
    <p>Tenant workload runtime (hour)</p>
    <p>HDD only, trace 1</p>
    <p>HDD only, trace 2</p>
    <p>deadline</p>
    <p>SSD only, trace 1</p>
    <p>SSD only, trace 2</p>
    <p>Pure SSD deployment may not be practical!</p>
  </div>
  <div class="page">
    <p>A hybrid object store?</p>
    <p>N o r m</p>
    <p>a li</p>
    <p>z e d</p>
    <p>c lo</p>
    <p>u d</p>
    <p>p r o fi</p>
    <p>t</p>
    <p>Tenant workload runtime (hour)</p>
    <p>deadline</p>
    <p>HDD only, trace 2</p>
    <p>SSD only, trace 1</p>
    <p>SSD only, trace 2</p>
    <p>HDD+SSD, trace 2</p>
    <p>Tenant: workloads</p>
    <p>meet deadline</p>
    <p>Provider:</p>
    <p>comparatively high</p>
    <p>profit</p>
    <p>HDD price: $0.0011/GB/day</p>
    <p>SSD price: $0.0044/GB/day</p>
    <p>HDD+SSD, trace 1</p>
    <p>Trace 1: 12TB input 5TB output</p>
    <p>Trace 2: 18TB input 8TB output</p>
    <p>HDD only, trace 1</p>
  </div>
  <div class="page">
    <p>More options in a hybrid setup</p>
    <p>high</p>
    <p>low</p>
    <p>R e a d</p>
    <p>l a te</p>
    <p>n c y</p>
    <p>low</p>
    <p>HDDs different RPMs</p>
    <p>$/GB high</p>
    <p>NAND flash SSDs SATA, PCIe, etc.</p>
    <p>SCMs PCM, RRAM, etc.</p>
  </div>
  <div class="page">
    <p>More options in a hybrid setup</p>
    <p>high</p>
    <p>low</p>
    <p>R e a d</p>
    <p>l a te</p>
    <p>n c y</p>
    <p>$/GB low high</p>
    <p>HDDs different RPMs</p>
    <p>NAND flash SSDs SATA, PCIe, etc.</p>
    <p>Performance/endurance</p>
    <p>trade-off</p>
    <p>SCMs PCM, RRAM, etc.</p>
  </div>
  <div class="page">
    <p>More options in a hybrid setup</p>
    <p>high</p>
    <p>low</p>
    <p>R e a d</p>
    <p>l a te</p>
    <p>n c y</p>
    <p>$/GB low high</p>
    <p>HDD</p>
    <p>SSD</p>
    <p>SCMs</p>
    <p>PCM, RRAM, etc.</p>
    <p>Performance/endurance</p>
    <p>trade-off</p>
  </div>
  <div class="page">
    <p>Two objectives</p>
    <p>Objective 1: to balance the increasing profit and SSD</p>
    <p>wear-out rate</p>
    <p>Objective 2: to provide incentivizing mechanism to</p>
    <p>tenants</p>
    <p>A dynamic pricing model</p>
  </div>
  <div class="page">
    <p>Dynamic pricing engages both provider and</p>
    <p>tenants in a pricing game  Objectives of provider and tenants are essentially</p>
    <p>conflicting!</p>
    <p>A dynamic pricing model</p>
  </div>
  <div class="page">
    <p>The leader/follower game</p>
    <p>Provider leader Tenant follower</p>
    <p>SSD price p(n,ssd)</p>
    <p>Writes on SSD w(n,ssd)</p>
    <p>Time slot n+1</p>
    <p>Step 2: Make</p>
    <p>tiering decision</p>
    <p>based on</p>
    <p>requirement</p>
    <p>Step 1: Make price</p>
    <p>decision</p>
    <p>Fraction of SSD used f(n,ssd)</p>
    <p>Time slot n</p>
  </div>
  <div class="page">
    <p>Provider model</p>
    <p>i s</p>
    <p>isisisi CostpfCapacityProfit</p>
    <p>),(),(),( to maximize</p>
    <p>SSD writes</p>
    <p>% SSD demand</p>
    <p>SSD price as decision variable</p>
  </div>
  <div class="page">
    <p>Tenant model</p>
    <p>to maximize Utility = 1 T $</p>
    <p>* CAST [HPDC15]</p>
    <p>J0: &lt;s0,c0&gt;</p>
    <p>J1: &lt;s1,c1&gt;</p>
    <p>J2: &lt;s2,c2&gt;</p>
    <p>...</p>
    <p>Simulated</p>
    <p>annealing</p>
    <p>Assigned job storage,</p>
    <p>adjusted storage capacity</p>
  </div>
  <div class="page">
    <p>D a ta</p>
    <p>s iz</p>
    <p>e (</p>
    <p>T B</p>
    <p>)</p>
    <p>P r ic</p>
    <p>e (</p>
    <p>$ /G</p>
    <p>B /d</p>
    <p>a y</p>
    <p>)</p>
    <p>Day</p>
    <p>SSD price (static) SSD writes (static)</p>
    <p>Provider-tenant interaction</p>
    <p>A trace snippet (250-jobs) from production trace collected</p>
    <p>from a 3000-machine Hadoop deployment at Facebook:</p>
    <p>The same single-day trace replayed everyday</p>
    <p>write threshold</p>
  </div>
  <div class="page">
    <p>D a ta</p>
    <p>s iz</p>
    <p>e (</p>
    <p>T B</p>
    <p>)</p>
    <p>P r ic</p>
    <p>e (</p>
    <p>$ /G</p>
    <p>B /d</p>
    <p>a y</p>
    <p>)</p>
    <p>Day</p>
    <p>SSD price (dynamic) SSD writes (dynamic)</p>
    <p>Provider-tenant interaction</p>
    <p>A trace snippet (250-jobs) from production trace collected</p>
    <p>from a 3000-machine Hadoop deployment at Facebook:</p>
    <p>The same single-day trace replayed everyday</p>
    <p>write threshold</p>
  </div>
  <div class="page">
    <p>Impact of different SSD pricing</p>
    <p>N o r m</p>
    <p>a li</p>
    <p>z e d</p>
    <p>c lo</p>
    <p>u d</p>
    <p>p r o fi</p>
    <p>t</p>
    <p>N o r m</p>
    <p>a li</p>
    <p>z e d</p>
    <p>t e n</p>
    <p>a n</p>
    <p>t u</p>
    <p>ti li</p>
    <p>ty</p>
    <p>static low: $0.0035/GB/day static medium: $0.0082/GB/day</p>
    <p>static high: $0.0121/GB/day</p>
  </div>
  <div class="page">
    <p>Dynamic pricing + object storage tiering =</p>
    <p>cloud profit  + tenant utility</p>
    <p>Summary</p>
  </div>
</Presentation>
