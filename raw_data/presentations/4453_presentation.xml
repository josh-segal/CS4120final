<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Vytautas Valancius, Nick Feamster, Akihiro Nakao, and Jennifer Rexford</p>
  </div>
  <div class="page">
    <p>Cloud computing is on the rise</p>
    <p>Provides computing resources and storage in cloud data centers</p>
    <p>Hosting on the steroids for Internet services</p>
  </div>
  <div class="page">
    <p>Cloud Data</p>
    <p>Center</p>
    <p>Cloud Data</p>
    <p>Center</p>
    <p>Data Center Router</p>
    <p>Data Center Router</p>
    <p>Interactive Service</p>
    <p>Bulk transfer</p>
    <p>Interne t</p>
    <p>Interne t</p>
    <p>Routing updates</p>
    <p>Packets</p>
    <p>ISP1ISP1</p>
    <p>ISP2ISP2</p>
    <p>Hosted services have different requirement s  Too slow for</p>
    <p>interactive service, or</p>
    <p>Too costly for bulk transfer!</p>
  </div>
  <div class="page">
    <p>Multiple upstream ISPs  Amazon EC2 has at least 58 routing peers</p>
    <p>in Virginia data center</p>
    <p>Data center router picks one route to a destination for all hosted services  Packets from all hosted applications</p>
    <p>use the same path 4</p>
  </div>
  <div class="page">
    <p>Obtain connectivity to upstream ISPs  Physical connectivity  Contracts and routing sessions</p>
    <p>Obtain the Internet numbered resources from authorities</p>
    <p>Expensive and time-consuming!</p>
  </div>
  <div class="page">
    <p>Cloud Data Center</p>
    <p>Cloud Data Center</p>
    <p>Interactive Service</p>
    <p>Bulk transfer</p>
    <p>Intern et</p>
    <p>Intern et</p>
    <p>ISP1ISP1</p>
    <p>ISP2ISP2</p>
    <p>Virtual Router</p>
    <p>B</p>
    <p>Virtual Router</p>
    <p>B</p>
    <p>Virtual Router</p>
    <p>A</p>
    <p>Virtual Router</p>
    <p>A</p>
    <p>Transit Portal Transit Portal</p>
    <p>Routes</p>
    <p>Packets</p>
    <p>Full Internet route control to hosted cloud services!</p>
  </div>
  <div class="page">
    <p>Motivation and Overview</p>
    <p>Connecting to the Transit Portal</p>
    <p>Advanced Transit Portal Applications</p>
    <p>Scaling the Transit Portal</p>
    <p>Future Work &amp; Summary 7</p>
  </div>
  <div class="page">
    <p>Separate Internet router for each service  Virtual or physical routers</p>
    <p>Links between service router and TP  Each link emulates connection to upstream</p>
    <p>ISP</p>
    <p>Routing sessions to upstream ISPs  TP exposes standard BGP route control</p>
    <p>interface 8</p>
  </div>
  <div class="page">
    <p>Transit Portal Transit Portal</p>
    <p>Virtual BGP</p>
    <p>Router</p>
    <p>Virtual BGP</p>
    <p>Router</p>
    <p>Cloud client with two upstream ISPs  ISP 1 is preferred</p>
    <p>ISP 1 exhibits excessive jitter</p>
    <p>Cloud client reroutes through ISP 2</p>
    <p>ISP 1ISP 1 ISP 2ISP 2</p>
    <p>Interactive Cloud Service</p>
    <p>BGP Sessions</p>
    <p>Traffic</p>
  </div>
  <div class="page">
    <p>Server with custom routing software  4GB RAM, 2x2.66GHz Xeon cores</p>
    <p>Three active sites with upstream ISPs  Atlanta, Madison, and Princeton</p>
    <p>A number of active experiments  BGP poisoning (University of Washington)  IP Anycast (Princeton University)  Advanced Networking class (Georgia Tech)</p>
  </div>
  <div class="page">
    <p>Internet services require fast name resolution</p>
    <p>IP anycast for name resolution  DNS servers with the same IP address  IP address announced to ISPs in multiple</p>
    <p>locations  Internet routing converges to the closest server</p>
    <p>Available only to large organizations</p>
  </div>
  <div class="page">
    <p>ISP 1</p>
    <p>ISP 1</p>
    <p>ISP 2</p>
    <p>ISP 2</p>
    <p>ISP 3</p>
    <p>ISP 3</p>
    <p>ISP 4</p>
    <p>ISP 4</p>
    <p>Transit Portal Transit Portal</p>
    <p>Transit Portal Transit Portal</p>
    <p>Asia North America</p>
    <p>Anyca st</p>
    <p>Routes</p>
    <p>TP allows hosted applications use IP anycast</p>
  </div>
  <div class="page">
    <p>Internet services in geographically diverse data centers</p>
    <p>Operators migrate Internet users connections</p>
    <p>Two conventional methods:  DNS name re-mapping</p>
    <p>Slow  Virtual machine migration with local re</p>
    <p>routing  Requires globally routed network</p>
  </div>
  <div class="page">
    <p>ISP 1</p>
    <p>ISP 1</p>
    <p>ISP 2</p>
    <p>ISP 2</p>
    <p>ISP 3</p>
    <p>ISP 3</p>
    <p>ISP 4</p>
    <p>ISP 4</p>
    <p>Transit Portal Transit Portal</p>
    <p>Transit Portal Transit Portal</p>
    <p>Asia North America</p>
    <p>Tunneled SessionsTunneled Sessions</p>
    <p>Active Game Service</p>
    <p>InternetInternet</p>
  </div>
  <div class="page">
    <p>Scale to dozens of sessions to ISPs and hundreds of sessions to hosted services</p>
    <p>At the same time:  Present each client with sessions that have</p>
    <p>an appearance of direct connectivity to an ISP</p>
    <p>Prevented clients from abusing Internet routing protocols</p>
  </div>
  <div class="page">
    <p>Conventional BGP router:  Receives routing updates</p>
    <p>from peers  Propagates routing update</p>
    <p>about one path only  Selects one path to</p>
    <p>forward packets  Scalable but not</p>
    <p>transparent or flexible</p>
    <p>ISP1ISP1 ISP2ISP2</p>
    <p>BGP Router BGP</p>
    <p>Router</p>
    <p>Updates</p>
    <p>Client BGP</p>
    <p>Router</p>
    <p>Client BGP</p>
    <p>Router</p>
    <p>Client BGP</p>
    <p>Router</p>
    <p>Client BGP</p>
    <p>Router</p>
    <p>Packets</p>
  </div>
  <div class="page">
    <p>Bulk Transfer</p>
    <p>Routing ProcessRouting Process</p>
    <p>Store and propagate all BGP routes from ISPs  Separate routing tables</p>
    <p>Reduce memory consumption  Single routing process</p>
    <p>- shared data structures</p>
    <p>Reduce memory use from 90MB/ISP to 60MB/ISP</p>
    <p>ISP1ISP1 ISP2ISP2</p>
    <p>Virtual Router Virtual Router</p>
    <p>Virtual Router Virtual Router</p>
    <p>Routin g</p>
    <p>Table 1</p>
    <p>Routin g</p>
    <p>Table 1</p>
    <p>Routin g</p>
    <p>Table 2</p>
    <p>Routin g</p>
    <p>Table 2</p>
    <p>Interactive Service</p>
  </div>
  <div class="page">
    <p>Bulk Transfer</p>
    <p>Routing ProcessRouting Process</p>
    <p>Hundreds of routing sessions to clients  High CPU load</p>
    <p>Schedule and send routing updates in bundles  Reduces CPU from 18% to</p>
    <p>ISP1ISP1 ISP2ISP2</p>
    <p>Virtual Router Virtual Router</p>
    <p>Virtual Router Virtual Router</p>
    <p>Routin g</p>
    <p>Table 1</p>
    <p>Routin g</p>
    <p>Table 1</p>
    <p>Routin g</p>
    <p>Table 2</p>
    <p>Routin g</p>
    <p>Table 2</p>
    <p>Interactive Service</p>
  </div>
  <div class="page">
    <p>Forwarding TableForwarding Table</p>
    <p>Connecting clients  Tunneling and VLANs</p>
    <p>Curbing memory usage  Separate virtual routing</p>
    <p>tables with default to upstream</p>
    <p>50MB/ISP -&gt; ~0.1MB/ISP memory use in forwarding table</p>
    <p>ISP1ISP1 ISP2ISP2</p>
    <p>Virtual BGP</p>
    <p>Router</p>
    <p>Virtual BGP</p>
    <p>Router</p>
    <p>Virtual BGP</p>
    <p>Router</p>
    <p>Virtual BGP</p>
    <p>Router</p>
    <p>Forwardi ng Table</p>
    <p>Forwardi ng Table</p>
    <p>Forwardn g Table 2 Forwardn g Table 2</p>
    <p>Bulk Transfer Interactive Service</p>
  </div>
  <div class="page">
    <p>Future work:  More deployment sites  Making TP accessible for network</p>
    <p>research test-beds (e.g., GENI, CoreLab)</p>
    <p>Faster forwarding (NetFPGA, OpenFlow)</p>
    <p>Lightweight interface to route control</p>
  </div>
  <div class="page">
    <p>Limited routing control for hosted services</p>
    <p>Transit Portal gives wide-area route control  Advanced applications with many TPs</p>
    <p>Open source implementation  Scales to hundreds of client sessions</p>
    <p>The deployment is real  Can be used today for research and</p>
    <p>education  More information http://valas.gtnoise.net/tp</p>
  </div>
</Presentation>
