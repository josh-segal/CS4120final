<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Accordion</p>
    <p>Multi-Scale Recipes for Adaptive Detection of Duplication</p>
    <p>Russell Lewis John H. Hartman</p>
    <p>University of Arizona</p>
  </div>
  <div class="page">
    <p>File Chunking</p>
    <p>File Chunks Hashes</p>
  </div>
  <div class="page">
    <p>Recipes</p>
    <p>File Chunks Hashes</p>
    <p>Recipe</p>
    <p>(pos 1 ,len</p>
    <p>(pos 2 ,len</p>
    <p>(pos 3 ,len</p>
  </div>
  <div class="page">
    <p>Finding Duplication</p>
    <p>Compare hashes  File-to-file</p>
    <p>File-to-library</p>
    <p>rsync</p>
    <p>content-addressable storage</p>
    <p>dedup appliances</p>
  </div>
  <div class="page">
    <p>Recipe Scale</p>
    <p>Large scale Small scale</p>
  </div>
  <div class="page">
    <p>Multi-Scale</p>
    <p>Union of single-scale recipes</p>
  </div>
  <div class="page">
    <p>Managing Cost</p>
    <p>Multi-scale recipes larger than single-scale  Need to skip entries to manage cost</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>Recipe Sort:  size (descending)</p>
    <p>position (ascending)</p>
    <p>Best case: whole-file match  Worst case: 2x single-scale</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>miss</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>miss</p>
    <p>miss</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>miss</p>
    <p>miss hit</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>miss</p>
    <p>miss hit</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>miss</p>
    <p>miss</p>
    <p>miss</p>
    <p>hit</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 1 (top-down)</p>
    <p>m m</p>
    <p>miss</p>
    <p>m h</p>
    <p>miss</p>
    <p>miss</p>
    <p>miss</p>
    <p>miss</p>
    <p>hit</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 1 Worst Case</p>
    <p>miss miss</p>
    <p>miss</p>
    <p>miss</p>
    <p>miss</p>
    <p>m m</p>
    <p>miss</p>
    <p>m m</p>
    <p>miss</p>
    <p>miss</p>
    <p>m m</p>
    <p>miss</p>
    <p>m m</p>
    <p>miss</p>
    <p>miss</p>
    <p>miss</p>
    <p>m m</p>
    <p>miss</p>
    <p>m m</p>
    <p>miss</p>
    <p>miss</p>
    <p>m m m m</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>Recipe Sort:  position (ascending)</p>
    <p>size (ascending)</p>
    <p>On miss, skip all @ the location</p>
    <p>Best case: close to Algo 1  Worst case*: match single-scale</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>m</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>m</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>m m</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>m m m</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>m m m h</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>hm m m h</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>hm m m h</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>h</p>
    <p>hit</p>
    <p>m m m h</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>h hm m m h</p>
    <p>hit</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>h h</p>
    <p>hit</p>
    <p>m m m h</p>
    <p>hit</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>h h</p>
    <p>hit</p>
    <p>m m m h</p>
    <p>hit</p>
    <p>hit</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 2 (bottom-up)</p>
    <p>h h</p>
    <p>hit</p>
    <p>m m m h</p>
    <p>hit</p>
    <p>hit</p>
    <p>hit</p>
    <p>hit</p>
  </div>
  <div class="page">
    <p>Algorithm 2 Worst Case</p>
    <p>m m m m m m m m m m m mm m m m</p>
  </div>
  <div class="page">
    <p>Algorithm 2 Worst Case</p>
    <p>m m m m m m m m m m m mm m m m</p>
    <p>Recipe miss skip skip skip skip miss miss skip miss skip skip miss miss skip miss miss skip skip ...</p>
  </div>
  <div class="page">
    <p>Results: High Duplication</p>
    <p>top-down bottom-up</p>
    <p>Block Size</p>
    <p>C o st</p>
    <p>( n</p>
    <p>o rm</p>
    <p>a liz</p>
    <p>e d )</p>
  </div>
  <div class="page">
    <p>Results: Low Duplication</p>
    <p>top-down bottom-up</p>
    <p>Block Size</p>
    <p>C o st</p>
    <p>( n</p>
    <p>o rm</p>
    <p>a liz</p>
    <p>e d )</p>
  </div>
</Presentation>
