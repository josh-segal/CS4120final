<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Diamond-Miner: Comprehensive Discovery of the Internets Topology Diamonds</p>
    <p>Kvin Vermeulen, Justin P. Rohrer, Robert Beverly, Olivier Fourmaux, Timur Friedman</p>
    <p>USENIX NSDI 2020 26th February 2020</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>Diamond</p>
  </div>
  <div class="page">
    <p>Motivation  IP load balancing is prevalent:</p>
    <p>Capacity</p>
    <p>Redundancy  Existing techniques do not accurrately capture load balanced paths at Internet scale</p>
    <p>Bad idea of true resilience and structure of the Internet  Diamond-Miner revealed 64% more links than existing Internet maps</p>
  </div>
  <div class="page">
    <p>Mapping diamonds today  Single path probing: traceroute, Paris traceroute</p>
    <p>Multipath probing: MDA Paris traceroute</p>
  </div>
  <div class="page">
    <p>A toy example</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
  </div>
  <div class="page">
    <p>Single path probing: traceroute, an incomplete technique</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>TTL 5</p>
    <p>VP /24</p>
  </div>
  <div class="page">
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A ?</p>
    <p>TTL 5</p>
    <p>Multipath probing: MDA Paris traceroute, a hop by hop resolving technique</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>Multipath probing: MDA Paris traceroute, a hop by hop resolving technique</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probabilityMultipath probing: MDA Paris traceroute, a</p>
    <p>hop by hop resolving technique</p>
  </div>
  <div class="page">
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>TTL 5</p>
    <p>E</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probabilityMultipath probing: MDA Paris traceroute, a</p>
    <p>hop by hop resolving technique</p>
  </div>
  <div class="page">
    <p>Mapping diamonds today  Single path probing: traceroute, Paris traceroute</p>
    <p>No statistical guarantees</p>
    <p>Multipath probing: MDA Paris traceroute</p>
    <p>No Internet scale  How to build a system that provides statistical guarantees at Internet Scale? 12</p>
  </div>
  <div class="page">
    <p>Roadmap  Challenges  Diamond-Miner  Evaluation  Conclusion</p>
  </div>
  <div class="page">
    <p>Contributions  Diamond-Miner: a massively parallelized probing system to map diamonds at Internet scale providing statistical guarantees</p>
  </div>
  <div class="page">
    <p>Key Ideas  No more resolving nodes TTL per TTL, resolves all of the nodes of the topology concurrently</p>
    <p>Round based algorithm:</p>
    <p>Input: topology discovered by the previous round</p>
    <p>Output: number of probes to send per TTL per destination prefix to achieve statistical guarantees</p>
  </div>
  <div class="page">
    <p>A toy example</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>TTL 5</p>
  </div>
  <div class="page">
    <p>Diamond-Miner</p>
    <p>Round 1: send</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
    <p>TTL 5</p>
  </div>
  <div class="page">
    <p>Diamond-Miner</p>
    <p>Round 2: compute</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>Next round? TTL 1: 5 TTL 2: 12 TTL 3: 12 TTL 4: 12 TTL 5: 0</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>Diamond-Miner</p>
    <p>Round 2: send</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>Diamond-Miner</p>
    <p>Round 3: compute</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G 4</p>
    <p>A</p>
    <p>Next round? TTL 1: 0 TTL 2: 2 TTL 3: 9 TTL 4: 9 TTL 5: 0</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>Diamond-Miner</p>
    <p>Round 3: send</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>Diamond-Miner</p>
    <p>Round 4: compute</p>
    <p>TTL 1 TTL 2 TTL 3 TTL 4</p>
    <p>VP /24</p>
    <p>E</p>
    <p>B C</p>
    <p>F D</p>
    <p>G</p>
    <p>A</p>
    <p>Next round? TTL 1: 0 TTL 2: 0 TTL 3: 0 TTL 4: 0 TTL 5: 0</p>
    <p>TTL 5</p>
    <p>Successors 1 2</p>
    <p>Probes 6 11</p>
    <p>To resolve a node with 5% failure probability</p>
  </div>
  <div class="page">
    <p>Key Ideas  No more resolving nodes TTL per TTL, resolves all the nodes concurrently</p>
    <p>Round based algorithm:</p>
    <p>Input: topology discovered by the previous round</p>
    <p>Output: number of probes to send per TTL per destination prefix to achieve statistical guarantees</p>
  </div>
  <div class="page">
    <p>Scaling Diamond-Miner  Perform the algorithm on all the /24s in parallel</p>
    <p>No more hop by hop probing constraints</p>
    <p>Decrease the time to completion</p>
  </div>
  <div class="page">
    <p>Roadmap  Challenges  Diamond-Miner  Evaluation  Conclusion</p>
  </div>
  <div class="page">
    <p>Internet</p>
    <p>High probing rate</p>
  </div>
  <div class="page">
    <p>RRund</p>
    <p>F ra</p>
    <p>F ti</p>
    <p>R n</p>
    <p>R f</p>
    <p>re s R lv</p>
    <p>e d</p>
    <p>p re</p>
    <p>fi x e s</p>
    <p>Evaluation (Number of rounds)  10 rounds  &gt; 99% of</p>
    <p>resolved /24 prefixes</p>
  </div>
  <div class="page">
    <p>Probes sent and time to completion from a single vantage point for one snapshot</p>
    <p>Probes (billions) Time to completion</p>
    <p>Classic multipath (emulated)</p>
    <p>Diamond-Miner 6.6 B 2.5 days</p>
  </div>
  <div class="page">
    <p>Internet</p>
    <p>Multiple vantage points</p>
    <p>PlanetLab Europe</p>
  </div>
  <div class="page">
    <p>Discovery in one week</p>
    <p>Vantage points</p>
    <p>Nodes (millions)</p>
    <p>Links (millions)</p>
    <p>Probes (billions)</p>
    <p>Yarrp 1 0.6 1.3 1.6</p>
    <p>D-Miner 1 1.3 4.6 20.1</p>
    <p>Yarrp 6 0.8 2.5 1.0</p>
    <p>D-Miner 6 1.6 7.1 13.2</p>
  </div>
  <div class="page">
    <p>Discovery in one week</p>
    <p>Vantage points</p>
    <p>Nodes (millions)</p>
    <p>Links (millions)</p>
    <p>Probes (billions)</p>
    <p>D-Miner 6 1.6 7.1 13.2</p>
    <p>Ark ~110 1.9 4.3 5.9</p>
  </div>
  <div class="page">
    <p>Roadmap  Challenges  Diamond-Miner  Evaluation  Conclusion</p>
  </div>
  <div class="page">
    <p>Takeaway  First system capable of tracing diamonds at Internet scale with statistical guarantees</p>
    <p>Obtains the most complete IP-level topology view from a single server</p>
    <p>All our code is publicly available:  https://github.com/dioptra-io</p>
  </div>
  <div class="page">
    <p>RRund</p>
    <p>T im</p>
    <p>e i n</p>
    <p>m in</p>
    <p>u te</p>
    <p>s</p>
    <p>insert_replies</p>
    <p>randomize</p>
    <p>fetch_round</p>
    <p>probing</p>
    <p>Evaluation (Intel Xeon Gold 5122 3.6 GHz, 8 cores)</p>
    <p>Most of the time after round 5 is spent in the computation</p>
    <p>1 snapshot = 1 day</p>
    <p>Send</p>
    <p>Compute the next probes</p>
  </div>
  <div class="page">
    <p>Motivation  Resilience  Security  Socio-economic  Basic science!</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>References  Augustin et al., Avoiding traceroute anomalies with Paris</p>
    <p>Traceroute. (IMC 06)  Veitch et al., Failure control in multipath route tracing.</p>
    <p>(INFOCOM 09)  Vermeulen et al,. Multilevel MDA-Lite Paris Traceroute (IMC 18)  Beverly. Yarrp'ing the internet: Randomized high-speed active</p>
    <p>topology discovery (IMC 16)  Claffy et al., Internet mapping: from art to science (Security</p>
    <p>Applications &amp; Technology Conference for Homeland Security 09)</p>
  </div>
  <div class="page">
    <p>Laboratory Affiliations</p>
    <p>Kevin Vermeulen, Olivier Fourmaux, and Timur Friedman are associated with Sorbonne Universit, CNRS, Laboratoire dinformatique de Paris 6, LIP6, F-75005 Paris, France.</p>
    <p>Kevin Vermeulen and Timur Friedman are associated with the Laboratory of Information, Networking and Communication Sciences, LINCS, F-75013 Paris, France.</p>
    <p>Justin P. Rohrer and Robert Beverly are associated with the department of Computer Science of Naval Postgraduate School.</p>
  </div>
</Presentation>
