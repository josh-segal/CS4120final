<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>The image part with relationship ID rId3 was not found in the file.</p>
    <p>Kunal Lillaney, Vasily Tarasov, David Pease, Randal Burns</p>
    <p>The Case for Dual-access File Systems over Object Storage</p>
  </div>
  <div class="page">
    <p>What is Dual-Access?</p>
  </div>
  <div class="page">
    <p>Dual Access</p>
    <p>Data</p>
  </div>
  <div class="page">
    <p>Dual Access</p>
    <p>File Interface</p>
    <p>Application</p>
    <p>Data</p>
  </div>
  <div class="page">
    <p>Dual Access</p>
    <p>File Interface Object Interface</p>
    <p>Application Application</p>
    <p>Data</p>
  </div>
  <div class="page">
    <p>Dual Access</p>
    <p>File Interface Object Interface</p>
    <p>Transparently</p>
    <p>Application Application</p>
    <p>Data</p>
  </div>
  <div class="page">
    <p>HotStorage19 10</p>
    <p>Life Science Neuroscience Geo-Informatics</p>
    <p>Use Cases</p>
    <p>Media</p>
  </div>
  <div class="page">
    <p>Media Transcoding, EdiKng, AnalyKcs</p>
  </div>
  <div class="page">
    <p>Media Transcoding, Editing, Analytics</p>
    <p>Object Interface</p>
  </div>
  <div class="page">
    <p>Media Transcoding, Editing, Analytics</p>
    <p>Object Interface</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Media Transcoding, Editing, Analytics</p>
    <p>Object Interface</p>
    <p>Object Interface</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>File Systems Vs Object Storage</p>
    <p>Namespace</p>
    <p>Partial Writes</p>
    <p>Interfaces</p>
    <p>. .</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Design considerations Existing systems Agni Future work</p>
    <p>https://www.greenbiz.com/sites/default/files/styles/gbz_article_primary_breakpoints_kalapictur e_screenmd_1x/public/images/articles/featured/datacenter_0.jpg?itok=iJm7ezgB&amp;timestamp=14 83504030</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Design considerations</p>
    <p>https://www.greenbiz.com/sites/default/files/styles/gbz_article_primary_breakpoints_kalapictur e_screenmd_1x/public/images/articles/featured/datacenter_0.jpg?itok=iJm7ezgB&amp;timestamp=14 83504030</p>
  </div>
  <div class="page">
    <p>Design Considerations</p>
    <p>Object based</p>
  </div>
  <div class="page">
    <p>Value Proposition for Object Storage</p>
    <p>Low Cost Scalability</p>
    <p>Durability No Change</p>
  </div>
  <div class="page">
    <p>Design Considerations</p>
    <p>Object based</p>
    <p>Generic</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>GET PUT</p>
    <p>DELETE MULTI-PART</p>
    <p>EVENTS</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>GET PUT</p>
    <p>DELETE MULTI-PART</p>
    <p>EVENTS</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>GET PUT</p>
    <p>DELETE MULTI-PART</p>
    <p>EVENTS</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>GET PUT</p>
    <p>DELETE MULTI-PART</p>
    <p>EVENTS</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>GET PUT</p>
    <p>DELETE MULTI-PART</p>
    <p>EVENTS</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Generic  Object Store Agnostic</p>
    <p>GET PUT</p>
    <p>DELETE MULTI-PART</p>
    <p>EVENTS</p>
    <p>Dual Access System</p>
  </div>
  <div class="page">
    <p>Design Considerations</p>
    <p>Object based</p>
    <p>Generic</p>
    <p>Efficient Interfaces</p>
  </div>
  <div class="page">
    <p>File</p>
    <p>Object</p>
    <p>Dual Access: File to Object Mapping</p>
    <p>A</p>
    <p>A1 A2 A3</p>
    <p>A</p>
    <p>A</p>
    <p>CA B</p>
    <p>A B C</p>
    <p>. . .</p>
  </div>
  <div class="page">
    <p>File</p>
    <p>Object</p>
    <p>Efficiency: File to Object Mapping</p>
    <p>A</p>
    <p>A1 A2 A3</p>
    <p>A</p>
    <p>A</p>
    <p>CA B</p>
    <p>A B C</p>
    <p>A A2 A B C</p>
    <p>.. .</p>
  </div>
  <div class="page">
    <p>Dual Access: Object Naming</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/C/ A/C/DA/BA/</p>
  </div>
  <div class="page">
    <p>Dual Access: Object Naming</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/C/ A/C/DA/BA/</p>
  </div>
  <div class="page">
    <p>Dual Access: Object Naming</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/C/ A/C/DA/BA/</p>
    <p>A/E</p>
  </div>
  <div class="page">
    <p>Dual Access: Object Naming</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/C/ A/C/DA/BA/</p>
    <p>A/E</p>
    <p>E</p>
  </div>
  <div class="page">
    <p>Efficiency: Object Naming</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/C/ A/C/DA/BA/</p>
  </div>
  <div class="page">
    <p>Efficiency: Object Naming</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/C/ A/C/DA/B</p>
    <p>Z/</p>
    <p>A/</p>
  </div>
  <div class="page">
    <p>Efficiency: Object Naming</p>
    <p>C/B</p>
    <p>D</p>
    <p>Z/</p>
    <p>Z/ Z/B Z/C/ Z/C/D</p>
  </div>
  <div class="page">
    <p>Object Naming: Inode Number</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
  </div>
  <div class="page">
    <p>Object Naming: Inode Number</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
  </div>
  <div class="page">
    <p>Object Naming: Inode Number</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
  </div>
  <div class="page">
    <p>Object Naming: Inode Number</p>
    <p>C/B</p>
    <p>D</p>
    <p>Z/</p>
  </div>
  <div class="page">
    <p>?</p>
    <p>Object Naming: Inode Number</p>
    <p>C/B</p>
    <p>D</p>
    <p>Z/</p>
    <p>Z/B</p>
  </div>
  <div class="page">
    <p>?</p>
    <p>Object Naming: Inode Number</p>
    <p>C/B</p>
    <p>D</p>
    <p>Z/</p>
    <p>Name Inode</p>
    <p>Z/B 2</p>
  </div>
  <div class="page">
    <p>Design Considerations</p>
    <p>Object based</p>
    <p>Generic</p>
    <p>Efficient Interfaces</p>
    <p>Distributed</p>
  </div>
  <div class="page">
    <p>Multiple File System Mounts</p>
    <p>NetworkNetwork</p>
  </div>
  <div class="page">
    <p>Design Considerations</p>
    <p>Object based</p>
    <p>Generic</p>
    <p>Efficient Interfaces</p>
    <p>Distributed</p>
    <p>Coherent Namespace</p>
  </div>
  <div class="page">
    <p>Namespace: Example of Incoherency</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/ A/C/ A/C/DA/B</p>
  </div>
  <div class="page">
    <p>Namespace: Example of Incoherency</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/ A/C/ A/C/DA/B</p>
    <p>A/C</p>
    <p>.</p>
  </div>
  <div class="page">
    <p>Design Considerations</p>
    <p>Object based</p>
    <p>Generic</p>
    <p>Efficient Interfaces</p>
    <p>Distributed</p>
    <p>Coherent Namespace</p>
    <p>Access Control</p>
  </div>
  <div class="page">
    <p>Unified Access Control</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/ A/C/ A/C/DA/B</p>
  </div>
  <div class="page">
    <p>Unified Access Control</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/ A/C/ A/C/DA/B</p>
  </div>
  <div class="page">
    <p>Unified Access Control</p>
    <p>A/</p>
    <p>C/B</p>
    <p>D</p>
    <p>A/ A/C/ A/C/DA/B</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Existing systems</p>
    <p>https://www.greenbiz.com/sites/default/files/styles/gbz_article_primary_breakpoints_kalapictur e_screenmd_1x/public/images/articles/featured/datacenter_0.jpg?itok=iJm7ezgB&amp;timestamp=14 83504030</p>
  </div>
  <div class="page">
    <p>File Systems Paired With Object Storage</p>
    <p>Object Storage</p>
    <p>Object Interface</p>
  </div>
  <div class="page">
    <p>File Systems Paired With Object Storage</p>
    <p>Object Storage</p>
    <p>File Interface</p>
    <p>File System</p>
    <p>Object Interface</p>
  </div>
  <div class="page">
    <p>Object Storage File System</p>
    <p>Object Storage</p>
  </div>
  <div class="page">
    <p>Object Storage File System</p>
    <p>Object Storage</p>
    <p>File System Abstraction</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Existing Systems</p>
    <p>Object Store Like</p>
    <p>Object Storage File Systems</p>
    <p>File System Like</p>
    <p>Customized Hybrid</p>
  </div>
  <div class="page">
    <p>Existing Systems: Object Store Like</p>
    <p>Dual Access  Generic</p>
    <p>Efficient File Interfaces  Coherent Namespace  Distributed  Unified Access Control</p>
    <p>.</p>
    <p>Popular file systems: S3FS, GoogleCloudFuse</p>
  </div>
  <div class="page">
    <p>Existing Systems: File System Like</p>
    <p>Generic  Efficient File Interfaces  Distributed</p>
    <p>Dual Access  Coherent Namespace  Unified Access Control</p>
    <p>Popular file systems: CephFS, MarFS</p>
  </div>
  <div class="page">
    <p>Existing Systems: Customized Hybrid</p>
    <p>Dual Access  Efficient File Interfaces  Coherent Namespace</p>
    <p>Generic  Distributed  Unified Access Control</p>
    <p>Popular file systems: ProxyFS, OpenIOFS</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Agni</p>
  </div>
  <div class="page">
    <p>Agni</p>
    <p>Generic  Dual Access  Efficient File Interfaces  Distributed</p>
    <p>Coherent Namespace  Unified Access Control</p>
    <p>!</p>
  </div>
  <div class="page">
    <p>Architecture</p>
    <p>Agni</p>
  </div>
  <div class="page">
    <p>Architecture</p>
    <p>Agni</p>
    <p>Object Storage</p>
    <p>Key-Value Storage</p>
  </div>
  <div class="page">
    <p>Architecture</p>
    <p>Agni</p>
    <p>Object Storage</p>
    <p>Key-Value Storage</p>
    <p>Data</p>
    <p>Metadata</p>
  </div>
  <div class="page">
    <p>Architecture</p>
    <p>Agni</p>
    <p>Object Storage</p>
    <p>Key-Value Storage</p>
    <p>Data</p>
    <p>Metadata</p>
  </div>
  <div class="page">
    <p>Our Design Choices</p>
    <p>File</p>
    <p>Object</p>
    <p>A</p>
    <p>A</p>
    <p>A</p>
    <p>What about inefficient writes to immutable objects ?</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>CacheMemory</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Memory</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Base</p>
    <p>Memory</p>
    <p>Object Storage</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Base</p>
    <p>Memory</p>
    <p>Object Storage</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Base</p>
    <p>Memory</p>
    <p>Object Storage</p>
    <p>File Interface</p>
    <p>Write</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Base</p>
    <p>Memory</p>
    <p>Object Storage</p>
    <p>File Interface</p>
    <p>Flush</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Base</p>
    <p>Memory</p>
    <p>Object Storage</p>
    <p>File Interface</p>
    <p>Merge</p>
  </div>
  <div class="page">
    <p>Multi-Tier Data Structure</p>
    <p>Agni</p>
    <p>Cache</p>
    <p>Log</p>
    <p>Base</p>
    <p>Memory</p>
    <p>Object Storage</p>
    <p>File Interface Object</p>
    <p>Interface</p>
  </div>
  <div class="page">
    <p>We Call This Approach Eventual 11 Mapping</p>
    <p>File Object</p>
  </div>
  <div class="page">
    <p>We Call This Approach Eventual 11 Mapping</p>
    <p>File Object</p>
  </div>
  <div class="page">
    <p>We Call This Approach Eventual 11 Mapping</p>
    <p>File Object</p>
    <p>File to Object Visibility Lag</p>
  </div>
  <div class="page">
    <p>Eventual 11 Mapping Works Both Ways</p>
    <p>Object File</p>
  </div>
  <div class="page">
    <p>Eventual 11 Mapping Works Both Ways</p>
    <p>Object File</p>
  </div>
  <div class="page">
    <p>Eventual 11 Mapping Works Both Ways</p>
    <p>Object File</p>
    <p>Object to File Visibility Lag</p>
  </div>
  <div class="page">
    <p>Design: Object to File</p>
    <p>Agni</p>
    <p>Object Storage</p>
    <p>Key-Value Storage</p>
    <p>Data</p>
    <p>Metadata</p>
    <p>File Interface</p>
  </div>
  <div class="page">
    <p>Design: Object to File</p>
    <p>Agni</p>
    <p>Object Storage</p>
    <p>Key-Value Storage</p>
    <p>Data</p>
    <p>Metadata</p>
    <p>File Interface Object</p>
    <p>Interface</p>
  </div>
  <div class="page">
    <p>Design: Object to File</p>
    <p>Agni</p>
    <p>Object Storage</p>
    <p>Key-Value Storage</p>
    <p>Data</p>
    <p>Metadata</p>
    <p>Notification Processor</p>
    <p>File Interface Object</p>
    <p>Interface</p>
    <p>Visible</p>
  </div>
  <div class="page">
    <p>HotStorage19 12 1</p>
    <p>Evaluation: Applications</p>
    <p>ffmpeg: 30 GB of MPEG to MOV files</p>
    <p>bowtie: 8GB single genome file</p>
    <p>Agni+Merge denotes when dual access is enabled</p>
    <p>&quot;</p>
  </div>
  <div class="page">
    <p>HotStorage19 12 2</p>
    <p>Evaluation: Applications</p>
    <p>ffmpeg: 30 GB of MPEG to MOV files</p>
    <p>bowtie: 8GB single genome file</p>
    <p>Agni+Merge denotes when dual access is enabled</p>
    <p>&quot;</p>
  </div>
  <div class="page">
    <p>HotStorage19 12 3</p>
    <p>Evaluation: Applications</p>
    <p>ffmpeg: 30 GB of MPEG to MOV files</p>
    <p>bow,e: 8GB single genome file</p>
    <p>Agni+Merge denotes when dual access is enabled</p>
    <p>&quot;</p>
  </div>
  <div class="page">
    <p>HotStorage19 12 4</p>
    <p>Evaluation: Applications</p>
    <p>ffmpeg: 30 GB of MPEG to MOV files</p>
    <p>bow,e: 8GB single genome file</p>
    <p>Agni+Merge denotes when dual access is enabled</p>
    <p>&quot;</p>
  </div>
  <div class="page">
    <p>HotStorage19 12 5</p>
    <p>Evaluation: Applications</p>
    <p>ffmpeg: 30 GB of MPEG to MOV files</p>
    <p>bowtie: 8GB single genome file</p>
    <p>Agni+Merge denotes when dual access is enabled</p>
    <p>&quot;</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Future work</p>
  </div>
  <div class="page">
    <p>Future Work</p>
    <p>Implement coherent namespaces and unified access control Mode I</p>
    <p>Best object interface performance  User intervention required for namespace coherence  Access control dependent on object store</p>
    <p>Mode II  Additional object interfaces  Prevents any namespace incoherence  Uniform access control independent of object storage</p>
  </div>
  <div class="page">
    <p>Thank you!</p>
    <p>https://github.com/objectfs/objectfs</p>
    <p>Contact: lillaney@jhu.edu</p>
  </div>
  <div class="page">
    <p>Discussion points</p>
    <p>Challenges in hybrid cloud deployment Acceptability of weak data access consistency Approaches to coherent namespace Approaches to unified access control</p>
  </div>
</Presentation>
