<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>How Sharp is SHARP?</p>
    <p>WOOT19@USENIX-SECURITY</p>
    <p>Dixit Kumar (Indian Institute of Technology Kanpur), Chavhan Sujeet Yashavant (Indian Institute of Technology Kanpur), Biswabandan Panda (Indian Institute of Technology Kanpur), and Vishal Gupta (Manipal University Jaipur and Indian Institute of Technology Kanpur)</p>
  </div>
  <div class="page">
    <p>SHARP [Yan et al., ISCA 17 ]</p>
  </div>
  <div class="page">
    <p>SHARP [Yan et al., ISCA 17 ]</p>
    <p>Secure hierarchy-aware cache replacement policy</p>
  </div>
  <div class="page">
    <p>SHARP [Yan et al., ISCA 17 ]</p>
    <p>Secure hierarchy-aware cache replacement policy</p>
    <p>Mitigation for side-channel attacks</p>
  </div>
  <div class="page">
    <p>Side Channel Attacks</p>
    <p>Attacker Victim</p>
  </div>
  <div class="page">
    <p>Eviction based Cache Attacks: (Prime+Probe)</p>
    <p>Voila</p>
    <p>LLC</p>
  </div>
  <div class="page">
    <p>Eviction based Cache Attacks: (Prime+Probe)</p>
    <p>Voila</p>
    <p>LLC</p>
    <p>Step 0: Attacker fills the entire shared cache (set)</p>
  </div>
  <div class="page">
    <p>Eviction based Cache Attacks: (Prime+Probe)</p>
    <p>Voila</p>
    <p>Step 1: Victim evicts cache blocks while running</p>
    <p>LLC</p>
    <p>Step 0: Attacker fills the entire shared cache (set)</p>
  </div>
  <div class="page">
    <p>Eviction based Cache Attacks: (Prime+Probe)</p>
    <p>Voila</p>
    <p>Step 1: Victim evicts cache blocks while running</p>
    <p>LLC</p>
    <p>Step 0: Attacker fills the entire shared cache (set)</p>
    <p>Step 2: Attacker probes the cache set</p>
  </div>
  <div class="page">
    <p>Eviction based Cache Attacks: (Prime+Probe)</p>
    <p>Voila</p>
    <p>Step 1: Victim evicts cache blocks while running</p>
    <p>LLC</p>
    <p>Step 0: Attacker fills the entire shared cache (set)</p>
    <p>Step 2: Attacker probes the cache set</p>
    <p>If misses then victim has accessed the set</p>
  </div>
  <div class="page">
    <p>Various Mitigations</p>
  </div>
  <div class="page">
    <p>Various Mitigations</p>
    <p>Cache Layout [HPCA 16]</p>
  </div>
  <div class="page">
    <p>Various Mitigations</p>
    <p>Cache Layout [HPCA 16]</p>
    <p>Fuzzing the timer [ISCA 12]</p>
  </div>
  <div class="page">
    <p>Various Mitigations</p>
    <p>Cache Layout [HPCA 16]</p>
    <p>Fuzzing the timer [ISCA 12]</p>
    <p>Cache Addressing [MICRO 18]</p>
  </div>
  <div class="page">
    <p>Various Mitigations</p>
    <p>Cache Layout [HPCA 16]</p>
    <p>Fuzzing the timer [ISCA 12]</p>
    <p>Cache Addressing [MICRO 18]</p>
    <p>Cache replacement policy [ISCA 17]</p>
  </div>
  <div class="page">
    <p>SHARP [Yan et al., ISCA 17 ]</p>
    <p>Secure hierarchy-aware cache replacement policy</p>
    <p>Mitigation for side-channel attacks</p>
  </div>
  <div class="page">
    <p>SHARP [Yan et al., ISCA 17 ]</p>
    <p>Secure hierarchy-aware cache replacement policy</p>
    <p>Prevents cross-core back invalidation</p>
    <p>Mitigation for side-channel attacks</p>
  </div>
  <div class="page">
    <p>Cross-core Back-Invalidation - I</p>
    <p>L1/L2</p>
    <p>LLC 18</p>
  </div>
  <div class="page">
    <p>Cross-core Back-Invalidation - II</p>
    <p>L1/L2</p>
    <p>LLC</p>
    <p>Miss Cross-core back-invalidation</p>
  </div>
  <div class="page">
    <p>Cross-core Back-Invalidation - III</p>
    <p>L1/L2</p>
    <p>LLC</p>
    <p>Miss</p>
    <p>Miss</p>
    <p>Attacker knows whether victim has accessed it or not</p>
  </div>
  <div class="page">
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>LLC Miss</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>LLC Miss</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Y</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Stage-1 24</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Y</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>Stage-1 25</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>X</p>
    <p>A Y B N</p>
    <p>Y</p>
    <p>Stage-1 26</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>X</p>
    <p>Y</p>
    <p>Stage-1 27</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>Not LLC Only X</p>
    <p>Y</p>
    <p>Stage-1 28</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>X</p>
    <p>Y</p>
    <p>Stage-1 29</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>LLC Only block found</p>
    <p>X</p>
    <p>Y</p>
    <p>Stage-1 30</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>A Y B N</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block X</p>
    <p>Evicts it X</p>
    <p>Y</p>
    <p>Stage-1 31</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Stage-1 32</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>Stage-1 33</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>Z Stage-1</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>ZNo LLC only block found (Stage-1 failed)Stage-1</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>LLC Miss</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>STAGE - 2, Same core block (intra-core eviction)</p>
    <p>LLC Miss</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>Z Stage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>Z Not Intra core blockStage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>Z Intra core block foundStage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B X Y</p>
    <p>A Y B X</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-2 demands block Z</p>
    <p>Z Evicts itStage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Stage-2 42</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>Stage-2 43</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>P Stage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>P Stage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>PNo LLC only block found (Stage-1 failed)Stage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>PNo Intra core block found (Stage-2 failed)Stage-2</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>STAGE - 2, Same core block (intra-core eviction)</p>
    <p>LLC Miss</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>STAGE - 2, Same core block (intra-core eviction)</p>
    <p>LLC Miss</p>
    <p>STAGE - 3, Random block (inter-core eviction) 49</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>P Evicts random blockStage-3</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A B Z Y</p>
    <p>A Y B Z</p>
    <p>C0 C1 C2 C3</p>
    <p>Core-3 demands block P</p>
    <p>PCauses cross-core back invalidationStage-3 51</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>Private Caches</p>
    <p>Shared Cache</p>
    <p>A Z Y P</p>
    <p>A Y P Z</p>
    <p>C0 C1 C2 C3</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>STAGE - 2, Same core block (intra-core eviction)</p>
    <p>LLC Miss</p>
    <p>STAGE - 3, Random block (inter-core eviction) 53</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>STAGE - 1, LLC only block</p>
    <p>STAGE - 2, Same core block (intra-core eviction)</p>
    <p>LLC Miss</p>
    <p>STAGE - 3, Random block (inter-core eviction) Increments alarm-counter</p>
    <p>How SHARP Works?</p>
  </div>
  <div class="page">
    <p>SHARP Alarm Counter</p>
    <p>Counter per core</p>
  </div>
  <div class="page">
    <p>SHARP Alarm Counter</p>
    <p>Counter per core</p>
    <p>Increments on inter-core eviction</p>
  </div>
  <div class="page">
    <p>SHARP Alarm Counter</p>
    <p>Counter per core</p>
    <p>Increments on inter-core eviction</p>
    <p>For 1 billion cycles, the threshold value is 2000</p>
  </div>
  <div class="page">
    <p>SHARP Alarm Counter</p>
    <p>Counter per core</p>
    <p>On exceeding threshold, SHARP triggers OS interrupt</p>
    <p>Increments on inter-core eviction</p>
    <p>For 1 billion cycles, the threshold value is 2000</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP mitigate all attacks?</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Private Caches</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Multi-threaded Attacker</p>
    <p>Critical Set</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A</p>
    <p>A</p>
    <p>Private Caches</p>
    <p>Attacker Primes</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>BA</p>
    <p>Private Caches</p>
    <p>Critical Set</p>
    <p>Attacker Primes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C</p>
    <p>CBA</p>
    <p>Private Caches</p>
    <p>Critical Set</p>
    <p>Attacker Primes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C D</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>Critical Set</p>
    <p>Attacker Primes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C D</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>E B C D</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>E</p>
    <p>Critical Set</p>
    <p>Attacker Reprimes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>E F C D</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>FE</p>
    <p>Critical Set</p>
    <p>Attacker Reprimes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>E F G D</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>GFE</p>
    <p>Critical Set</p>
    <p>Attacker Reprimes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>E F G H</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Critical Set</p>
    <p>Attacker Reprimes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>E F G H</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>E F G H</p>
    <p>DCBA</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Critical Set</p>
    <p>Victim Comes</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>X F G H</p>
    <p>DCBX</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Critical Set</p>
    <p>Victim Accesses</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Y F G H</p>
    <p>DCYX</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Critical Set</p>
    <p>Victim Accesses</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Y F G H</p>
    <p>DCYX</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Attacker Comes</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Y F G H</p>
    <p>DCYX</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Attacker Probe</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>? F G H</p>
    <p>DCY?</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Attacker Probes</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Prime+Reprime+Probe</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>? F G H</p>
    <p>DC??</p>
    <p>Private Caches</p>
    <p>HGFE</p>
    <p>Critical Set</p>
    <p>Attacker Probes</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP mitigate all attacks? No</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks? No</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>Private Caches</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Critical Set</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Multi-threaded Attacker</p>
    <p>Critical Set</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A</p>
    <p>A Critical Set</p>
    <p>Attacker accesses block A</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B</p>
    <p>BA Critical Set</p>
    <p>Attacker accesses block B</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C</p>
    <p>CBA Critical Set</p>
    <p>Attacker accesses block C</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C D</p>
    <p>DCBA Critical Set</p>
    <p>Attacker accesses block D</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C D</p>
    <p>DCBA Critical Set</p>
    <p>Attacker occupies entire set</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>A B C D</p>
    <p>DCBA Critical Set</p>
    <p>Victim comes</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>X B C D</p>
    <p>DCBX Critical Set</p>
    <p>Victim accesses block X</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Y B C D</p>
    <p>DCBY Critical Set</p>
    <p>Victim accesses block Y</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>Z B C D</p>
    <p>DCBZ Critical Set</p>
    <p>Victim accesses block Z</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Denial of Service Attack</p>
    <p>C1 C0 C2 C3</p>
    <p>Shared Cache</p>
    <p>? B C D</p>
    <p>DCB? Critical Set</p>
    <p>Victim strives for other ways</p>
    <p>Private Caches</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks? No</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks?</p>
    <p>Does threshold affect benign applications?</p>
    <p>No</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Simulation</p>
  </div>
  <div class="page">
    <p>Simulation</p>
    <p>ChampSim, a trace driven simulator</p>
  </div>
  <div class="page">
    <p>Simulation</p>
    <p>ChampSim, a trace driven simulator</p>
    <p>Simulated SHARP on a 16-core system with three levels of caches and huge pages</p>
  </div>
  <div class="page">
    <p>Used different combinations of LLC thrashing and LLC fitting applications Example, 16:0 denotes 16 thrashing and zero fitting</p>
    <p>Simulation</p>
    <p>ChampSim, a trace driven simulator</p>
    <p>Simulated SHARP on a 16-core system with three levels of caches and huge pages</p>
  </div>
  <div class="page">
    <p>LLC Thrashing Benchmarks [SPEC CPU 2017]</p>
    <p>Mix No Thrashing Benchmarks</p>
  </div>
  <div class="page">
    <p>Interbackhit Rate</p>
  </div>
  <div class="page">
    <p>Interbackhit Rate</p>
  </div>
  <div class="page">
    <p>Interbackhit Counter</p>
  </div>
  <div class="page">
    <p>Interbackhit Counter</p>
  </div>
  <div class="page">
    <p>Interbackhit Counter</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks?</p>
    <p>Does threshold affect benign applications?</p>
    <p>No</p>
    <p>Yes</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks?</p>
    <p>Does threshold affect benign applications?</p>
    <p>What does OS do when it receives an interrupt?</p>
    <p>No</p>
    <p>Yes</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to another socket</p>
  </div>
  <div class="page">
    <p>Migration to Another Socket</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to another socket</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to another socket</p>
    <p>Causes performance overhead</p>
  </div>
  <div class="page">
    <p>Delay Cost : IPC Slowdown</p>
    <p>Case Mitigation Delay</p>
    <p>I 1 Million cycle</p>
    <p>II 16 Million cycle</p>
    <p>III 256 Million cycle</p>
  </div>
  <div class="page">
    <p>Delay Cost : IPC Slowdown</p>
    <p>Case Mitigation Delay</p>
    <p>I 1 Million cycle</p>
    <p>II 16 Million cycle</p>
    <p>III 256 Million cycle</p>
  </div>
  <div class="page">
    <p>Delay Cost : IPC Slowdown</p>
    <p>Case Mitigation Delay</p>
    <p>I 1 Million cycle</p>
    <p>II 16 Million cycle</p>
    <p>III 256 Million cycle 2.5x Slowdown</p>
  </div>
  <div class="page">
    <p>Delay Cost : IPC Slowdown</p>
    <p>Case Mitigation Delay</p>
    <p>I 1 Million cycle</p>
    <p>II 16 Million cycle</p>
    <p>III 256 Million cycle</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to an another socket</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule causes slowdown</p>
    <p>causes significant slowdown</p>
    <p>To migrate to an another socket</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to an another socket</p>
    <p>To kill</p>
    <p>causes slowdown</p>
    <p>causes significant slowdown</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to an another socket</p>
    <p>To kill</p>
    <p>causes slowdown</p>
    <p>causes significant slowdown</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to an another socket</p>
    <p>To kill</p>
    <p>causes slowdown</p>
    <p>causes significant slowdown</p>
    <p>Does mitigation strategy facilitates any new attack?</p>
  </div>
  <div class="page">
    <p>Threshold Aware Attack - I</p>
    <p>Attacker runs</p>
    <p>Attacker crosses the threshold OS deschedules/</p>
    <p>migrates/kills attacker</p>
  </div>
  <div class="page">
    <p>Threshold Aware Attack - II</p>
    <p>Attacker reaches nearly the threshold Attacker</p>
    <p>sleeps Attacker</p>
    <p>runs</p>
    <p>OS schedules process X</p>
    <p>OS deschedules/ migrates/kills</p>
    <p>process X</p>
    <p>Process X crosses the threshold</p>
  </div>
  <div class="page">
    <p>Speculating Possible OS Mitigations</p>
    <p>To deschedule</p>
    <p>To migrate to another socket</p>
    <p>To kill</p>
    <p>causes slowdown</p>
    <p>causes significant slowdown</p>
    <p>YesDoes mitigation strategy facilitates any new attack?</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks?</p>
    <p>Does threshold affect benign applications?</p>
    <p>What does OS do when it receives an interrupt?</p>
    <p>No</p>
    <p>Yes</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks?</p>
    <p>Does threshold affect benign applications?</p>
    <p>What does OS do when it receives an interrupt?</p>
    <p>No</p>
    <p>Yes</p>
    <p>Is SHARP secure in terms of information leakage?</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Questions That We Ask?</p>
    <p>Does SHARP facilitate few more attacks?</p>
    <p>Does SHARP mitigate all attacks?</p>
    <p>Does threshold affect benign applications?</p>
    <p>What does OS do when it receives an interrupt?</p>
    <p>No</p>
    <p>Yes</p>
    <p>Not really Is SHARP secure in terms of information leakage?</p>
    <p>Yes</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Dont mitigates all attacks</p>
    <p>SHARP is not that sharp</p>
    <p>Performance overhead to benign applications 130</p>
    <p>Role of OS is not defined</p>
    <p>Facilitates new attacks</p>
  </div>
  <div class="page">
    <p>Thank You!</p>
  </div>
</Presentation>
