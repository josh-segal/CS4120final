<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Pitfalls for ISP-friendly P2P design</p>
    <p>Michael Piatek*, Harsha V. Madhyastha, John P. John*, Arvind Krishnamurthy*, Thomas Anderson*</p>
    <p>*UW, UCSD</p>
  </div>
  <div class="page">
    <p>P2P &amp; ISPs  P2P systems:  Large volume of traffic (2080% of total)  Random and globally diverse traffic pattern</p>
    <p>ISPs:  Costs scale with usage  But, consumers charged flat-rate pricing  Rate-limit (or block) problem protocols</p>
    <p>Outcome: arms-race between users and providers 2</p>
  </div>
  <div class="page">
    <p>A simple solution?  Whenever possible, prefer local transfers</p>
    <p>Two proposals: (SIGCOMM 08) Ono: Clients piggy-back on CDNs to infer locality P4P: ISPs advertise path preferences directly</p>
    <p>Key claim: locality-aware distribution is win-win Faster downloads for users Less interdomain traffic for ISPs</p>
  </div>
  <div class="page">
    <p>Our position</p>
    <p>While significant locality exists in the workload, a win-win outcome is unlikely in practice</p>
    <p>Three pitfalls for ISP-friendly P2P design: 1. Limited impact</p>
  </div>
  <div class="page">
    <p>Potential for reduction</p>
    <p>We collect a trace of swarm membership and measure AS-paths between peers</p>
    <p>Interdomain traffic reduced by:</p>
    <p>With...  Most popular swarms  Long-lived peers  AS-path information and optimal matching</p>
  </div>
  <div class="page">
    <p>Potential for reduction</p>
    <p>We collect a trace of swarm membership and measure AS-paths between peers</p>
    <p>Interdomain traffic reduced by:</p>
    <p>With...  Typical swarms  Long-lived peers  AS-path information and optimal matching</p>
  </div>
  <div class="page">
    <p>Potential for reduction</p>
    <p>We collect a trace of swarm membership and measure AS-paths between peers</p>
    <p>Interdomain traffic reduced by:</p>
    <p>With...  Typical swarms  Typical lifetimes  AS-path information and optimal matching</p>
  </div>
  <div class="page">
    <p>Evaluation in the wild</p>
    <p>Distribution efficiency for 32 popular swarms 8</p>
  </div>
  <div class="page">
    <p>Evaluation in the wild</p>
    <p>Distribution efficiency for 32 popular swarms</p>
    <p>Median value: 4 AS transitions</p>
  </div>
  <div class="page">
    <p>Evaluation in the wild</p>
    <p>Ono does not provide a significant end-to-end benefit 9</p>
  </div>
  <div class="page">
    <p>Evaluation in the wild</p>
    <p>A modest reduction is achievable with path information 10</p>
  </div>
  <div class="page">
    <p>Evaluation in the wild</p>
    <p>Shortest AS-path matching reduces interdomain</p>
    <p>traffic by a median 15%</p>
    <p>But short of the 27% suggested by our trace replay 10</p>
  </div>
  <div class="page">
    <p>Performance</p>
    <p>Goal: remain performance neutral  Challenge: fast but distant or slow but local?</p>
    <p>For the largest swarms in our trace, prioritizing locality degrades performance for 80% of users</p>
    <p>Most peers come from US, while most capacity comes from high bandwidth European/Asian ISPs</p>
  </div>
  <div class="page">
    <p>Additional pitfalls</p>
    <p>Reduced structural robustness  When does this impact performance?</p>
    <p>Strategic ISPs can subvert locality mechanisms  Will ISPs adopt such behavior?</p>
  </div>
  <div class="page">
    <p>Structural robustness  Local clustering changes overlay structure,</p>
    <p>potentially creating bottlenecks</p>
    <p>Europe North</p>
    <p>America</p>
    <p>Europe North</p>
    <p>AmericaRandom matching</p>
    <p>Locality-aware matching</p>
    <p>Quantifying robustness: fraction of edge removals required to disconnect half of nodes</p>
  </div>
  <div class="page">
    <p>Robustness</p>
    <p>Optimizing for locality reduces structural robustness 14</p>
  </div>
  <div class="page">
    <p>Robustness</p>
    <p>Optimizing for locality reduces structural robustness</p>
    <p>Worst random topology more robust than</p>
  </div>
  <div class="page">
    <p>Robustness</p>
    <p>Optimizing for locality reduces structural robustness</p>
    <p>Popular swarms with significant locality</p>
    <p>Less popular swarms with limited choice</p>
  </div>
  <div class="page">
    <p>Conflicting interests  Typical assumption: ISPs will cooperate to reduce</p>
    <p>interdomain traffic</p>
    <p>P2P traffic increases costs for some ISPs, but revenue for others</p>
    <p>What if an ISP acts strategically? Prefer in order: customers, peers, then providers</p>
  </div>
  <div class="page">
    <p>Strategic behavior</p>
    <p>Provider</p>
    <p>Customer</p>
    <p>Internet</p>
  </div>
  <div class="page">
    <p>Strategic behavior</p>
    <p>Provider</p>
    <p>Customer</p>
    <p>Internet Internet</p>
    <p>Manipulating paths to induce revenue 18</p>
  </div>
  <div class="page">
    <p>Strategic behavior</p>
    <p>Strategic matching</p>
    <p>Shortest AS path Traffic reduction</p>
  </div>
  <div class="page">
    <p>Summary</p>
    <p>Client-only solutions dont solve the problem in BitTorrent</p>
    <p>Optimizing for locality in isolation degrades performance and robustness</p>
    <p>Conflicting interests among ISPs preclude cooperation and encourage strategic behavior</p>
    <p>The tussle between users and ISPs over P2P is likely to continue</p>
  </div>
</Presentation>
