<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>http://www.ece.rice.edu/networks</p>
    <p>Huirong Fu and Edward W. Knightly Rice Networks Group</p>
    <p>Aggregation and Scalable QoS: A Performance Study</p>
  </div>
  <div class="page">
    <p>Problem: Scalability of Admission Control</p>
    <p>Goal: provide predictable and controlled performance to Internet flows</p>
    <p>Limitations of current approaches</p>
    <p>Intserv requires state communication and storage for each flow  Scalability and deployability limitations</p>
    <p>Diffserv is simple and scalable but cannot quantify or control flow service quality (unless over-provisioned)</p>
    <p>Weaker service model</p>
  </div>
  <div class="page">
    <p>Can We Simultaneously Achieve ...?</p>
    <p>High utilization</p>
    <p>Scalability (not micro-managing flows)</p>
    <p>Strong service model (e.g., suitable for VOIP)</p>
    <p>Internet (YYN)  Phone Network (NNY)  Intserv/ATM (YNY)  Diffserv (YYN)</p>
  </div>
  <div class="page">
    <p>IntServ with Aggregation</p>
    <p>Ingress routers make bulk or aggregate core resv.  adjust as necessary</p>
    <p>Core routers do not manage state, process signaling messages, and make reservations for every flow</p>
    <p>A g g r e g a t e R e q u e s t</p>
    <p>F l o w R e q u e s t</p>
  </div>
  <div class="page">
    <p>How Effective is Aggregation?  It Depends</p>
    <p>One extreme: traffic demand is relatively constant  Rarely signal core to adjust aggregate reservation  Achieve all three!</p>
    <p>Other extreme: demand varies quickly and dramatically</p>
    <p>(rapid and highly variable flow arrivals and departures)</p>
    <p>Important role of timescales and variance of the traffic demand</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Simple traffic and theoretical model to study aggregation</p>
    <p>Validation and basic conclusions on timescales and variance</p>
    <p>Remove assumptions of the basic model via simulations  Other primary demand functions  Correlation in secondary demand (multi-scale)</p>
    <p>Trace driven simulations  Model validation  Insights into more realistic scenarios</p>
    <p>Goal:devise framework to understand perf. of aggregation</p>
  </div>
  <div class="page">
    <p>Basic System Model</p>
    <p>Aggregation system:  Ingress admits flow if sufficient bulk reservation</p>
    <p>If new flow rate plus current demand &lt; current agg. reservation</p>
    <p>Adjust bulk reservation level every  seconds  Assume perfect prediction for next  seconds  Well-defined control time scale</p>
    <p>Assume bottleneck link C and N aggr.s</p>
    <p>Intserv admits flow if C i i '</p>
    <p>N 'N</p>
    <p>j</p>
    <p>e d g e r o u t e r</p>
    <p>c o r e r o u t e r</p>
    <p>b o t t l e n e c k l i n k</p>
    <p>f l o w j</p>
    <p>i</p>
    <p>a n d l i n k i</p>
    <p>c l a s s i</p>
    <p>C j</p>
    <p>ii j</p>
  </div>
  <div class="page">
    <p>Simple Model of Aggregate Demand</p>
    <p>Primary demand  Sinusoid with period</p>
    <p>T, amplitude a, and random phase</p>
    <p>Secondary demand  White noise  Uniform distribution U[-b,b]</p>
    <p>+=</p>
    <p>Demand time scale T</p>
    <p>Demand variance also due to white noise</p>
    <p>j</p>
    <p>ii</p>
    <p>a</p>
    <p>b</p>
    <p>T</p>
  </div>
  <div class="page">
    <p>Control and Demand Time Scales</p>
    <p>IntServ Static Aggr. ResvDynamic Aggr. Resv</p>
    <p>Recall: control time scale ; demand time scale T  Intserv (=0) and static aggregate reservation (=T) upper</p>
    <p>and lower bound performance  Note: reserved resource utilization</p>
  </div>
  <div class="page">
    <p>Example Analytical Result</p>
    <p>Overload probability - ratio of overloaded traffic (not admitted) to the total demand</p>
    <p>Derived as:</p>
    <p>N</p>
    <p>i iii</p>
    <p>T</p>
    <p>k</p>
    <p>T</p>
    <p>k</p>
    <p>N</p>
    <p>i ki</p>
    <p>N</p>
    <p>ol</p>
    <p>ba T</p>
    <p>m</p>
    <p>Cf T</p>
    <p>P N i</p>
    <p>)( 1</p>
    <p>where</p>
    <p>) 2</p>
    <p>cos(max 1</p>
    <p>, s T</p>
    <p>amf ii ksk</p>
    <p>ki</p>
    <p>ii</p>
    <p>i</p>
  </div>
  <div class="page">
    <p>Overload and Control Time Scale</p>
    <p>Performance continuum between Intserv and static reservation</p>
    <p>If 0.01T, aggregation is near ideal</p>
    <p>Given limit of signaling system, can determine achievable performance</p>
    <p>Theoretical model tracks simulation results</p>
    <p>T</p>
  </div>
  <div class="page">
    <p>Reserved Resource Utilization</p>
    <p>RRU = fraction of reserved capacity utilized</p>
    <p>Intserv is 1</p>
    <p>Faster signaling better tracks demand, with</p>
    <p>T</p>
  </div>
  <div class="page">
    <p>Variance of the Secondary Demand</p>
    <p>Demand variance degrades performance for  Ex. For perf. within 20% of Intservs, need var &lt; .05, or</p>
    <p>secondary demand range &lt; .39 times primary range</p>
    <p>T</p>
    <p>var=0</p>
    <p>var=0.01</p>
    <p>var=0.33</p>
    <p>+</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Simple traffic and theoretical model to study aggregation</p>
    <p>Validation and basic conclusions on timescales and variance</p>
    <p>Remove assumptions of the basic model via simulations  Other primary demand functions  Correlation in secondary demand (multi-scale)</p>
    <p>Trace driven simulations  Model validation  Insights into more realistic scenarios</p>
    <p>Goal:devise framework to understand perf. of aggregation</p>
  </div>
  <div class="page">
    <p>Alternate Primary Demand Models</p>
    <p>Different periodic functions with identical mean, variance, and period have little impact</p>
  </div>
  <div class="page">
    <p>Alternate Secondary Demand Models</p>
    <p>Small impact, especially for smaller T2, smaller b</p>
    <p>Uncorrelated</p>
    <p>Correlated T2=T/4</p>
    <p>+</p>
  </div>
  <div class="page">
    <p>Trace-Driven Simulation Sources</p>
    <p>Qbone trace (m 56.8 Mb/sec, var 191, T 24 hours, s 5 min)  NLANR trace (m 0.74 Mb/sec, var 0.45, T 24 hours, s 1 sec)  Caveat: all traffic vs. real-time flows</p>
  </div>
  <div class="page">
    <p>QBone Simulation and Model Predictions</p>
    <p>System  Variance is moderate</p>
    <p>b/a=0.42</p>
    <p>If =T/72, aggregate resv. achieves utilization of 97% of IntServs</p>
    <p>Model  Theoretical model retains</p>
    <p>predictive capability</p>
    <p>Primary + secondary outperforms primary only</p>
  </div>
  <div class="page">
    <p>NLANR Simulation and Model Predictions</p>
    <p>System  High variance in</p>
    <p>secondary demand hinders performance (b/a=1.9)</p>
    <p>If =0.01T, agg. achieves utilization of 44.2% of IntServs</p>
    <p>Model Secondary demand critical for model</p>
    <p>Captures basic trend with larger prediction errors</p>
  </div>
  <div class="page">
    <p>Impact of Number of Aggregate Demands</p>
    <p>Each aggregate introduces quantization error</p>
    <p>Effect is cumulative and most visible for large</p>
    <p>Could reverse trend via inter-aggregate statistical multiplexing or merging</p>
  </div>
  <div class="page">
    <p>Impact of Merging</p>
    <p>Merge multiple aggregates into 1 vs. each independent</p>
    <p>Significant performance improvements, especially when</p>
    <p>Gains from statistical smoothing of multiplexed flow</p>
    <p>T</p>
  </div>
  <div class="page">
    <p>Impact of Demand Phase</p>
    <p>What if all aggregates are synchronized?</p>
    <p>Performance degrades aggregation and IntServ</p>
    <p>A capacity planning issue</p>
    <p>)0(</p>
  </div>
  <div class="page">
    <p>Summary of Factors Affecting Aggregation</p>
    <p>Major factors</p>
    <p>Demand time scale T, control time scale , variance 2</p>
    <p>&lt; .01 T, and moderate variance is ideal</p>
    <p>Simple analytical model captures these effects</p>
    <p>Minor factors</p>
    <p>Correlation structure of primary demand</p>
    <p>Existence of correlation (vs. white noise) in secondary demand</p>
    <p>Network topology (multiple bottlenecks)</p>
    <p>Other Factors</p>
    <p># of aggregates (-), merging (+), phase (- to all)</p>
  </div>
  <div class="page">
    <p>Conclusions</p>
    <p>Proposed a simple model for aggregate traffic</p>
    <p>Derived closed-form expressions for the systems key performance metrics</p>
    <p>Provide a methodology to determine the regime under which aggregation is an accurate and high-performance mechanism</p>
    <p>http://www.ece.rice.edu/networks</p>
  </div>
  <div class="page">
    <p>Demand Model</p>
    <p>Demand and Aggregation Model</p>
    <p>]2,0[~  Ui</p>
    <p>],,[~ iii bbUtZ  0s0)()(  stZtEZ ii for</p>
    <p>DemandSecondary</p>
    <p>DemandPrimary DemandAggregate</p>
    <p>)() 2</p>
    <p>cos()( tZt T</p>
    <p>amtr iiiii</p>
    <p>Aggregate Demand, Request and Reservation</p>
  </div>
  <div class="page">
    <p>Demand Time Scale</p>
    <p>To achieve performance within 10% IntServ, hours,</p>
    <p>for minutes 57.1T</p>
  </div>
  <div class="page">
    <p>NLANR (5 Minutes Average) Simulation and Model Predictions</p>
    <p>Mean same, variance 0.45--&gt;0.32</p>
    <p>Since b/a decreases 1.9--&gt;0.68, for 0.01T, aggregation performs better</p>
  </div>
  <div class="page">
    <p>Sketch Derivation of Overload Probability</p>
    <p>Consider aggr. resv. requests occur at identical epochs</p>
    <p>Decouple the impact of primary and secondary demands</p>
    <p>Primary demand: odd symmetric</p>
    <p>Secondary demand: ADDITIONAL bandwidth must be reserved since</p>
    <p>Conditioning on the relative phases of different aggregates</p>
    <p>T,,2,,0</p>
    <p>1max 0</p>
    <p>ii s</p>
    <p>bsZP</p>
    <p>ib</p>
  </div>
  <div class="page">
    <p>Impact of Network Topology</p>
    <p>Little impact  Large T incurs slight deviation according to the number of</p>
    <p>contention points</p>
  </div>
</Presentation>
