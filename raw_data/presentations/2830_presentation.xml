<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>CarMap: Fast 3D Feature Map Updates for Automobiles</p>
    <p>Fawad Ahmad, Hang Qiu, Ray Eells, Fan Bai, and Ramesh Govindan</p>
  </div>
  <div class="page">
    <p>Localization for Autonomous Vehicles</p>
  </div>
  <div class="page"/>
  <div class="page"/>
  <div class="page">
    <p>Depth Perception Sensors Stereo Camera</p>
    <p>LiDAR</p>
    <p>Radar</p>
  </div>
  <div class="page">
    <p>Mapping companies</p>
  </div>
  <div class="page">
    <p>Mapping companies Fleet of data collection vehicles</p>
  </div>
  <div class="page">
    <p>Environmental changes render maps stale</p>
    <p>Fleet of data collection vehicles</p>
  </div>
  <div class="page">
    <p>Short Timescale Events</p>
    <p>Traffic accidents</p>
    <p>Road construction Delivery trucks</p>
  </div>
  <div class="page">
    <p>Importance of Map Updates</p>
    <p>Traffic accident</p>
  </div>
  <div class="page">
    <p>Cost of Map Collection</p>
    <p>Mapping cost: $5000 / km</p>
  </div>
  <div class="page">
    <p>The Question</p>
    <p>What is a scalable way to build an up-to date 3D map with near real-time updates?</p>
  </div>
  <div class="page">
    <p>Our Approach</p>
    <p>Crowdsource map collection &amp; updates</p>
    <p>Depth sensors and wireless radios in vehicles</p>
  </div>
  <div class="page">
    <p>Our Approach: Crowdsourcing</p>
    <p>Scan environmentStereo camera</p>
  </div>
  <div class="page">
    <p>Our Approach: Crowdsourcing</p>
    <p>Upload map data</p>
    <p>Stereo camera</p>
  </div>
  <div class="page">
    <p>Our Approach: Crowdsourcing</p>
    <p>Download map data3D Map</p>
    <p>Upload map dataStereo camera</p>
  </div>
  <div class="page">
    <p>Challenge: Size of 3D Maps</p>
    <p>SLAM</p>
  </div>
  <div class="page">
    <p>Challenge: Size of 3D Maps</p>
    <p>SLAM</p>
  </div>
  <div class="page">
    <p>Challenge: Size of 3D Maps</p>
    <p>SLAM</p>
  </div>
  <div class="page">
    <p>Challenge: Environmental Transients</p>
  </div>
  <div class="page">
    <p>Challenge: Environmental Transients</p>
    <p>Map from rush hour</p>
  </div>
  <div class="page">
    <p>Challenge: Environmental Transients</p>
    <p>No traffic</p>
    <p>Map from rush hour</p>
  </div>
  <div class="page">
    <p>Challenge: Environmental Transients</p>
    <p>Poor localization</p>
    <p>Map from rush hour</p>
  </div>
  <div class="page">
    <p>Challenge: Map Updates</p>
    <p>Vehicle collected maps</p>
    <p>Stitched map</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
    <p>Environmental transients Dynamic object filter</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
    <p>Environmental transients Dynamic object filter</p>
    <p>Map updates Robust stitching, efficient diff</p>
    <p>Details in the paper</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
    <p>Environmental transients Dynamic object filter</p>
    <p>Map updates Robust stitching, efficient diff</p>
  </div>
  <div class="page">
    <p>Background: Image Features</p>
    <p>Image feature</p>
    <p>Descriptor [23, 78,  , 71]</p>
  </div>
  <div class="page">
    <p>Background: 3D Frames</p>
    <p>Incoming 3D frames</p>
  </div>
  <div class="page">
    <p>Background: Keyframe</p>
    <p>Incoming 3D frames</p>
    <p>Keyframes</p>
  </div>
  <div class="page">
    <p>Background: Keyframe Features</p>
    <p>Incoming 3D frames</p>
    <p>Keyframes</p>
    <p>Keyframe features</p>
  </div>
  <div class="page">
    <p>Background: Map Features</p>
    <p>Incoming 3D frames</p>
    <p>Keyframes</p>
    <p>Keyframe features</p>
    <p>Map featuresStable across frames</p>
  </div>
  <div class="page">
    <p>Background: Feature-based SLAM</p>
    <p>Input frame</p>
    <p>Feature map</p>
  </div>
  <div class="page">
    <p>Background: Feature-based SLAM Input frame</p>
    <p>Feature map 36</p>
    <p>Localization</p>
    <p>Feature matching</p>
  </div>
  <div class="page">
    <p>Background: Image Feature Matching</p>
  </div>
  <div class="page">
    <p>Background: Image Feature Matching</p>
    <p>Features from the map</p>
    <p>Features seen by the vehicle</p>
  </div>
  <div class="page">
    <p>Background: Image Feature Matching</p>
    <p>Data structures:  Feature index  Map feature index</p>
    <p>Requirements:  Accuracy  Speed</p>
  </div>
  <div class="page">
    <p>Background: Feature-based SLAM Input frame</p>
    <p>Feature map 40</p>
    <p>Localization</p>
    <p>Feature matching</p>
    <p>Pose estimation</p>
  </div>
  <div class="page">
    <p>Background: Feature-based SLAM Input frame</p>
    <p>Feature map 41</p>
    <p>Localization</p>
    <p>Feature matching</p>
    <p>Pose estimation</p>
    <p>Mapping</p>
    <p>Map augmentation</p>
  </div>
  <div class="page">
    <p>Map Elements: Keyframe-Features</p>
    <p>Keyframefeatures</p>
  </div>
  <div class="page">
    <p>Map Elements: Map-Features</p>
    <p>Keyframefeatures</p>
    <p>Mapfeatures</p>
  </div>
  <div class="page">
    <p>Keyframefeatures</p>
    <p>Mapfeatures</p>
    <p>Featureindex</p>
    <p>Map Elements: Feature-Index</p>
  </div>
  <div class="page">
    <p>Map Elements: Map-Feature Index</p>
    <p>Keyframefeatures</p>
    <p>Mapfeatures</p>
    <p>Featureindex</p>
    <p>Map-feature index</p>
  </div>
  <div class="page">
    <p>Map Elements: Minimal Representation?</p>
    <p>Keyframefeatures</p>
    <p>Mapfeatures</p>
    <p>Featureindex</p>
    <p>Map-feature index</p>
  </div>
  <div class="page">
    <p>Feature Map Bandwidth Requirements</p>
    <p>Feature-Map Scheme</p>
    <p>Sustained Bandwidth Requirement (Mbps)</p>
    <p>Full Feature-based SLAM Map</p>
    <p>Keyframe-Features 27</p>
  </div>
  <div class="page">
    <p>CarMaps Lean Map Representation</p>
    <p>Map-features</p>
  </div>
  <div class="page">
    <p>CarMaps Map Element Relationships</p>
    <p>Keyframefeatures</p>
    <p>Mapfeatures</p>
    <p>Featureindex</p>
    <p>Map-feature index</p>
    <p>Map-features are only 4% of all</p>
    <p>keyframe features</p>
  </div>
  <div class="page">
    <p>Feature Map Bandwidth Requirements</p>
    <p>Feature-Map Scheme</p>
    <p>Sustained Bandwidth Requirement (Mbps)</p>
    <p>Full Feature-based SLAM Map</p>
    <p>Keyframe-Features 27</p>
    <p>Map-Features 1</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
    <p>Environmental transients Dynamic object filter</p>
    <p>Matching sparse features</p>
    <p>Map updates Robust stitching, efficient diff</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
    <p>Environmental transients Dynamic object filter</p>
    <p>Matching sparse features Position hints</p>
    <p>Map updates Robust stitching, efficient diff</p>
  </div>
  <div class="page">
    <p>Background: Feature Matching Data Structures</p>
    <p>Data structures:  Feature index  Map-feature index</p>
    <p>Feature matching requirements:  Accuracy  Speed</p>
  </div>
  <div class="page">
    <p>Background: Feature Matching Key Idea</p>
    <p>Featureindex</p>
  </div>
  <div class="page">
    <p>Background: Feature Matching Key Idea</p>
    <p>Featureindex</p>
  </div>
  <div class="page">
    <p>Background: Feature Matching Key Idea</p>
    <p>Featureindex</p>
    <p>Identical keyframes</p>
    <p>Image feature similarity</p>
  </div>
  <div class="page">
    <p>Background: Histogram-based Matching</p>
    <p>Feature map</p>
  </div>
  <div class="page">
    <p>Background: Histogram-based Matching</p>
    <p>[1, 3, , 212]</p>
    <p>[46, 13, , 2]</p>
    <p>[1, 4, , 222]</p>
    <p>Feature descriptors</p>
    <p>Feature map</p>
  </div>
  <div class="page">
    <p>Background: Histogram-based Matching</p>
    <p>[1, 3, , 212]</p>
    <p>[46, 13, , 2]</p>
    <p>[1, 4, , 222]</p>
    <p>Feature descriptors</p>
    <p>Visual word discretization</p>
    <p>D</p>
    <p>Z</p>
    <p>D</p>
    <p>Feature map</p>
  </div>
  <div class="page">
    <p>Background: Histogram-based Matching</p>
    <p>[1, 3, , 212]</p>
    <p>[46, 13, , 2]</p>
    <p>[1, 4, , 222]</p>
    <p>Feature descriptors</p>
    <p>Visual word discretization</p>
    <p>D</p>
    <p>Z</p>
    <p>D</p>
    <p>Word histogram</p>
    <p>Feature map</p>
  </div>
  <div class="page">
    <p>Background: Histogram-based Matching</p>
    <p>[1, 3, , 212]</p>
    <p>[46, 13, , 2]</p>
    <p>[1, 4, , 222]</p>
    <p>Feature descriptors</p>
    <p>Visual word discretization</p>
    <p>D</p>
    <p>Z</p>
    <p>D</p>
    <p>Word histogram</p>
    <p>Feature map</p>
    <p>Word histogram matching</p>
  </div>
  <div class="page">
    <p>Background: Histogram-based Matching</p>
    <p>[1, 3, , 212]</p>
    <p>[46, 13, , 2]</p>
    <p>[1, 4, , 222]</p>
    <p>Feature descriptors</p>
    <p>Visual word discretization</p>
    <p>D</p>
    <p>Z</p>
    <p>D</p>
    <p>Word histogram</p>
    <p>Feature map</p>
    <p>Identical keyframes</p>
    <p>Word histogram matching</p>
  </div>
  <div class="page">
    <p>In SLAM, Histograms use Keyframe Features</p>
    <p>Keyframe features</p>
  </div>
  <div class="page">
    <p>CarMap Removes all Keyframe Features</p>
    <p>Map features</p>
  </div>
  <div class="page">
    <p>Implications of Lean Map &amp; Dynamic Filter</p>
    <p>~30x fewer features in map</p>
    <p>Feature matching with sparse features</p>
  </div>
  <div class="page">
    <p>Implications of Lean Map &amp; Dynamic Filter</p>
    <p>~30x fewer features in map</p>
    <p>Feature matching with sparse features</p>
    <p>False positives</p>
    <p>No keyframe matches</p>
  </div>
  <div class="page">
    <p>Problem with Coarse-Grained Feature Matching</p>
    <p>Problem: Image feature similarity not robust with sparse features</p>
  </div>
  <div class="page">
    <p>CarMap: Position Hints for Feature Matching</p>
    <p>Solution: Use position hints</p>
    <p>Problem: Image feature similarity not robust with sparse features</p>
  </div>
  <div class="page">
    <p>CarMap: Insight for Position Hints</p>
    <p>Solution: Use position hints</p>
    <p>Insight: Vehicles will have GPS &amp; inertial sensors</p>
    <p>Problem: Image feature similarity not robust with sparse features</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Coarse-Grained Feature Matching</p>
    <p>Feature map</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Coarse-Grained Feature Matching</p>
    <p>Feature mapGPS Spatially close</p>
    <p>keyframes</p>
    <p>R</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Coarse-Grained Feature Matching</p>
    <p>Spatially close keyframes</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Coarse-Grained Feature Matching</p>
    <p>Spatially close keyframes</p>
    <p>Word histogram matching</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Coarse-Grained Feature Matching</p>
    <p>Spatially close keyframes</p>
    <p>Word histogram matching</p>
    <p>Spatial neighbors</p>
    <p>Candidate keyframes 3D Frame</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Coarse-Grained Feature Matching</p>
    <p>Spatially close keyframes</p>
    <p>Word histogram matching</p>
    <p>Spatial neighbors</p>
    <p>Transform 3D frame and perform fine-grained feature matching</p>
    <p>Candidate keyframes 3D Frame</p>
  </div>
  <div class="page">
    <p>Problem with Fine-Grained Feature Matching</p>
    <p>Problem: Image feature similarity and single keyframe matching are not robust</p>
  </div>
  <div class="page">
    <p>CarMap: Robust Fine-Grained Feature Matching</p>
    <p>Problem: Image feature similarity and single keyframe matching are not robust</p>
    <p>Solution: Spatial positions and multiple keyframe matching</p>
  </div>
  <div class="page">
    <p>CarMap: Insight for Robust Fine-Grained Matching</p>
    <p>Insight: Feature 3D positions are robust &amp; on-board GPS</p>
    <p>Solution: Spatial position, and multiple keyframe matching</p>
    <p>Details in the paper</p>
    <p>Problem: Image feature similarity and single keyframe matching are not robust</p>
  </div>
  <div class="page">
    <p>CarMap Contributions Challenges Contributions</p>
    <p>Large feature maps Lean map representation</p>
    <p>Environmental transients Dynamic object filter</p>
    <p>Matching sparse features Position hints</p>
    <p>Map updates Robust stitching, efficient diff</p>
  </div>
  <div class="page">
    <p>Challenge: Environmental Dynamics</p>
    <p>Poor localization</p>
    <p>Map from rush hour</p>
  </div>
  <div class="page">
    <p>Semantic Segmentation</p>
    <p>Vehicle Vegetation</p>
    <p>Road surface</p>
  </div>
  <div class="page">
    <p>CarMap Map Features Without Dynamic Filter</p>
    <p>Map Features</p>
  </div>
  <div class="page">
    <p>Semantic Segmentation for Feature Selection</p>
    <p>Static object features</p>
    <p>Environmental transient features</p>
  </div>
  <div class="page">
    <p>CarMap Map Features After Dynamic Filtering</p>
    <p>Features in CarMap</p>
  </div>
  <div class="page">
    <p>Challenges in Semantic Segmentation</p>
    <p>Low accuracy 62.4% iIoU</p>
    <p>Low throughput Less than 1 FPS</p>
  </div>
  <div class="page">
    <p>Challenges in Semantic Segmentation</p>
    <p>Low accuracy 62.4% iIoU</p>
    <p>Low throughput Less than 1 FPS</p>
    <p>Robust labeling  Resource awareness</p>
    <p>Details in the paper</p>
  </div>
  <div class="page">
    <p>CarMap: Evaluation</p>
    <p>Near real-time map updates</p>
    <p>E2E localization accuracy</p>
    <p>Lean map representation</p>
    <p>Map stitching</p>
    <p>Dynamic object filter</p>
  </div>
  <div class="page">
    <p>CarMap: Evaluation</p>
    <p>Near real-time map updates</p>
    <p>E2E localization accuracy</p>
    <p>Lean map representation</p>
    <p>Map stitching</p>
    <p>Dynamic object filter</p>
  </div>
  <div class="page">
    <p>Evaluation: Near Real-Time Updates Setup</p>
    <p>CarMap Cloud Service</p>
  </div>
  <div class="page">
    <p>Evaluation: Near Real-Time Updates Results</p>
    <p>Vehicle driving time (minutes) M</p>
    <p>ap s</p>
    <p>iz e (M</p>
    <p>B )</p>
  </div>
  <div class="page">
    <p>Evaluation: End-to-End Localization Setup</p>
    <p>Static sceneDynamic scene</p>
    <p>Build map Use map</p>
  </div>
  <div class="page">
    <p>Evaluation: End-to-End Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Suburbia</p>
    <p>Dynamic error (%)</p>
    <p>Static error (%)</p>
    <p>Map size (MB)</p>
    <p>ORB-SLAM2</p>
    <p>QuickSketch</p>
    <p>CarMap</p>
  </div>
  <div class="page">
    <p>Evaluation: End-to-End Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Suburbia</p>
    <p>Dynamic error (%)</p>
    <p>Static error (%)</p>
    <p>Map size (MB)</p>
    <p>ORB-SLAM2 45.4</p>
    <p>QuickSketch 44.7</p>
    <p>CarMap 0.86</p>
    <p>~45x better</p>
  </div>
  <div class="page">
    <p>Evaluation: End-to-End Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Suburbia</p>
    <p>Dynamic error (%)</p>
    <p>Static error (%)</p>
    <p>Map size (MB)</p>
    <p>ORB-SLAM2 45.4</p>
    <p>QuickSketch 44.7</p>
    <p>CarMap 0.86 1.22</p>
    <p>~45x better Robust to scene changes</p>
  </div>
  <div class="page">
    <p>Evaluation: End-to-End Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Suburbia</p>
    <p>Dynamic error (%)</p>
    <p>Static error (%)</p>
    <p>Map size (MB)</p>
    <p>ORB-SLAM2 45.4  105.6</p>
    <p>QuickSketch 44.7  108.4</p>
    <p>CarMap 0.86 1.22 3.94</p>
    <p>~45x better Robust to scene changes ~26x smaller</p>
  </div>
  <div class="page">
    <p>Evaluation: Multi-Lane Localization Setup</p>
    <p>Lane FourLane One</p>
    <p>Build map Use map</p>
  </div>
  <div class="page">
    <p>Evaluation: Multi-Lane Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Static Freeway</p>
    <p>Localization error (%)</p>
    <p>ORB-SLAM2 3.79</p>
    <p>QuickSketch 4.29</p>
    <p>CarMap 2.26</p>
    <p>Better localization</p>
  </div>
  <div class="page">
    <p>Evaluation: Multi-Lane Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Static Freeway</p>
    <p>Localization error (%)</p>
    <p>ORB-SLAM2 3.79 No localization</p>
    <p>QuickSketch 4.29 No localization</p>
    <p>CarMap 2.26 3.52</p>
    <p>Robust localization</p>
    <p>Better localization</p>
  </div>
  <div class="page">
    <p>Evaluation: Multi-Lane Localization Results</p>
    <p>Mapping Scheme</p>
    <p>Static Freeway</p>
    <p>Localization error (%)</p>
    <p>ORB-SLAM2 3.79 No localization No localization</p>
    <p>QuickSketch 4.29 No localization No localization</p>
    <p>CarMap 2.26 3.52 4.85</p>
    <p>Robust localization</p>
    <p>Robust localization</p>
    <p>Better localization</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Map updates in less than one second</p>
    <p>Maps usable in different traffic conditions</p>
    <p>Maps usable across multiple lanes</p>
  </div>
  <div class="page">
    <p>Thank you</p>
  </div>
</Presentation>
