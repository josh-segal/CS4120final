<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>An Analysis ofAn Analysis of Network Configuration ArtifactsNetwork Configuration Artifacts</p>
    <p>David Plonka &amp; Andres Jaan Tack {plonka,tack}@cs.wisc.edu</p>
    <p>LISA '09, November 5, 2009</p>
  </div>
  <div class="page">
    <p>Motivation and Goals  Like software quality, network reliability is evolving:</p>
    <p>Expectation of high availability, increasing reliance</p>
    <p>Increasing numbers of skilled practitioners</p>
    <p>Increasing level of automation</p>
  </div>
  <div class="page">
    <p>Motivation and Goals  Like software quality, network reliability is evolving:</p>
    <p>Expectation of high availability, increasing reliance</p>
    <p>Increasing numbers of skilled practitioners</p>
    <p>Increasing level of automation</p>
    <p>However, the management of networks and the Internet has not received similar attention to the development of software.</p>
  </div>
  <div class="page">
    <p>Motivation and Goals  Like software quality, network reliability is evolving:</p>
    <p>Expectation of high availability, increasing reliance</p>
    <p>Increasing numbers of skilled practitioners</p>
    <p>Increasing level of automation</p>
    <p>However, the management of networks and the Internet has not received similar attention to the development of software.</p>
    <p>We propose an analogy-based analysis, and that these elements are akin to each other:  Networks : Software Systems</p>
    <p>Network Engineering : Software Engineering</p>
    <p>Network Operators : Programmers</p>
  </div>
  <div class="page">
    <p>Campus Network</p>
  </div>
  <div class="page">
    <p>Network Artifacts  artifact - an object created by humans,</p>
    <p>especially one remaining from a particular period  Network Performance Measurements  Network Management Systems' Topology  Trouble Tickets  Network Device Configurations</p>
    <p>Routers, switches, firewalls</p>
    <p>Network practitioners use Source Code Management (SCM) of device configurations for:</p>
    <p>Configuration backups</p>
    <p>Communicating changes</p>
  </div>
  <div class="page">
    <p>Network Configuration Repositories</p>
  </div>
  <div class="page">
    <p>Networks Studied</p>
  </div>
  <div class="page">
    <p>Mining SCM Repositories - Why?  While successful in the PL community, this</p>
    <p>hasn't been leveraged in the context of network configuration and management.</p>
    <p>To visualize and elucidate network operation with the goal of understanding and improving the practice.</p>
  </div>
  <div class="page">
    <p>Mining SCM Repositories - How?  Convert existing custom network version</p>
    <p>control system repositories to common CVS repositories.</p>
    <p>Use existing tools from the Programming Language (PL) and open source developer communities, e.g.:  StatCVS-XML</p>
    <p>cvs2cl (CVS to ChangeLog)</p>
    <p>Perform additional static file analyses, e.g.:  Syntax-aware statistics (i.e. config stanzas)</p>
    <p>Revision lifetimes</p>
  </div>
  <div class="page">
    <p>Configuration Files / Code Sample version 12.2</p>
    <p>no service pad</p>
    <p>service timestamps debug datetime localtime</p>
    <p>service timestamps log datetime localtime</p>
    <p>service password-encryption</p>
    <p>!</p>
    <p>hostname s-bldg-5-2-access</p>
    <p>!</p>
    <p>spanning-tree mode rapid-pvst</p>
    <p>no spanning-tree optimize bpdu transmission</p>
    <p>spanning-tree extend system-id</p>
    <p>!</p>
  </div>
  <div class="page">
    <p>Code Sample (2) interface FastEthernet1/0/1</p>
    <p>description sample 100Mbps ethernet interface</p>
    <p>switchport access vlan 42</p>
    <p>switchport mode access</p>
    <p>ip access-group nodhcpserver in</p>
    <p>snmp trap mac-notification change added</p>
    <p>snmp trap mac-notification change removed</p>
    <p>no snmp trap link-status</p>
    <p>no mdix auto</p>
    <p>spanning-tree portfast</p>
    <p>spanning-tree bpduguard enable</p>
    <p>spanning-tree guard root</p>
    <p>!</p>
  </div>
  <div class="page">
    <p>Code Sample (3) ip access-list extended nodhcpserver</p>
    <p>remark Id: ndhcp.acl,v 1.2 2005-05-20 11:26:03 ashley Exp</p>
    <p>deny udp any eq bootps any</p>
    <p>permit ip any any</p>
    <p>!</p>
    <p>access-list 5 permit 192.2.0.1</p>
    <p>access-list 5 remark Allow foo, bar, and baz servers</p>
    <p>access-list 5 permit 192.2.0.10</p>
    <p>access-list 5 permit 192.2.0.11</p>
    <p>!</p>
    <p>...</p>
    <p>!</p>
    <p>end</p>
  </div>
  <div class="page">
    <p>Campus File / Device Count</p>
  </div>
  <div class="page">
    <p>Campus LOC by Topology</p>
  </div>
  <div class="page">
    <p>Campus LOC per Module</p>
  </div>
  <div class="page">
    <p>Campus Size Per Author</p>
  </div>
  <div class="page">
    <p>Campus Size Per Group</p>
  </div>
  <div class="page">
    <p>Campus Commits by Hour</p>
  </div>
  <div class="page">
    <p>Common Commit Comments</p>
  </div>
  <div class="page">
    <p>An Anomaly</p>
  </div>
  <div class="page">
    <p>Web-based Network Administration</p>
  </div>
  <div class="page">
    <p>Measurements of practitioner effort  How often are fixes introduced?</p>
    <p>How often do configurations change?</p>
    <p>Bad Days (are Friday checkins more buggy?)</p>
    <p>Look toward improvements:  Syntax-aware revision analysis (stanzas)</p>
    <p>How do we direct tool development?</p>
    <p>Evaluating Practitioner Effort</p>
  </div>
  <div class="page">
    <p>Campus Commits by Day</p>
  </div>
  <div class="page">
    <p>How long does a revision last before it is next modified?  Suggests the modus operandi of practitioners</p>
    <p>Suggests the value or the staying power of a revision</p>
    <p>Might also suggest some measure of network volatility</p>
    <p>Revision Lifetimes</p>
  </div>
  <div class="page">
    <p>Campus Revision Lifetimes (&lt;3.5 days)</p>
  </div>
  <div class="page">
    <p>Campus Revision Lifetimes (&lt;10 min)</p>
  </div>
  <div class="page">
    <p>% Short-Lived Revisions by Day</p>
    <p>Sun Mon Tue Wed Thu Fri Sat</p>
    <p>Service Provider Campus</p>
  </div>
  <div class="page">
    <p>% Short-Lived Revisions by Day</p>
    <p>Sun Mon Tue Wed Thu Fri Sat</p>
    <p>agents contract field net noc</p>
    <p>(Campus Drill-Down)</p>
  </div>
  <div class="page">
    <p>Campus Average File Size</p>
  </div>
  <div class="page">
    <p>Service Provider Average File Size</p>
  </div>
  <div class="page">
    <p>Campus Revisions by Stanza Type</p>
  </div>
  <div class="page">
    <p>Some Conclusions  With varying device types, LOC is an erratic</p>
    <p>metric for the stanza-based, declarative network configuration language, (such as Cisco IOS)</p>
    <p>Analysis of network configurations exposes pertinent network management details including:  Group behaviors</p>
    <p>Outstanding practitioners</p>
    <p>Change times</p>
    <p>High level of user compliance, but some curiosities</p>
    <p>Tool-based efficiencies both expected and invented</p>
  </div>
  <div class="page">
    <p>Contributions  An initial application of software development</p>
    <p>analysis tools to network operations based on existing, freely-available tools</p>
    <p>Beginnings of a network operations-specific measurement of practitioner effort to guide tool development, such as SCM and IDE-like tools for network operators</p>
    <p>In our case studies, this analogy-based analysis approach shows promise based on feedback by expert interviews.</p>
  </div>
  <div class="page">
    <p>Discussion and Future Work</p>
    <p>As in software, can we identify and investigate code decay, refactorings, and code clones?</p>
    <p>Leverage other artifacts to measure practitioner compliance and network service reliability and performance.</p>
    <p>Develop a complexity metric based on stanzas and inter-stanza references. (see Benson, et al., NSDI 2009)</p>
  </div>
  <div class="page">
    <p>An Analysis ofAn Analysis of Network Configuration ArtifactsNetwork Configuration Artifacts</p>
    <p>David Plonka &amp; Andres Jaan Tack {plonka,tack}@cs.wisc.edu</p>
    <p>LISA '09, November 5, 2009</p>
  </div>
</Presentation>
