<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Tiresias</p>
    <p>Juncheng Gu, Mosharaf Chowdhury, Kang G. Shin, Yibo Zhu, Myeongjae Jeon, Junjie Qian, Hongqiang (Harry) Liu, Chuanxiong Guo</p>
    <p>A GPU Cluster Manager for Distributed Deep Learning</p>
  </div>
  <div class="page">
    <p>Deep learning (DL) is popular  10.5 increase of DL training jobs in Microsoft  DL training jobs require GPU</p>
    <p>Distributed deep learning (DDL) training with multiple GPUs</p>
    <p>GPU cluster for DL training  5 increase of GPU cluster scale in Microsoft [1]</p>
    <p>How to efficiently manage a GPU cluster for DL training jobs?</p>
    <p>GPU Cluster for Deep Learning Training</p>
    <p>Google Lens Siri</p>
  </div>
  <div class="page">
    <p>GPU Cluster Manager</p>
    <p>GPU Cluster</p>
    <p>Scheduler</p>
    <p>Free GPU</p>
    <p>Occupied GPU</p>
    <p>N N-GPU DL job</p>
    <p>Placement Scheme</p>
    <p>Job Queue</p>
    <p>Design Objectives</p>
    <p>Minimize Cluster-Wide Average Job Completion Time (JCT)</p>
    <p>Achieve High Resource (GPU) Utilization</p>
  </div>
  <div class="page">
    <p>DSSM  ResNext  Seq2Seq</p>
    <p>Progress</p>
    <p>N o rm</p>
    <p>. T ra</p>
    <p>in . L</p>
    <p>o ss</p>
    <p>N o rm</p>
    <p>. T ra</p>
    <p>in . L</p>
    <p>o ss</p>
    <p>Challenge : Unpredictable Training Time</p>
    <p>Unknown execution time of DL training jobs  Job execution time is useful when minimizing JCT</p>
    <p>Predict job execution time  Use the smooth loss curve of DL training jobs (Optimus [1])</p>
  </div>
  <div class="page">
    <p>DSSM  ResNext  Seq2Seq</p>
    <p>Progress</p>
    <p>N o rm</p>
    <p>. T ra</p>
    <p>in . L</p>
    <p>o ss</p>
    <p>N o rm</p>
    <p>. T ra</p>
    <p>in . L</p>
    <p>o ss</p>
    <p>Challenge : Unpredictable Training Time</p>
    <p>Its hard to predict training time of DL jobs in many cases</p>
    <p>Unknown execution time of DL training jobs  Job execution time is useful when minimizing JCT</p>
    <p>Predict job execution time  Use the smooth loss curve of DL training jobs (Optimus [1])</p>
  </div>
  <div class="page">
    <p>Challenge : Over-Aggressive Job Consolidation</p>
    <p>Network overhead in DDL training</p>
    <p>Machine 1 Machine 2 Machine 3 Machine 4</p>
    <p>Free GPU</p>
    <p>Occupied GPU</p>
    <p>Job Queue</p>
  </div>
  <div class="page">
    <p>Challenge : Over-Aggressive Job Consolidation</p>
    <p>Network overhead in DDL training</p>
    <p>Machine 1 Machine 2 Machine 3 Machine 4</p>
    <p>Free GPU</p>
    <p>Occupied GPU</p>
    <p>Job Queue</p>
    <p>Machine 2</p>
    <p>Consolidated placement for good training performance</p>
  </div>
  <div class="page">
    <p>Challenge : Over-Aggressive Job Consolidation</p>
    <p>Network overhead in DDL training</p>
    <p>Machine 1 Machine 2 Machine 3 Machine 4</p>
    <p>Free GPU</p>
    <p>Occupied GPU</p>
    <p>Job Queue</p>
    <p>Machine 2Machine 2</p>
    <p>Consolidated placement for good training performance</p>
  </div>
  <div class="page">
    <p>Challenge : Over-Aggressive Job Consolidation</p>
    <p>Fragmented free GPUs in the cluster</p>
    <p>Longer queuing delay</p>
    <p>Network overhead in DDL training</p>
    <p>Machine 1 Machine 2 Machine 3 Machine 4</p>
    <p>Free GPU</p>
    <p>Occupied GPU</p>
    <p>Job Queue</p>
    <p>Machine 2Machine 2</p>
    <p>Consolidated placement for good training performance</p>
  </div>
  <div class="page">
    <p>Prior Solutions</p>
    <p>I. Unpredictable Training Time (Scheduling)</p>
    <p>II. Over-Aggressive Job Consolidation (Job Placement)</p>
    <p>YARN-CS</p>
    <p>Optimus[1]</p>
    <p>Gandiva[2]</p>
    <p>FIFO</p>
    <p>Time-sharing Trial-and-error</p>
    <p>None</p>
    <p>[1]. Optimus: An Efficient Dynamic Resource Scheduler for Deep Learning Clusters, EuroSys18 [2]. Gandiva: Introspective Cluster Scheduling for Deep Learning, OSDI18</p>
    <p>None</p>
    <p>None</p>
  </div>
  <div class="page">
    <p>Tiresias A GPU cluster manager for Distributed Deep Learning Without Complete Knowledge</p>
    <p>I. Age-Based Scheduler Minimize JCT without complete knowledge of jobs</p>
  </div>
  <div class="page">
    <p>Challenge I</p>
    <p>How To Schedule DL Training Jobs Without Complete Job Information?</p>
  </div>
  <div class="page">
    <p>Temporal and Spatial Co-scheduling</p>
    <p>Characteristics of DL Training Jobs</p>
    <p>Variations in both temporal and spatial aspects</p>
    <p>Job execution time</p>
    <p># o</p>
    <p>f G PU</p>
    <p>s</p>
    <p>Job execution time (min)</p>
    <p>N um</p>
    <p>be r</p>
    <p>o f G</p>
    <p>PU s</p>
  </div>
  <div class="page">
    <p>Temporal and Spatial Co-scheduling</p>
    <p>Characteristics of DL Training Jobs</p>
    <p>Variations in both temporal and spatial aspects</p>
    <p>Scheduler should consider both temporal and spatial aspects of DL training jobs</p>
    <p>Job execution time</p>
    <p># o</p>
    <p>f G PU</p>
    <p>s</p>
    <p>Job execution time (min)</p>
    <p>N um</p>
    <p>be r</p>
    <p>o f G</p>
    <p>PU s</p>
  </div>
  <div class="page">
    <p>?</p>
    <p>Available Job Information</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>G3</p>
    <p># of GPUs</p>
  </div>
  <div class="page">
    <p>?</p>
    <p>Available Job Information</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>G3 Executed time</p>
    <p># of GPUs</p>
  </div>
  <div class="page">
    <p>?</p>
    <p>Age-Based Schedulers</p>
    <p>Least-Attained Service[1] (LAS)  Prioritize job that has the shortest executed time</p>
    <p>Gittins Index policy[2]  Need the distribution of job execution time  Prioritize job that has the highest probability to complete in the near future</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>G3 Age (executed time)</p>
    <p># of GPUs # of GPUs</p>
  </div>
  <div class="page">
    <p>Two-Dimensional Age-Based Scheduler (2DAS)</p>
    <p>Age calculated by two-dimensional attained service  i.e., a jobs total executed GPU time (# of GPUs  executed time)</p>
    <p>No prior information  2D-LAS</p>
    <p>With partial information: distribution of job GPU time  2D-Gittins Index</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution time</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p>(4, 8,12)</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p>(4, 8,12)</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p>(4, 8,12)</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p>(4, 8,12)</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p>(4, 8,12)</p>
    <p>J1 end</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 0 0.25</p>
    <p>(4, 8,12)</p>
    <p>J1 end</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>Job switch</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 4 0.2</p>
    <p>(4, 8,12)</p>
    <p>J1 end</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>Job switch Job switch</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 4 0.2</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 8 0.125</p>
    <p>J3 2 6 4 0.2</p>
    <p>(4, 8,12)</p>
    <p>J1 end J2 end</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>Job switch Job switch</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 4 0.2</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 8 0.125</p>
    <p>J3 2 6 4 0.2</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 8 0.125</p>
    <p>J3 2 6 12 N/A</p>
    <p>(4, 8,12)</p>
    <p>J1 end J2 end J3 end</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>Job switch Job switch</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 0 0.25</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 0 0.25</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 0 0.25</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 4 0.2</p>
    <p>J3 2 6 4 0.2</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 8 0.125</p>
    <p>J3 2 6 4 0.2</p>
    <p># of GPUs Duration Attained Service Gittins Index</p>
    <p>J1 2 2 4 0.2</p>
    <p>J2 1 8 8 0.125</p>
    <p>J3 2 6 12 N/A</p>
    <p>(4, 8,12)</p>
    <p>J1 end J2 end J3 end</p>
    <p>Time1 2 3 4 5 6 7 8 9 10 110</p>
    <p>G1</p>
    <p>G2</p>
    <p>Job switch Job switch</p>
    <p>Higher probability to complete (Gittins Index), higher priority</p>
    <p>it ti ns</p>
    <p>I nd</p>
    <p>ex V</p>
    <p>al ue</p>
    <p>Attained service</p>
    <p>Extra Information Avg. JCT</p>
    <p>Execution timeDistribution</p>
  </div>
  <div class="page">
    <p>Two-Dimensional Age-Based Scheduler (2DAS)</p>
    <p>Age calculated by two-dimensional attained service  i.e., a jobs total executed GPU time (# of GPUs  executed time)</p>
    <p>No prior information  2D-LAS</p>
    <p>With partial information: distribution of job GPU time  2D-Gittins Index</p>
    <p>Fewer job switches  Priority discretization: Discretized-2DAS</p>
  </div>
  <div class="page">
    <p>Discretized-2DAS</p>
    <p>Prior Solutions</p>
    <p>I. Unpredictable Training Time (Scheduling)</p>
    <p>II. Over-Aggressive Job Consolidation (Job Placement)</p>
    <p>YARN-CS</p>
    <p>Optimus[1]</p>
    <p>Gandiva[2]</p>
    <p>Tiresias</p>
    <p>FIFO</p>
    <p>Time-sharing Trial-and-error</p>
    <p>None</p>
    <p>[1]. Optimus: An Efficient Dynamic Resource Scheduler for Deep Learning Clusters, EuroSys18 [2]. Gandiva: Introspective Cluster Scheduling for Deep Learning, OSDI18</p>
    <p>None</p>
    <p>None</p>
  </div>
  <div class="page">
    <p>Gittins Index</p>
    <p>Prior Solutions</p>
    <p>I. Unpredictable Training Time (Scheduling)</p>
    <p>II. Over-Aggressive Job Consolidation (Job Placement)</p>
    <p>YARN-CS</p>
    <p>Optimus[1]</p>
    <p>Gandiva[2]</p>
    <p>Tiresias</p>
    <p>FIFO</p>
    <p>Time-sharing Trial-and-error</p>
    <p>None</p>
    <p>?</p>
    <p>[1]. Optimus: An Efficient Dynamic Resource Scheduler for Deep Learning Clusters, EuroSys18 [2]. Gandiva: Introspective Cluster Scheduling for Deep Learning, OSDI18</p>
    <p>None</p>
    <p>None</p>
    <p>LAS</p>
  </div>
  <div class="page">
    <p>Challenge II</p>
    <p>How to Place DL Jobs Without Hurting Training Performance?</p>
  </div>
  <div class="page">
    <p>Tensor size in DL models  Large tensors cause network imbalance and contention</p>
    <p>Characteristics of DL Models</p>
    <p>VG G1</p>
    <p>VG G1</p>
    <p>VG G1</p>
    <p>Al ex</p>
    <p>Ne t</p>
    <p>Re sN</p>
    <p>et 50</p>
    <p>Inc ep</p>
    <p>tio n3</p>
    <p>Re sN</p>
    <p>et 10</p>
    <p>Re sN</p>
    <p>et 15</p>
    <p>Inc ep</p>
    <p>tio n4</p>
    <p>Go og</p>
    <p>leN et</p>
    <p>Si ze</p>
    <p>( M</p>
    <p>B )</p>
    <p>Consolidated placement is needed when the model is highly skewed in its tensor size</p>
  </div>
  <div class="page">
    <p>Model Profile-Based Placement</p>
    <p>Consolidation?</p>
    <p>NO</p>
    <p>YES</p>
    <p>ResNet50</p>
    <p>VGG11</p>
    <p>Inception3</p>
    <p>VGG16</p>
    <p>ResNet101</p>
    <p>AlexNet</p>
    <p>Inception4</p>
    <p>VGG19</p>
    <p>GoogleNet</p>
    <p>ResNet152</p>
    <p>M o de</p>
    <p>l P ro</p>
    <p>fil er</p>
  </div>
  <div class="page">
    <p>Tiresias Central Master Network-Level Model Profiler</p>
    <p>Large-scale &amp; Trace-driven Simulation</p>
    <p>Evaluation</p>
    <p>GPU Cluster</p>
    <p>DL Job (model, resource)</p>
    <p>Placement Preemption</p>
    <p>Discretized-2DAS</p>
    <p>Central Master</p>
    <p>Placement scheme Model profiler</p>
  </div>
  <div class="page">
    <p>JCT Improvements in Testbed Experiment</p>
    <p>Testbed  Michigan ConFlux cluster  15 machines (4 GPUs each)  100 Gbps RDMA network</p>
    <p>Avg. JCT improvement (w.r.t. YARN-CS): 5.5</p>
    <p>Comparable performance to SRTF</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT (second)</p>
    <p>YARN-CS SRTF Tiresias</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT (second)</p>
    <p>YARN-CS SRTF Tiresias</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT (second)</p>
    <p>YARN-CS SRTF Tiresias</p>
  </div>
  <div class="page">
    <p>Discrete-time simulator  10-week job trace from Microsoft  2,000-GPU cluster</p>
    <p>JCT Improvements in Trace-Driven Simulation</p>
    <p>Avg. JCT improvement (w.r.t. Gandiva): 2</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT(second)</p>
    <p>YARN-CS SRTF</p>
    <p>Gandiva</p>
    <p>Tiresias</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT(second)</p>
    <p>YARN-CS SRTF</p>
    <p>Gandiva</p>
    <p>Tiresias</p>
  </div>
  <div class="page">
    <p>Tiresias</p>
    <p>Optimize JCT with no or partial job information</p>
    <p>Relax placement constraint without hurting training performance</p>
    <p>Simple, practical, and with significant performance improvements</p>
    <p>A GPU cluster manager for Distributed Deep Learning Without Complete Knowledge</p>
    <p>https://github.com/SymbioticLab/Tiresias</p>
  </div>
  <div class="page"/>
  <div class="page">
    <p>V G</p>
    <p>G 19</p>
    <p>V G</p>
    <p>G 16</p>
    <p>V G</p>
    <p>G 11</p>
    <p>A le</p>
    <p>xN et</p>
    <p>R es</p>
    <p>N et</p>
    <p>R es</p>
    <p>N et</p>
    <p>R es</p>
    <p>N et</p>
    <p>In ce</p>
    <p>pt io</p>
    <p>n4</p>
    <p>In ce</p>
    <p>pt io</p>
    <p>n3</p>
    <p>G o o gl</p>
    <p>eN et</p>
    <p>T im</p>
    <p>e O</p>
    <p>ve rh</p>
    <p>ea d</p>
    <p>(s ec</p>
    <p>o nd</p>
    <p>) Preemption</p>
    <p>Resumption</p>
    <p>Time Overhead of Job Switch</p>
  </div>
  <div class="page">
    <p>DL Models</p>
    <p>Model Total size (MB) Largest tensor (MB)</p>
    <p>VGG19 548 382</p>
    <p>VGG16 527 392</p>
    <p>VGG11 506 392</p>
    <p>AlexNet 235 144</p>
    <p>ResNet152 230 9</p>
    <p>ResNet101 170 9</p>
    <p>ResNet50 98 9</p>
    <p>Inception4 163 6</p>
    <p>Inception3 91 8</p>
    <p>GoogleNet 27 4</p>
  </div>
  <div class="page">
    <p>JCT in Testbed Experiment</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT (second)</p>
    <p>YARN-CS SRTF Tiresias-L Tiresias-G</p>
  </div>
  <div class="page">
    <p>JCT Improvements in Testbed Experiment</p>
    <p>Avg. 95th Avg. 95th Avg. 95th Avg. 95th Avg. 95th</p>
    <p>Bin 1 Bin 2 Bin 3 Bin 4 ALL</p>
    <p>Fa ct</p>
    <p>o r</p>
    <p>o f</p>
    <p>Im pr</p>
    <p>o vm</p>
    <p>en t YARN-CS SRTF Tiresias-G</p>
    <p>Bins 1(Small-Short) 2(Small-Long) 3(Large-Short) 4(Large-Long)</p>
    <p>% of Jobs 63.5% 12.5% 16.5% 7.5%</p>
  </div>
  <div class="page">
    <p>GPU Utilization in Testbed Experiment</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f T</p>
    <p>im e</p>
    <p>YARN-CS</p>
    <p>SRTF</p>
    <p>Tiresias-G</p>
    <p>Tiresias-L</p>
    <p>The makespan is improved by 1.21 (w.r.t. YARN-CS)</p>
  </div>
  <div class="page">
    <p>Queuing Delay in Testbed Experiment</p>
    <p>Average Median 95th</p>
    <p>YARN-CS 8146s 7464s 15327s</p>
    <p>SRTF 593s 32s 3133s</p>
    <p>Tiresias-G 1005s 39s 7933s</p>
    <p>Tiresias-L 963s 13s 7755s</p>
  </div>
  <div class="page">
    <p>Training Performance in Testbed Experiment</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f</p>
    <p>D D</p>
    <p>L Jo</p>
    <p>bs</p>
    <p>Ratio of Job Training Time</p>
    <p>Training time when Tiresias-L running with and without placement</p>
  </div>
  <div class="page">
    <p>JCT in Trace-Driven Simulation</p>
    <p>Fr ac</p>
    <p>ti o n</p>
    <p>o f Jo</p>
    <p>bs</p>
    <p>JCT(second)</p>
    <p>YARN-CS Best-effort SRTF Gandiva Tiresias-G Tiresias-L tt</p>
  </div>
  <div class="page">
    <p>Average Median 95th</p>
    <p>YARN-CS 2.41 30.85 1.25</p>
    <p>SRTF 1.00 1.00 0.84</p>
    <p>Gandiva 2.00 2.59 2.08</p>
    <p>Tiresias-G 0.97 1.00 0.85</p>
    <p>JCT Improvements in Trace-Driven Simulation</p>
  </div>
  <div class="page">
    <p>Sensitivity Analysis of 2D-LAS</p>
    <p>. A vg</p>
    <p>. J C</p>
    <p>T w</p>
    <p>.r. t.</p>
    <p>(2 , 1</p>
    <p>h) T</p>
    <p>ir es</p>
    <p>ia s</p>
    <p>L</p>
    <p>Threshold</p>
    <p>. A</p>
    <p>vg . J</p>
    <p>C T</p>
    <p>w .r.</p>
    <p>t. (2</p>
    <p>, 1 h)</p>
    <p>T ir</p>
    <p>es ia</p>
    <p>sL</p>
    <p>Number of queues</p>
    <p>Inf 8 4 2 1N o rm</p>
    <p>. 9 5t</p>
    <p>h JC</p>
    <p>T w</p>
    <p>.r. t</p>
    <p>Pr o m</p>
    <p>o te</p>
    <p>K no</p>
    <p>b =</p>
    <p>In f</p>
    <p>PromoteKnob</p>
  </div>
  <div class="page">
    <p>Sensitivity Analysis of 2D-Gittins Index</p>
    <p>. A</p>
    <p>vg . J</p>
    <p>C T</p>
    <p>w .r.</p>
    <p>t. (2</p>
    <p>, 1 h)</p>
    <p>T ir</p>
    <p>es ia</p>
    <p>sG</p>
    <p>Service quantum</p>
    <p>. A</p>
    <p>vg . J</p>
    <p>C T</p>
    <p>w .r.</p>
    <p>t. (2</p>
    <p>, 1 h)</p>
    <p>T ir</p>
    <p>es ia</p>
    <p>sG</p>
    <p>Number of queues</p>
    <p>Inf 8 4 2 1N o rm</p>
    <p>. M</p>
    <p>ax J C</p>
    <p>T w</p>
    <p>.r. t.</p>
    <p>Pr o m</p>
    <p>o te</p>
    <p>K no</p>
    <p>b =</p>
    <p>In f</p>
    <p>PromoteKnob</p>
  </div>
  <div class="page">
    <p>Gittins Index</p>
    <p>! is the probability that &quot; can complete with in   # is the expected service (cost) of &quot; to be complete with in    is the next service quantum  ! and # are calculated from the distribution of job GPU time</p>
    <p>GI&amp; = sup ,</p>
    <p>P S  a&amp;   S &gt; a&amp;) E min S  a&amp;, S &gt; a&amp;]</p>
  </div>
</Presentation>
