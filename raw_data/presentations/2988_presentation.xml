<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>DQBarge: Improving data-quality tradeoffs in large-scale Internet</p>
    <p>services</p>
    <p>Michael Chow Kaushik Veeraraghavan, Jason Flinn, Michael Cafarella</p>
  </div>
  <div class="page">
    <p>Complex Internet services</p>
    <p>Composed of hundreds of software components</p>
    <p>Requests have response time goals</p>
  </div>
  <div class="page">
    <p>Balancing response time goals</p>
    <p>Components have response time goals  Lower-level components unaware of response goals  Lower-level components may fail</p>
  </div>
  <div class="page">
    <p>Low-level components</p>
    <p>Low-level components unaware of response goals</p>
    <p>Data-quality tradeoff</p>
    <p>Explicit decision to return lower fidelity data  Improve response time  Minimize resource usage</p>
  </div>
  <div class="page">
    <p>Recommendation service</p>
    <p>What should I do after grad school?</p>
  </div>
  <div class="page">
    <p>Recommendation service</p>
    <p>What should I do after grad school?</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
  </div>
  <div class="page">
    <p>Recommendation service</p>
    <p>What should I do after grad school?</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
  </div>
  <div class="page">
    <p>Recommendation service</p>
    <p>What should I do after grad school?</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Motivation  Study of data-quality tradeoffs at Facebook  DQBarge  Evaluation of DQBarge</p>
  </div>
  <div class="page">
    <p>Study of tradeoffs at Facebook</p>
    <p>Systematic study of a Facebook service  Laser, key-value store at Facebook [2015]</p>
    <p>Categorized tradeoffs made by all 463 clients</p>
  </div>
  <div class="page">
    <p>&gt;90% of clients perform tradeoffs</p>
    <p>Tradeoff Failure</p>
    <p>Top 50 clients All clients</p>
    <p>Data-quality tradeoffs are the norm, not the exception</p>
  </div>
  <div class="page">
    <p>Most tradeoffs are reactive</p>
    <p>Reactive Proactive</p>
    <p>Reactive  occurs on timeout/failure  Proactive  only request what can be done</p>
    <p>Top 50 clients All clients</p>
  </div>
  <div class="page">
    <p>Most tradeoffs are reactive</p>
    <p>Reactive Proactive</p>
    <p>Reactive  tradeoff occurs on timeout/failure  Proactive  only request data you expect to use</p>
    <p>Top 50 clients All clients</p>
    <p>Reactive tradeoffs waste resources</p>
  </div>
  <div class="page">
    <p>Takeaways</p>
    <p>Data-quality tradeoffs are common  Most are reactive, instead of proactive  Tradeoffs only consider local information</p>
    <p>Need global information to enable proactive, better tradeoffs</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Motivation  Study of data-quality tradeoffs at Facebook  DQBarge  Evaluation of DQBarge</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Library for developers to help make tradeoffs</p>
    <p>Propagates additional data along causal path</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>What should I do after grad school?</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>What should I do after grad school?</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Tradeoff</p>
  </div>
  <div class="page">
    <p>Phases of operation</p>
    <p>Offline phase: build models</p>
    <p>Online phase: use models</p>
  </div>
  <div class="page">
    <p>Performance model</p>
  </div>
  <div class="page">
    <p>Quality model</p>
    <p>Full Quality 1) Facebook 2) Google 3) Microsoft 4) Amazon 5) Academia</p>
    <p>Work/Life</p>
  </div>
  <div class="page">
    <p>Quality model</p>
    <p>Full Quality 1) Facebook 2) Google 3) Microsoft 4) Amazon 5) Academia</p>
    <p>Work/Life</p>
  </div>
  <div class="page">
    <p>Quality model</p>
    <p>Full Quality 1) Facebook 2) Google 3) Microsoft 4) Amazon 5) Academia</p>
    <p>Work/Life</p>
  </div>
  <div class="page">
    <p>Quality model</p>
    <p>Full Quality 1) Facebook 2) Google 3) Microsoft 4) Amazon 5) Academia</p>
    <p>Work/Life</p>
    <p>Teaching</p>
  </div>
  <div class="page">
    <p>Phases of operation</p>
    <p>Offline phase: build models</p>
    <p>Online phase: use models</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>Request</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
    <p>Candidate Document</p>
    <p>Location</p>
    <p>Teaching</p>
    <p>Work/life</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
    <p>Candidate Document</p>
    <p>Location</p>
    <p>Teaching</p>
    <p>Work/life</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
    <p>Candidate Document</p>
    <p>Rankings</p>
    <p>Location</p>
  </div>
  <div class="page">
    <p>DQBarge</p>
    <p>Query Formulation Ranking Answer</p>
    <p>Candidate generation</p>
    <p>Document Processing</p>
    <p>Tradeoff</p>
    <p>What should I do after grad school?</p>
    <p>Candidate Document</p>
    <p>Candidate Document</p>
    <p>Request</p>
    <p>Candidate DocumentSports</p>
    <p>Candidate DocumentIndustry</p>
  </div>
  <div class="page">
    <p>Use cases of DQBarge</p>
    <p>Latency</p>
    <p>Quality</p>
    <p>Resource Usage</p>
  </div>
  <div class="page">
    <p>Use cases of DQBarge</p>
    <p>Latency</p>
    <p>Quality</p>
    <p>Resource Usage</p>
  </div>
  <div class="page">
    <p>Use cases of DQBarge</p>
    <p>Latency</p>
    <p>Quality</p>
    <p>Resource Usage</p>
  </div>
  <div class="page">
    <p>Use cases of DQBarge</p>
    <p>Latency</p>
    <p>Quality</p>
    <p>Resource Usage</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Motivation  Study of data-quality tradeoffs at Facebook  DQBarge  Evaluation of DQBarge</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Do data-quality tradeoffs improve performance?  How much does provenance improve tradeoffs?  How much does proactivity improve tradeoffs?  How does DQBarge help in end-to-end scenarios?  Load spike  Utilizing spare resources  Dynamic capacity planning</p>
  </div>
  <div class="page">
    <p>Do proactive tradeoffs help?</p>
    <p>Reactive Proactive &gt;10</p>
    <p>Quality drop Fr ac tio</p>
    <p>n of re</p>
    <p>qu es ts</p>
  </div>
  <div class="page">
    <p>Load spike scenario</p>
  </div>
  <div class="page">
    <p>Utilizing spare resources</p>
    <p>Without spare resources</p>
    <p>With spare resources</p>
    <p>&gt;10 Quality drop</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Data-quality tradeoffs are very common</p>
    <p>Suboptimal due to reactivity &amp; lack of information</p>
    <p>DQBarge improves tradeoffs</p>
    <p>Questions?</p>
  </div>
</Presentation>
