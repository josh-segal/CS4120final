<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Etienne Le Sueur and Gernot Heiser</p>
    <p>Slow Down or Sleep? That is the Question</p>
    <p>USENIX ATC, June 2011 elesueur@nicta.com.au</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Energy management is important</p>
  </div>
  <div class="page">
    <p>Reduced effectiveness  Increasing static power</p>
    <p>Smaller voltage ranges</p>
    <p>Better memory performance makes single threaded workloads less memory-bound, thus DVFS affects their performance more.</p>
    <p>Pprocessor = Cf V 2 + IleakageV</p>
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Dynamic voltage and frequency scaling (DVFS)</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Low power idle states</p>
    <p>Idle states are becoming more effective  Processors now have numerous idle states.</p>
    <p>They have low power consumption, and</p>
    <p>Low transition overhead and latency.</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Power draw, non-uniform C-states</p>
    <p>C 0</p>
    <p>re s</p>
    <p>C 6</p>
    <p>re s</p>
    <p>C 0</p>
    <p>re s</p>
    <p>C 6</p>
    <p>re s</p>
    <p>C 0</p>
    <p>re s</p>
    <p>C 6</p>
    <p>re s</p>
    <p>C 0</p>
    <p>re s</p>
    <p>C 6</p>
    <p>re s</p>
    <p>C 0</p>
    <p>re s</p>
    <p>C 6</p>
    <p>re s</p>
    <p>System Power Draw</p>
    <p>S ys</p>
    <p>te m</p>
    <p>p o</p>
    <p>w e r</p>
    <p>(W )</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>A trade-off is presented...</p>
    <p>Slow down or go to sleep?</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>How do we optimise energy?</p>
    <p>Slowing down  Reduces CPU power draw,</p>
    <p>but only the CPU.  Increases execution time</p>
    <p>i.e. reduced performance.  Energy consumption is not</p>
    <p>necessarily reduced.  Reduces time spent in idle</p>
    <p>states.</p>
    <p>Going to sleep  Keep the processor running</p>
    <p>fast.  Execution time is not</p>
    <p>significantly affected.  Maximises time spent in idle</p>
    <p>states.  Energy consumption</p>
    <p>depends on idle states used.</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Benchmarks</p>
    <p>Real world - server, desktop, mobile  Bursty</p>
    <p>Allows the CPU to idle/sleep</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Benchmark method</p>
    <p>SuT</p>
    <p>Coordinator</p>
    <p>Control Network</p>
    <p>Client 1</p>
    <p>Client 1</p>
    <p>Test Network</p>
    <p>HTTP Load Generation</p>
    <p>Client 1</p>
    <p>Client 1</p>
    <p>Test Network</p>
    <p>AC</p>
    <p>Power Meter</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>MPEG decode/playback</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>System Load vs Frequency/C-state</p>
    <p>L o</p>
    <p>a d</p>
    <p>( C</p>
    <p>P U</p>
    <p>u ti lis</p>
    <p>a ti o</p>
    <p>n )</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /2011</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>System Energy vs Frequency/C-state</p>
    <p>N o</p>
    <p>rm a lis</p>
    <p>e d</p>
    <p>e n e rg</p>
    <p>y</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Server load provisioning</p>
    <p>L. A. Barroso and U. Ho lzle. The case for energy-proportional computing. IEEE Computer, 40(12): 3337, Dec. 2007.</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Load range</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>System Load vs Frequency/C-state</p>
    <p>L o</p>
    <p>a d</p>
    <p>( C</p>
    <p>P U</p>
    <p>u ti lis</p>
    <p>a ti o</p>
    <p>n )</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>System energy</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>System Energy vs Frequency/C-state</p>
    <p>N o</p>
    <p>rm a lis</p>
    <p>e d</p>
    <p>e n e rg</p>
    <p>y</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Throughput</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>Throughput vs Frequency/C-state</p>
    <p>T h</p>
    <p>ro u g</p>
    <p>h p</p>
    <p>u t</p>
    <p>(R /s</p>
    <p>)</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Request efficiency</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>Request Efficiency vs Frequency/C-state</p>
    <p>R e q</p>
    <p>u e st</p>
    <p>s p</p>
    <p>e r</p>
    <p>u n it J</p>
    <p>o u</p>
    <p>le</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Response time</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>Response time vs Frequency/C-state</p>
    <p>R e sp</p>
    <p>o n se</p>
    <p>t im</p>
    <p>e ( s)</p>
    <p>CPU Frequency (GHz)</p>
    <p>C0 C1 C3 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Comparison with embedded platforms</p>
    <p>Tu rb</p>
    <p>oB oo</p>
    <p>st</p>
    <p>Request Efficiency vs Frequency/C-state</p>
    <p>R e q</p>
    <p>u e st</p>
    <p>s p</p>
    <p>e r</p>
    <p>Jo u</p>
    <p>le</p>
    <p>CPU Frequency (GHz)</p>
    <p>Pandaboard (OMAP4430)</p>
    <p>Desktop (Core i7 840)</p>
    <p>fitPC2: Atom Z550</p>
    <p>C0 C1 C2/C3 C4 C6</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Take homes</p>
    <p>DVFS of cores is becoming less effective with better C-states.  Lightly loaded systems lose no throughput or latency with reduced</p>
    <p>frequency and deep C-states.</p>
    <p>High C-state transition rates increase the overhead from deep Cstates.</p>
    <p>The energy-efficiency of a simple HTTP server is improved at lower frequencies with the current state-of-the-art C-state.</p>
    <p>Energy-per-request is minimised on the desktop-class, not the embedded-class.</p>
    <p>TurboBoost is not energy-efficient.</p>
  </div>
  <div class="page">
    <p>NICTA 2010 www.ertos.nicta.com.au/research/power/ /20</p>
    <p>Conclusions</p>
    <p>CPU power management is changing direction.  Maybe we need more control (L3 caches, memory/memory</p>
    <p>controller, QPI/HT links, etc)</p>
    <p>Minimising idle and static power losses is much more important for deep sub-micron processors.</p>
    <p>Critical for mobile embedded devices which spend most of their time asleep.</p>
  </div>
  <div class="page">
    <p>NICTA 2010</p>
    <p>Questions?</p>
    <p>???</p>
  </div>
  <div class="page">
    <p>From imagination to impact</p>
    <p>From imagination to impact</p>
  </div>
</Presentation>
