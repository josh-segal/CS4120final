<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>WearDrive: Fast and Energy Efficient Storage for Wearables</p>
    <p>Jian Huang</p>
    <p>Anirudh Badam Ranveer Chandra Ed Nightingale</p>
  </div>
  <div class="page">
    <p>Wearable Computing: A New Era</p>
  </div>
  <div class="page">
    <p>Wearable Computing: A New Era</p>
    <p>Fitness/HealthcareNotifications Audio/Video Data Analytics</p>
  </div>
  <div class="page">
    <p>Wearables Are Battery Constrained</p>
    <p>+ 1.5 - 2.5K mAh</p>
  </div>
  <div class="page">
    <p>Wearables Are Battery Constrained</p>
    <p>+ 1.5 - 2.5K mAh</p>
    <p>f (Size &amp; Weight)</p>
    <p>+ 100  500 mAh</p>
  </div>
  <div class="page">
    <p>Wearables Are Battery Constrained</p>
    <p>+ 1.5 - 2.5K mAh</p>
    <p>f (Size &amp; Weight)</p>
    <p>+ 100  500 mAh</p>
  </div>
  <div class="page">
    <p>Wearables Are Battery Constrained</p>
    <p>+ 1.5 - 2.5K mAh</p>
    <p>f (Size &amp; Weight)</p>
    <p>+ 100  500 mAh</p>
  </div>
  <div class="page">
    <p>Wearables Are Battery Constrained</p>
    <p>+ 1.5 - 2.5K mAh</p>
    <p>f (Size &amp; Weight)</p>
    <p>+ 100  500 mAh</p>
    <p>Mobile SoC,</p>
    <p>OS &amp; SDK</p>
    <p>Wearable SoC,</p>
    <p>OS &amp; WearSDK</p>
    <p>Reduce</p>
    <p>Development Cost</p>
  </div>
  <div class="page">
    <p>Wearables Are Battery Constrained</p>
    <p>+ 1.5 - 2.5K mAh</p>
    <p>f (Size &amp; Weight)</p>
    <p>+ 100  500 mAh</p>
    <p>Mobile SoC,</p>
    <p>OS &amp; SDK</p>
    <p>Wearable SoC,</p>
    <p>OS &amp; WearSDK</p>
    <p>Reduce</p>
    <p>Development Cost</p>
    <p>Offload Wearables Workload to the Phone</p>
  </div>
  <div class="page">
    <p>Energy Challenge: Wearable Apps Are Data-Intensive</p>
    <p>Extended Display</p>
    <p>Notifications</p>
  </div>
  <div class="page">
    <p>Sensors</p>
    <p>Energy Challenge: Wearable Apps Are Data-Intensive</p>
    <p>Extended Display</p>
    <p>Notifications</p>
  </div>
  <div class="page">
    <p>Sensors</p>
    <p>Energy Challenge: Wearable Apps Are Data-Intensive</p>
    <p>Extended Display</p>
    <p>Notifications</p>
    <p>Fast &amp; Energy-Efficient</p>
    <p>Storage System</p>
  </div>
  <div class="page">
    <p>Mobile Storage is Energy-Intensive</p>
    <p>Flash device is not energy-intensive,</p>
    <p>Storage software stack is energy-intensive !</p>
  </div>
  <div class="page">
    <p>Mobile Storage is Energy-Intensive</p>
    <p>Random Read Random Write Sequential Read Sequential Write</p>
    <p>E n e rg</p>
    <p>y O</p>
    <p>v e rh</p>
    <p>e a d</p>
    <p>F a c to</p>
    <p>rs</p>
    <p>Storage software consumes 80110x more energy</p>
    <p>than Flash [Li et al., FAST14]</p>
    <p>Flash device is not energy-intensive,</p>
    <p>Storage software stack is energy-intensive !</p>
  </div>
  <div class="page">
    <p>Mobile Storage is Energy-Intensive</p>
    <p>Flash device is not energy-intensive,</p>
    <p>Storage software stack is energy-intensive !</p>
    <p>Slow Flash:</p>
    <p>Increased CPU Idle Time</p>
    <p>+</p>
    <p>Runtime System</p>
    <p>Overhead</p>
    <p>+</p>
    <p>Data</p>
    <p>Encryption</p>
  </div>
  <div class="page">
    <p>Use DRAM as Storage?</p>
    <p>DRAM is fast  Closer to applications  No software overhead for isolation and security</p>
    <p>OS</p>
    <p>Flash</p>
    <p>DRAM</p>
    <p>Applications</p>
  </div>
  <div class="page">
    <p>Use DRAM as Storage?</p>
    <p>DRAM is fast  Closer to applications  No software overhead for isolation and security</p>
    <p>OS</p>
    <p>Flash</p>
    <p>DRAM is volatile, the data durability is a problem !</p>
    <p>DRAM</p>
    <p>Applications</p>
  </div>
  <div class="page">
    <p>Leveraging Batteries for Non-Volatility</p>
    <p>DRAM</p>
    <p>Battery</p>
    <p>= Non-Volatile Memory</p>
  </div>
  <div class="page">
    <p>Leveraging Batteries for Non-Volatility</p>
    <p>DRAM</p>
    <p>Battery</p>
    <p>= BB-RAM</p>
    <p>Non-Volatile</p>
    <p>Memory</p>
  </div>
  <div class="page">
    <p>Leveraging Batteries for Non-Volatility</p>
    <p>DRAM</p>
    <p>Battery</p>
    <p>=</p>
    <p>No Hardware</p>
    <p>Changes</p>
    <p>BB-RAM</p>
    <p>Non-Volatile</p>
    <p>Memory</p>
  </div>
  <div class="page">
    <p>Leveraging Batteries for Non-Volatility</p>
    <p>DRAM</p>
    <p>Battery</p>
    <p>=</p>
    <p>No Hardware</p>
    <p>Changes</p>
    <p>+ Performance</p>
    <p>Improvement</p>
    <p>BB-RAM</p>
    <p>Non-Volatile</p>
    <p>Memory</p>
  </div>
  <div class="page">
    <p>Leveraging Batteries for Non-Volatility</p>
    <p>DRAM</p>
    <p>Battery</p>
    <p>=</p>
    <p>No Hardware</p>
    <p>Changes</p>
    <p>+ Data</p>
    <p>Durability</p>
    <p>+ Performance</p>
    <p>Improvement</p>
    <p>BB-RAM</p>
    <p>Non-Volatile</p>
    <p>Memory</p>
  </div>
  <div class="page">
    <p>Our BB-RAM Implementation</p>
    <p>BB-RAM page DRAM page</p>
  </div>
  <div class="page">
    <p>Our BB-RAM Implementation</p>
    <p>BB-RAM page DRAM page</p>
    <p>BB-RAM Manager</p>
  </div>
  <div class="page">
    <p>Our BB-RAM Implementation</p>
    <p>BB-RAM page DRAM page</p>
    <p>BB-RAM Manager</p>
    <p>Memory</p>
    <p>Pressure Automatically adjust BB-RAM size</p>
    <p>according to application requirement</p>
  </div>
  <div class="page">
    <p>Our BB-RAM Implementation</p>
    <p>BB-RAM page DRAM page</p>
    <p>BB-RAM Manager</p>
    <p>OS</p>
    <p>Crashes</p>
  </div>
  <div class="page">
    <p>Our BB-RAM Implementation</p>
    <p>BB-RAM page DRAM page</p>
    <p>BB-RAM Manager</p>
    <p>OS</p>
    <p>Deadlock A watchdog timer to</p>
    <p>detect if OS is hung</p>
  </div>
  <div class="page">
    <p>Leveraging Phone for Capacity/Compute</p>
    <p>Wearable applications focus on the latest data,</p>
    <p>but how about the old data?</p>
  </div>
  <div class="page">
    <p>Leveraging Phone for Capacity/Compute</p>
    <p>Writing data to remote memory via WFD is more energy efficient</p>
    <p>m J /K</p>
    <p>B</p>
    <p>IO Size (KB)</p>
    <p>Local Flash Remote Memory via WiFi Direct</p>
    <p>Two Moto E phones with 802.11 b/g/n</p>
    <p>Wearable applications focus on the latest data,</p>
    <p>but how about the old data?</p>
  </div>
  <div class="page">
    <p>Reaching the Phone Efficiently</p>
    <p>Standby Power Data Transfer</p>
    <p>BLE Low 0.41 microjoules/bit</p>
    <p>WFD High 0.02 microjoules/bit</p>
    <p>BLE for small data transfer, WFD for large data transfer</p>
    <p>BLE</p>
    <p>WiFi Direct</p>
  </div>
  <div class="page">
    <p>Reaching the Phone Efficiently</p>
    <p>Standby Power Data Transfer</p>
    <p>BLE Low 0.41 microjoules/bit</p>
    <p>WFD High 0.02 microjoules/bit</p>
    <p>Use BLEs connection quality for reference</p>
    <p>BLE for small data transfer, WFD for large data transfer</p>
    <p>BLE</p>
    <p>WiFi Direct</p>
  </div>
  <div class="page">
    <p>Building A Distributed In-Memory Storage System</p>
    <p>Application</p>
    <p>Wearable Phone</p>
    <p>FlashEfficient Wireless</p>
    <p>Network</p>
    <p>Improve performance &amp; save energy1</p>
    <p>Cache</p>
    <p>BB-RAM</p>
    <p>BB-RAM</p>
    <p>Storage</p>
    <p>+</p>
  </div>
  <div class="page">
    <p>WearDrive Design: Key Value Store</p>
    <p>Application</p>
    <p>Wearable Phone</p>
    <p>Flash Efficient</p>
    <p>Wireless</p>
    <p>Network</p>
    <p>WearCache</p>
    <p>BB-RAM</p>
    <p>BB-RAM</p>
    <p>WearKV</p>
    <p>+</p>
  </div>
  <div class="page">
    <p>WearDrive Design: Key Value Store</p>
    <p>Application</p>
    <p>Wearable Phone</p>
    <p>Flash Efficient</p>
    <p>Wireless</p>
    <p>Network</p>
    <p>WearCache</p>
    <p>BB-RAM</p>
    <p>BB-RAM</p>
    <p>WearKV</p>
    <p>+</p>
    <p>Why Key Value</p>
    <p>Store?</p>
    <p>Focus on</p>
    <p>Latest Data</p>
    <p>F I F O</p>
    <p>Hybrid</p>
    <p>Networks</p>
    <p>+ +</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>WearCache WearKV</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>WearCache WearKV</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV Notification</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV Notification</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV Notification</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>WearCache WearKV</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>WearCache WearKV</p>
    <p>RegisterForSensor (Sensor ID)</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache WearKV</p>
    <p>RegisterForSensor (Sensor ID)</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV</p>
    <p>RegisterForSensor (Sensor ID)</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV</p>
    <p>RegisterForSensor (Sensor ID)</p>
    <p>RegisterCallBack (TimeGap,</p>
    <p>CallBackFun)</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV</p>
    <p>RegisterForSensor (Sensor ID)</p>
    <p>RegisterCallBack (TimeGap,</p>
    <p>CallBackFun)</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>Putting It All Together</p>
    <p>Hybrid</p>
    <p>BLE/WFD</p>
    <p>&lt;key, value&gt;</p>
    <p>WearCache</p>
    <p>&lt;key, value&gt;</p>
    <p>WearKV Notification</p>
    <p>RegisterForSensor (Sensor ID)</p>
    <p>RegisterCallBack (TimeGap,</p>
    <p>CallBackFun)</p>
    <p>Wearable Phone</p>
  </div>
  <div class="page">
    <p>WearDrive: Implementation in Real System</p>
    <p>Mobile Device</p>
    <p>Android OS (version 4.4)</p>
    <p>Application</p>
  </div>
  <div class="page">
    <p>WearDrive: Implementation in Real System</p>
    <p>Mobile Device</p>
    <p>Android OS (version 4.4)</p>
    <p>KV-Store:</p>
    <p>WearCache/WearKV</p>
    <p>BB-RAM</p>
    <p>Manager</p>
    <p>Hybrid Network</p>
    <p>Management</p>
    <p>Application</p>
  </div>
  <div class="page">
    <p>WearDrive: Implementation in Real System</p>
    <p>Mobile Device</p>
    <p>Android OS (version 4.4)</p>
    <p>KV-Store:</p>
    <p>WearCache/WearKV</p>
    <p>BB-RAM</p>
    <p>Manager</p>
    <p>Hybrid Network</p>
    <p>Management</p>
    <p>WearDrive API</p>
    <p>Application</p>
  </div>
  <div class="page">
    <p>Experimental Setup</p>
    <p>Emulated wearable device (similar to Samsung Gear)</p>
    <p>Monsoon power monitor</p>
  </div>
  <div class="page">
    <p>Experimental Setup</p>
    <p>WearableOnly Use local Flash as storage</p>
    <p>WearSDK</p>
    <p>Android Wear SDK</p>
    <p>WearDrive In-memory storage system</p>
    <p>we extend its data layer to make it support WFD and hybrid</p>
    <p>network protocol.</p>
  </div>
  <div class="page">
    <p>WearBench: Benchmarks for Wearables</p>
    <p>Examples Parameters</p>
    <p>Extended</p>
    <p>Display Size, inter-arrival time</p>
    <p>Sensors Sampling rate,</p>
    <p>monitoring period</p>
    <p>Audio/Video Encoding rate, quality,</p>
    <p>monitoring period</p>
  </div>
  <div class="page">
    <p>Local Memory vs. Local Flash (Write)</p>
    <p>T h</p>
    <p>ro u g</p>
    <p>h p</p>
    <p>u t (K</p>
    <p>T P</p>
    <p>S )</p>
    <p>IO Size (Bytes)</p>
    <p>WearableOnly WearDrive</p>
    <p>E n</p>
    <p>e rg</p>
    <p>y (J</p>
    <p>o u</p>
    <p>le s)</p>
  </div>
  <div class="page">
    <p>Local Memory vs. Local Flash (Read)</p>
    <p>T h</p>
    <p>ro u g</p>
    <p>h p</p>
    <p>u t (K</p>
    <p>T P</p>
    <p>S )</p>
    <p>IO Size (Bytes)</p>
    <p>WearableOnly WearDrive</p>
    <p>E n</p>
    <p>e rg</p>
    <p>y (J</p>
    <p>o u</p>
    <p>le s)</p>
  </div>
  <div class="page">
    <p>Energy Usage of Sensor Data Aggregation</p>
    <p>WearableOnly WearSDK-BLE WearSDK-WFD WearSDK-HYN WearDrive</p>
    <p>E n</p>
    <p>e rg</p>
    <p>y (J</p>
    <p>o u</p>
    <p>le s)</p>
    <p>Storage Networking</p>
    <p>WearDrive consumes 1.5x less power than WearableOnly,</p>
    <p>up to 3x less power than WearSDK</p>
    <p>The sensor samples values continuously at 1 Hz for 24 hours</p>
  </div>
  <div class="page">
    <p>Energy Usage of Receiving Notifications</p>
    <p>E n</p>
    <p>e rg</p>
    <p>y (J</p>
    <p>o u</p>
    <p>le s)</p>
    <p>Interval between two notifications (seconds)</p>
    <p>WearSDK-BLE WearSDK-WFD WearSDK-HYN WearDrive</p>
    <p>WearDrive saves 1.2 - 3x energy than WearSDK-BLE</p>
  </div>
  <div class="page">
    <p>Compute Offload &amp; Impact on the Phone</p>
    <p>Wearable (300 mAh) Phone (2000 mAh)</p>
    <p>WearableOnly 27.12% -</p>
    <p>WearableOnly</p>
    <p>+InMemory 13.23% -</p>
    <p>WearDrive 0.87% 2.09%</p>
    <p>Data analysis with k-means on the data set generated by</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>In-memory Storage System</p>
    <p>with battery-back DRAM (BB-RAM)</p>
    <p>Extended Capabilities</p>
    <p>leveraging phones storage and CPU</p>
    <p>WearDrive: Storage System for Wearables</p>
  </div>
  <div class="page">
    <p>Jian Huang</p>
    <p>jian.huang@gatech.edu</p>
    <p>Anirudh Badam Ranveer Chandra Ed Nightingale</p>
    <p>Thanks!</p>
    <p>Q&amp;A</p>
  </div>
</Presentation>
