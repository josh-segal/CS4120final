<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>On Estimating Tight-Link Bandwidth Characteristics over Multi-Hop Path On Estimating TightOn Estimating Tight--Link Bandwidth Link Bandwidth Characteristics over MultiCharacteristics over Multi--Hop PathHop Path</p>
    <p>SeongSeong--Ryong KangRyong Kang Joint work with Xiliang Liu, Amit Bhati, and Dmitri LoguinovJoint work with Xiliang Liu, Amit Bhati, and Dmitri Loguinov</p>
    <p>Internet Research LabInternet Research Lab Department of Computer ScienceDepartment of Computer Science Texas A&amp;M University, College Station, TX 77843Texas A&amp;M University, College Station, TX 77843</p>
    <p>July 6, 2006July 6, 2006</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Introduction  Motivations and goals</p>
    <p>Background  Definition of bandwidth  End-to-end Internet-path and single-hop model</p>
    <p>Envelope  Envelope packet-trains  Phase-based individual link measurement</p>
    <p>Performance of Envelope  Estimation accuracy and asymptotic behavior</p>
    <p>Wrap-up</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>MotivationMotivationMotivation</p>
    <p>Bandwidth estimation is an important area of Internet research  Helps to understand network path characteristics  Potentially can help various Internet applications</p>
    <p>Majority of available bandwidth estimation processes do not provably converge to the correct values</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Motivation 2Motivation 2Motivation 2</p>
    <p>Furthermore, none of the existing techniques can correctly measure the tight-link capacity over a multi-hop path  Tight link is the link with the minimum available</p>
    <p>bandwidth of a path</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>GoalsGoalsGoals</p>
    <p>Develop a provably accurate estimation technique</p>
    <p>Measure both capacity and available bandwidth of the tight link</p>
    <p>Work for multi-hop paths under arbitrary crosstraffic</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Definition of BandwidthDefinition of BandwidthDefinition of Bandwidth</p>
    <p>Bottleneck bandwidth  The capacity of the slowest link of an end-to-end path  The slowest link is often called narrow link</p>
    <p>Available bandwidth  The smallest average unused bandwidth along the</p>
    <p>end-to-end path</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Definition Bandwidth 2Definition Bandwidth 2Definition Bandwidth 2</p>
    <p>Available bandwidth of the path: A = 12</p>
    <p>tight link, capacity = 50</p>
    <p>narrow link bottleneck capacity = 20</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>End-to-End Internet PathEndEnd--toto--End Internet PathEnd Internet Path</p>
    <p>The sender injects probe packets with inter-packet spacing x</p>
    <p>Due to expansion/compression in pre-tight links, interpacket spacing xt is different from the initial spacing x</p>
    <p>xt is altered at router Rt to be yt by random noise wt  The receiver samples inter-arrival dispersion y</p>
    <p>Sender Receiver</p>
    <p>Cross Traffic</p>
    <p>tight-link router Rt probe packets</p>
    <p>x xt yt y</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Single-Hop ModelSingleSingle--Hop ModelHop Model</p>
    <p>Assumes that cross-traffic in non-tight links does not change inter-packet spacings of the probe packets  That is, x = xt and y = yt</p>
    <p>Derives the mean output dispersion E[y] under arbitrary cross-traffic  Other single-hop models (Dovrolis et al. INFOCOM</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Single-Hop Model 2SingleSingle--Hop Model 2Hop Model 2</p>
    <p>Extracts capacity and available bandwidth of the tight link from E[y] with high accuracy</p>
    <p>For details, see the paper (Kang et al. INCP 2004)</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>EnvelopeEnvelopeEnvelope</p>
    <p>Recursively extends the single-hop results to multi-hop paths  Sample statistics of each hop independently</p>
    <p>Measures both capacity and available bandwidth of the tight link under arbitrary cross-traffic  Can also measure non-tight link in certain path and</p>
    <p>cross-traffic conditions</p>
    <p>Provides asymptotic accuracy  Estimates converge to the true value after a sufficiently</p>
    <p>long measurement process</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Envelope 2Envelope 2Envelope 2</p>
    <p>Recursive extension:  Treats inter-packet spacing xk of probe traffic arriving</p>
    <p>at router Rk as the inter-departure delay yk1 of the previous router Rk1</p>
    <p>yk1 = xk Rk1 yk = xk+1Rk Rk+1</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Envelope 3Envelope 3Envelope 3</p>
    <p>Necessary conditions for measuring link Rk  Spacing between two probe packets must be small</p>
    <p>when arriving at router Rk  However, the departure spacing from the router must</p>
    <p>be large to preserve its mean along the path suffix</p>
    <p>How do we satisfy these conditions?  By using Envelope packet-trains and TTL-limited</p>
    <p>dropping of probe packets at select routers  This does not require special cooperation from the</p>
    <p>routers</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Envelope 4Envelope 4Envelope 4</p>
    <p>Envelope packet train</p>
    <p>An envelope packet-train includes N probe packets P1, , PN surrounded by two Envelope packets E1 and E2</p>
    <p>Delays between two probe packets are small  Delays between two Envelope packets become large</p>
    <p>by selecting a large N</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Envelope 5Envelope 5Envelope 5</p>
    <p>To obtain the departure spacing from router Rk, all probe packets P1, , PN are dropped at router Rk+1 using TTL limiting</p>
    <p>The probe packets sample queuing dynamics at the desired router Rk</p>
    <p>The surviving envelope packets carry spacing zk that is N+1 times larger than the departure spacing yk from the router Rk</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Envelope 6Envelope 6Envelope 6</p>
    <p>For M links in the end-to-end path, Envelope takes M1 measurement phases  Each phase focuses on a particular router Rk  Obtains the mean spacing E[zk] exiting from Rk</p>
    <p>Using E[zk1] measured in the previous phase, Envelope estimates the available bandwidth Ak and capacity Ck of the router Rk</p>
    <p>For details of bandwidth extraction process, see the paper</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Simulation TopologySimulation TopologySimulation Topology</p>
    <p>R1 R2 R3 C1</p>
    <p>C2 R4 R5</p>
    <p>C3</p>
    <p>C4</p>
    <p>PR</p>
    <p>PS</p>
    <p>S1 D1 S3 D3</p>
    <p>S2 D2 S4 D4</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Simulation SetupSimulation SetupSimulation Setup</p>
    <p>Darkly shaded values in each row represent the tightlink capacity and available bandwidth of the path</p>
    <p>We also lightly shade the narrow-link capacity in cases when it is different from the tight link</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Estimation AccuracyEstimation AccuracyEstimation Accuracy</p>
    <p>Relative error metrics:</p>
    <p>eCi and eAiare relative estimation errors of Ci and Ai,</p>
    <p>respectively  Ci is the true capacity of link i and Ci is its estimate  Ai is the true available bandwidth of link i and Ai is its</p>
    <p>estimate</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Estimation Accuracy 2Estimation Accuracy 2Estimation Accuracy 2</p>
    <p>CBR cross-traffic</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Estimation Accuracy 3Estimation Accuracy 3Estimation Accuracy 3</p>
    <p>TCP cross-traffic</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Asymptotic BehaviorAsymptotic BehaviorAsymptotic Behavior</p>
    <p>CBR cross-traffic (case I)</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Asymptotic Behavior 2Asymptotic Behavior 2Asymptotic Behavior 2</p>
    <p>TCP cross-traffic (case I)</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Performance ComparisonPerformance ComparisonPerformance Comparison</p>
    <p>Available bandwidth under TCP cross-traffic</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Performance Comparison 2Performance Comparison 2Performance Comparison 2</p>
    <p>Bottleneck bandwidth under TCP cross-traffic</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Wrap-upWrapWrap--upup</p>
    <p>Envelope measures both bandwidth metrics of the tight-link under arbitrary cross-traffic</p>
    <p>Its estimates are asymptotically accurate</p>
    <p>It is based on recursive extension of the singlehop results to multi-hop paths</p>
    <p>Future work  Implementation and deployment of Envelope  Further reduction of probe traffic required</p>
  </div>
</Presentation>
