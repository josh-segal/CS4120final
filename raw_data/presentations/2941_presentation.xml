<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>End-to-end Performance Isolation through Virtual Datacenters</p>
    <p>Sebastian Angel UT Austin and NYU</p>
    <p>Hitesh Ballani, Thomas Karagiannis, Greg OShea, Eno Thereska Microsoft Research</p>
  </div>
  <div class="page">
    <p>Enterprise datacenter (single tenant)</p>
  </div>
  <div class="page">
    <p>Enterprise datacenter (single tenant)</p>
    <p>Cloud datacenters (multiple tenants)</p>
  </div>
  <div class="page">
    <p>Cloud datacenters offer services implemented by appliances</p>
    <p>Persistent storage</p>
    <p>Middleboxes</p>
    <p>Key-value store Blockstore</p>
    <p>Load balancer Traffic optimizerEncryption device</p>
  </div>
  <div class="page">
    <p>GitHub</p>
    <p>Appliances (and the network) are shared among tenants</p>
    <p>Traffic optimizer</p>
  </div>
  <div class="page">
    <p>GitHub</p>
    <p>Appliances (and the network) are shared among tenants</p>
    <p>Traffic optimizer</p>
  </div>
  <div class="page">
    <p>GitHub</p>
    <p>Appliances (and the network) are shared among tenants</p>
    <p>Traffic optimizer</p>
  </div>
  <div class="page">
    <p>GitHub</p>
    <p>Network and appliance throughput varies by up to 5X in datacenters due to contention at shared resources [SIGCOMM11]</p>
    <p>Appliances (and the network) are shared among tenants</p>
    <p>Traffic optimizer</p>
  </div>
  <div class="page">
    <p>GitHub</p>
    <p>Network and appliance throughput varies by up to 5X in datacenters due to contention at shared resources [SIGCOMM11]</p>
    <p>Appliances (and the network) are shared among tenants</p>
    <p>Traffic optimizer</p>
    <p>Applications experience degraded and unpredictable performance</p>
  </div>
  <div class="page">
    <p>Tenants should get end-to-end guarantees</p>
    <p>Isolate tenants across the network</p>
    <p>Oktopus [SIGCOMM11], ElasticSwitch [SIGCOMM13]</p>
    <p>Isolate tenants at appliances</p>
    <p>DRFQ [SIGCOMM12], Pisces [OSDI12], IOFlow [SOSP13]</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Storage server</p>
    <p>GitHub</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Large Read request (request itself is a tiny header)</p>
    <p>Storage server</p>
    <p>GitHub</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Large Read request (request itself is a tiny header)</p>
    <p>Large Write request (contains actual payload)</p>
    <p>Storage server</p>
    <p>GitHub</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Large Read request (request itself is a tiny header)</p>
    <p>Large Write request (contains actual payload)</p>
    <p>Storage server</p>
    <p>Network performance isolation</p>
    <p>GitHub</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Large Read request (request itself is a tiny header)</p>
    <p>Large Write request (contains actual payload)</p>
    <p>Storage server</p>
    <p>Network performance isolation</p>
    <p>Appliance performance isolationGitHub</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Large Read request (request itself is a tiny header)</p>
    <p>Large Write request (contains actual payload)</p>
    <p>Storage server</p>
    <p>Network performance isolation</p>
    <p>Appliance performance isolation</p>
    <p>doesnt help</p>
    <p>GitHub</p>
  </div>
  <div class="page">
    <p>Enforcing per-resource guarantees is not sufficient</p>
    <p>Large Read request (request itself is a tiny header)</p>
    <p>Large Write request (contains actual payload)</p>
    <p>Storage server</p>
    <p>Network performance isolation</p>
    <p>Appliance performance isolation</p>
    <p>doesnt help</p>
    <p>GitHub</p>
    <p>We need a new abstraction that encapsulates the semantics of end-to-end guarantees</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Introduction</p>
    <p>Virtual Datacenter (VDC) abstraction</p>
    <p>Throughput metric</p>
    <p>Architecture of Pulsar</p>
    <p>Experimental evaluation</p>
  </div>
  <div class="page">
    <p>Virtual Datacenters (VDC) encapsulate end-to-end guarantees</p>
    <p>Virtual Appliances</p>
    <p>Virtual Machines</p>
    <p>Virtual Network</p>
    <p>VM1 VMN</p>
    <p>...</p>
    <p>GitHub</p>
  </div>
  <div class="page">
    <p>Virtual Datacenters (VDC) encapsulate end-to-end guarantees</p>
    <p>Virtual Appliances</p>
    <p>Virtual Machines</p>
    <p>Virtual Network</p>
    <p>VM1 VMN</p>
    <p>...</p>
    <p>GS GE GO</p>
    <p>G1 GN</p>
    <p>GitHub</p>
    <p>Guaranteed virtual capacities</p>
  </div>
  <div class="page">
    <p>Virtual Datacenters (VDC) encapsulate end-to-end guarantees</p>
    <p>Virtual Appliances</p>
    <p>Virtual Machines</p>
    <p>Virtual Network</p>
    <p>VM1 VMN</p>
    <p>...</p>
    <p>GS GE GO</p>
    <p>G1 GN</p>
    <p>GitHub</p>
    <p>Guaranteed virtual capacities</p>
    <p>Can be fixed or minimum</p>
    <p>Predictability Elasticity</p>
  </div>
  <div class="page">
    <p>...</p>
    <p>Virtual Network Virtual Network</p>
    <p>...</p>
    <p>Virtual Network</p>
    <p>...</p>
    <p>GitHub</p>
    <p>Admission control is performed when placing tenants VDCs</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Introduction</p>
    <p>Virtual Datacenter (VDC) abstraction</p>
    <p>Throughput metric</p>
    <p>Architecture of Pulsar</p>
    <p>Experimental evaluation</p>
  </div>
  <div class="page">
    <p>Standard throughput metrics have major tradeoffs</p>
    <p>Relative metrics: % share of the appliance</p>
    <p>Provider: easy provisioning</p>
    <p>Tenants: performance variability still present</p>
  </div>
  <div class="page">
    <p>Standard throughput metrics have major tradeoffs</p>
    <p>Relative metrics: % share of the appliance</p>
    <p>Provider: easy provisioning</p>
    <p>Tenants: performance variability still present</p>
    <p>Absolute metrics: requests/second or bytes/second  Provider: provisioning based on costliest request  Tenants: absolute throughput guarantees</p>
  </div>
  <div class="page">
    <p>Request cost varies with request characteristics</p>
    <p>Writes</p>
    <p>Reads</p>
    <p>C o</p>
    <p>st (</p>
    <p>s</p>
    <p>/ re</p>
    <p>q u</p>
    <p>e st</p>
    <p>)</p>
    <p>Request Size (KB)</p>
    <p>SSD-backed blockstore</p>
  </div>
  <div class="page">
    <p>Request cost varies with request characteristics</p>
    <p>Writes</p>
    <p>Reads</p>
    <p>C o</p>
    <p>st (</p>
    <p>s</p>
    <p>/ re</p>
    <p>q u</p>
    <p>e st</p>
    <p>)</p>
    <p>Request Size (KB)</p>
    <p>SSD-backed blockstore</p>
    <p>Guaranteeing requests/second requires conservative provisioning</p>
  </div>
  <div class="page">
    <p>Virtual request cost (in tokens)</p>
    <p>Provider selects a (fixed) virtual cost function for each resource</p>
  </div>
  <div class="page">
    <p>Virtual request cost (in tokens)</p>
    <p>Provider selects a (fixed) virtual cost function for each resource</p>
    <p>Request size</p>
    <p>To ke</p>
    <p>n s Writes</p>
    <p>Reads</p>
    <p>SSD-backed blockstore</p>
    <p>Request size</p>
    <p>To ke</p>
    <p>n s</p>
    <p>Network Links / NICs</p>
  </div>
  <div class="page">
    <p>Virtual request cost (in tokens)</p>
    <p>Provider selects a (fixed) virtual cost function for each resource</p>
    <p>Guaranteed virtual capacities are defined in tokens/sec</p>
    <p>Request size</p>
    <p>To ke</p>
    <p>n s Writes</p>
    <p>Reads</p>
    <p>SSD-backed blockstore</p>
    <p>Request size</p>
    <p>To ke</p>
    <p>n s</p>
    <p>Network Links / NICs</p>
  </div>
  <div class="page">
    <p>Virtual request cost (in tokens)</p>
    <p>Provider selects a (fixed) virtual cost function for each resource</p>
    <p>Guaranteed virtual capacities are defined in tokens/sec</p>
    <p>Request size</p>
    <p>To ke</p>
    <p>n s Writes</p>
    <p>Reads</p>
    <p>SSD-backed blockstore</p>
    <p>Request size</p>
    <p>To ke</p>
    <p>n s</p>
    <p>Network Links / NICs</p>
    <p>...</p>
    <p>Virtual Network</p>
    <p>KB/s or IOPs?</p>
    <p>bps?</p>
    <p>Requests/sec?</p>
  </div>
  <div class="page">
    <p>Virtual request cost strikes a good compromise between tenants and the provider</p>
    <p>Tenants can translate their guarantees to other metrics for their workloads</p>
    <p>Provider has more flexibility when provisioning the datacenter</p>
  </div>
  <div class="page">
    <p>Virtual request cost strikes a good compromise between tenants and the provider</p>
    <p>Tenants can translate their guarantees to other metrics for their workloads</p>
    <p>Provider has more flexibility when provisioning the datacenter</p>
    <p>To ke</p>
    <p>n s</p>
    <p>Guarantee: 32 Ktokens/sec</p>
  </div>
  <div class="page">
    <p>Virtual request cost strikes a good compromise between tenants and the provider</p>
    <p>Tenants can translate their guarantees to other metrics for their workloads</p>
    <p>Provider has more flexibility when provisioning the datacenter</p>
    <p>To ke</p>
    <p>n s</p>
    <p>Guarantee: 32 Ktokens/sec</p>
    <p>Workload:  8 KB PUTs --&gt; 2 PUT/sec  32 KB GETs --&gt; 1 GET/sec</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Introduction</p>
    <p>Virtual Datacenter (VDC) abstraction</p>
    <p>Throughput metric</p>
    <p>Architecture of Pulsar</p>
    <p>Experimental evaluation</p>
  </div>
  <div class="page">
    <p>Design goals and decisions</p>
    <p>No modification to appliances, switches, guest OSes, applications</p>
    <p>Preserve work-conservation</p>
    <p>Enable rich policies that are easy to change</p>
  </div>
  <div class="page">
    <p>Design goals and decisions</p>
    <p>No modification to appliances, switches, guest OSes, applications</p>
    <p>Perform enforcement entirely at end-hosts via a rate enforcer</p>
    <p>Preserve work-conservation</p>
    <p>Enable rich policies that are easy to change</p>
  </div>
  <div class="page">
    <p>Design goals and decisions</p>
    <p>No modification to appliances, switches, guest OSes, applications</p>
    <p>Perform enforcement entirely at end-hosts via a rate enforcer</p>
    <p>Preserve work-conservation</p>
    <p>Allocate unused resources to tenants and VMs that can use them</p>
    <p>Requires coordination between rate enforcers</p>
    <p>Enable rich policies that are easy to change</p>
  </div>
  <div class="page">
    <p>Design goals and decisions</p>
    <p>No modification to appliances, switches, guest OSes, applications</p>
    <p>Perform enforcement entirely at end-hosts via a rate enforcer</p>
    <p>Preserve work-conservation</p>
    <p>Allocate unused resources to tenants and VMs that can use them</p>
    <p>Requires coordination between rate enforcers</p>
    <p>Enable rich policies that are easy to change</p>
    <p>Simplicity is key</p>
    <p>Perform coordination through a centralized control plane</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>VM1 VM2 VMN</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
  </div>
  <div class="page">
    <p>Rate enforcer</p>
    <p>Estimates the demand of every VM</p>
    <p>Emulates request cost at different resources by applying cost functions</p>
    <p>Enforces allocation provided by controller</p>
    <p>Pulsars architecture</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
    <p>Tenant rate allocation</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
    <p>Capacity estimation</p>
    <p>Tenant rate allocation</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
    <p>Capacity estimation</p>
    <p>Tenant rate allocation</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
    <p>Capacity estimation</p>
    <p>Tenant rate allocation</p>
  </div>
  <div class="page">
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>Tenant rate allocation</p>
    <p>Pulsar allocates resources to each VM-VM pair</p>
  </div>
  <div class="page">
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>Tenant rate allocation</p>
    <p>Pulsar allocates resources to each VM-VM pair</p>
    <p>Capacity of each resource</p>
  </div>
  <div class="page">
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>Tenant rate allocation</p>
    <p>Pulsar allocates resources to each VM-VM pair</p>
    <p>Capacity of each resource</p>
    <p>Per-VM demands</p>
  </div>
  <div class="page">
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>Tenant rate allocation</p>
    <p>Pulsar allocates resources to each VM-VM pair</p>
    <p>Capacity of each resource</p>
    <p>Per-VM demands</p>
    <p>, , Source VM Destination VM</p>
    <p>Links + NIC Appliance Links + NIC</p>
  </div>
  <div class="page">
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>Tenant rate allocation</p>
    <p>Pulsar allocates resources to each VM-VM pair</p>
    <p>Policies</p>
    <p>Capacity of each resource</p>
    <p>Per-VM demands</p>
    <p>, , Source VM Destination VM</p>
    <p>Links + NIC Appliance Links + NIC</p>
  </div>
  <div class="page">
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>Tenant rate allocation</p>
    <p>Pulsar allocates resources to each VM-VM pair</p>
    <p>Policies</p>
    <p>Capacity of each resource</p>
    <p>Per-VM demands</p>
    <p>, , Source VM Destination VM</p>
    <p>Links + NIC Appliance Links + NIC</p>
  </div>
  <div class="page">
    <p>Allocations are based on two policies</p>
    <p>Tenant-specified policy</p>
    <p>Specifies how VDC resources are divided to VMs</p>
  </div>
  <div class="page">
    <p>Allocations are based on two policies</p>
    <p>Tenant-specified policy</p>
    <p>Specifies how VDC resources are divided to VMs</p>
    <p>Virtual Network</p>
    <p>...</p>
  </div>
  <div class="page">
    <p>Allocations are based on two policies</p>
    <p>Tenant-specified policy</p>
    <p>Specifies how VDC resources are divided to VMs</p>
    <p>Virtual Network</p>
    <p>...</p>
    <p>Example policies:</p>
    <p>Divide 20 tokens/sec fairly across all active VMs</p>
    <p>Give all 20 tokens/sec to VM 3 (whenever it is active)</p>
  </div>
  <div class="page">
    <p>Allocations are based on two policies</p>
    <p>Tenant-specified policy</p>
    <p>Specifies how VDC resources are divided to VMs</p>
    <p>Provider-specified policy</p>
    <p>Specifies how spare resources are given to tenants VMs</p>
  </div>
  <div class="page">
    <p>Allocations are based on two policies</p>
    <p>Tenant-specified policy</p>
    <p>Specifies how VDC resources are divided to VMs</p>
    <p>Provider-specified policy</p>
    <p>Specifies how spare resources are given to tenants VMs</p>
    <p>Example policies:</p>
    <p>Distribute spare resource fairly across all tenants VMs</p>
    <p>Distribute spare resources in a way that maximizes profit</p>
  </div>
  <div class="page">
    <p>Pulsars architecture</p>
    <p>Centralized controller</p>
    <p>VDCs Topology</p>
    <p>VM1 VM2 VMN</p>
    <p>Rate Enforcer</p>
    <p>Network Interface Card</p>
    <p>Hypervisor</p>
    <p>Compute server</p>
    <p>Capacity estimation</p>
    <p>Tenant rate allocation</p>
  </div>
  <div class="page">
    <p>Congestion control protocols estimate network capacity</p>
    <p>Basic idea</p>
    <p>Each network flow probes for a higher capacity estimate</p>
    <p>Decreases allocation on observing congestion</p>
  </div>
  <div class="page">
    <p>Congestion control protocols estimate network capacity</p>
    <p>Basic idea</p>
    <p>Each network flow probes for a higher capacity estimate</p>
    <p>Decreases allocation on observing congestion</p>
    <p>Challenges</p>
    <p>Congestion signals are not present or noisy</p>
    <p>Distributed operation is complex</p>
    <p>Estimation is tightly coupled with allocation</p>
  </div>
  <div class="page">
    <p>Centralized estimation algorithm</p>
    <p>Maintain window for capacity estimate</p>
    <p>Refine window based on congestion signals</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
    <p>Congestion</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
    <p>Wait for pending requests to finish</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
  </div>
  <div class="page">
    <p>Controller-based capacity estimation C</p>
    <p>a p</p>
    <p>a ci</p>
    <p>ty (</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time</p>
    <p>Cmin</p>
    <p>Cmax</p>
    <p>Actual capacity</p>
    <p>Control equation</p>
  </div>
  <div class="page">
    <p>We rely on two congestion signals</p>
    <p>Aggregate throughput &lt; Capacity estimate</p>
    <p>VDC-compliant workload</p>
    <p>Helps find capacity for VDC-compliant workload</p>
    <p>Detailed example in the paper!</p>
  </div>
  <div class="page">
    <p>Implementation</p>
    <p>Rate enforcer</p>
    <p>Filter driver running on Hyper-v</p>
    <p>Enforces allocations using a multi-resource token bucket</p>
    <p>Controller</p>
    <p>Stand-alone server</p>
    <p>Allocation mechanisms include DRF [NSDI11], H-DRF [SOCC13]</p>
    <p>Installs relevant cost functions in rate enforcers</p>
  </div>
  <div class="page">
    <p>Evaluation questions</p>
  </div>
  <div class="page">
    <p>Experimental setup and testbed</p>
    <p>3 Appliances:</p>
    <p>Network: Mellanox 40 Gbps RDMA RoCE full-duplex</p>
    <p>10 compute servers (total of 113 VMs)</p>
    <p>In-memory key-value store Blockstore (6 SSDs) Encryption device</p>
  </div>
  <div class="page">
    <p>Workloads and expected throughput</p>
    <p>4 Tenants: AD (tenants share at least one resource)</p>
    <p>Workloads are generated with parameters from Hotmail traces</p>
  </div>
  <div class="page">
    <p>Workloads and expected throughput</p>
    <p>4 Tenants: AD (tenants share at least one resource)</p>
    <p>Workloads are generated with parameters from Hotmail traces</p>
    <p>Expected throughput (tokens/second):</p>
    <p>Tenant A* B C* D</p>
    <p>Guarantee 400 M 1600 M 800 M 800 M</p>
    <p>VMs 49 (many flows) 48 8 (large IO window) 8</p>
  </div>
  <div class="page">
    <p>Pulsar achieves tenants guarantees</p>
    <p>Tenant A* B C* D</p>
    <p>Guarantee 400 M 1600 M 800 M 800 M</p>
    <p>VMs 49 (many flows) 48 8 (large IO window) 8</p>
  </div>
  <div class="page">
    <p>Pulsar achieves tenants guarantees</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
    <p>Tenant A* B C* D</p>
    <p>Guarantee 400 M 1600 M 800 M 800 M</p>
    <p>VMs 49 (many flows) 48 8 (large IO window) 8</p>
  </div>
  <div class="page">
    <p>Pulsar achieves tenants guarantees</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
    <p>Tenant A* B C* D</p>
    <p>Guarantee 400 M 1600 M 800 M 800 M</p>
    <p>VMs 49 (many flows) 48 8 (large IO window) 8</p>
  </div>
  <div class="page">
    <p>Pulsar achieves tenants guarantees</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
    <p>Tenant A* B C* D</p>
    <p>Guarantee 400 M 1600 M 800 M 800 M</p>
    <p>VMs 49 (many flows) 48 8 (large IO window) 8</p>
  </div>
  <div class="page">
    <p>Pulsar achieves tenants guarantees</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
    <p>Tenant A* B C* D</p>
    <p>Guarantee 400 M 1600 M 800 M 800 M</p>
    <p>VMs 49 (many flows) 48 8 (large IO window) 8</p>
  </div>
  <div class="page">
    <p>Can Pulsar estimate appliance capacity?</p>
  </div>
  <div class="page">
    <p>Pulsar estimates capacities and copes with changing workloads</p>
    <p>In-memory Key-value store</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
  </div>
  <div class="page">
    <p>Pulsar estimates capacities and copes with changing workloads</p>
    <p>In-memory Key-value store</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
  </div>
  <div class="page">
    <p>Pulsar estimates capacities and copes with changing workloads</p>
    <p>In-memory Key-value store</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (M</p>
    <p>to ke</p>
    <p>n s/</p>
    <p>se c)</p>
    <p>Time (seconds)</p>
  </div>
  <div class="page">
    <p>What are the data- and control-plane overheads?</p>
  </div>
  <div class="page">
    <p>Data- and control-plane overheads are reasonable</p>
    <p>Data-plane</p>
    <p>Overhead from rate enforcer &lt; 2% (15% for small requests)</p>
    <p>Control-plane</p>
    <p>256 bytes/sec for each VM</p>
    <p>Setting up cost functions at rate enforcers takes 83 s</p>
    <p>Can compute rich policies for 24K VMs and 200 appliances</p>
  </div>
  <div class="page">
    <p>Summary</p>
    <p>Virtual Datacenter (VDC) abstraction</p>
    <p>Captures tenants end-to-end throughput guarantees</p>
    <p>Pulsar implements the VDC abstraction</p>
    <p>Simple data-plane rate limiting and centralized control-plane</p>
    <p>No changes to appliances, switches, guest OSes, and apps</p>
    <p>Reasonable data- and control-plane overheads</p>
    <p>See you at the poster session!</p>
  </div>
</Presentation>
