<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>DryadInc: Reusing work in large scale computations</p>
    <p>*Lucian Popa*+, Mihai Budiu+, Yuan Yu+, Michael Isard+</p>
    <p>+ Microsoft Research Silicon Valley * UC Berkeley</p>
  </div>
  <div class="page">
    <p>Problem StatementProblem Statement  Outputs</p>
    <p>Distributed Computation</p>
    <p>Inputs Appendonly data</p>
  </div>
  <div class="page">
    <p>Problem StatementProblem Statement  Outputs</p>
    <p>Distributed Computation</p>
    <p>Inputs Appendonly data</p>
  </div>
  <div class="page">
    <p>Problem StatementProblem Statement  Outputs</p>
    <p>Distributed Computation</p>
    <p>Goal: Reuse (part of) prior computations to:</p>
    <p>Inputs</p>
    <p>(p ) p p  Speed up the current job  Increase cluster throughputIncrease cluster throughput  Reduce energy and costs</p>
  </div>
  <div class="page">
    <p>Propose Two ApproachesPropose Two Approaches</p>
    <p>and MERge results with the previous ones (like patch)( p )</p>
  </div>
  <div class="page">
    <p>ContextContext</p>
    <p>Implemented for Dryadp y  Dryad Job = Computational DAG</p>
    <p>Vertex: arbitrary computation + inputs/outputs  Edge: data flows Edge: data flows</p>
    <p>Simple Example: Record Count</p>
    <p>AAdd</p>
    <p>Outputs</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>Inputs (partitions)</p>
    <p>Count</p>
    <p>I1 (partitions)</p>
  </div>
  <div class="page">
    <p>IDE  IDEntical ComputationIDE IDEntical Computation</p>
    <p>Record Count</p>
    <p>First execution</p>
    <p>AAdd</p>
    <p>Outputs DAG</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>Inputs</p>
    <p>Count</p>
    <p>I1 I2Inputs (partitions)</p>
    <p>I1</p>
  </div>
  <div class="page">
    <p>IDE  IDEntical ComputationIDE IDEntical Computation</p>
    <p>Record Count</p>
    <p>Second execution DAG</p>
    <p>AAdd</p>
    <p>Outputs</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>Inputs</p>
    <p>Count</p>
    <p>I1 I3</p>
    <p>C</p>
    <p>I2Inputs (partitions)</p>
    <p>I1 I3</p>
    <p>New Inputp</p>
  </div>
  <div class="page">
    <p>IDE  IDEntical ComputationIDE IDEntical Computation</p>
    <p>Record Count</p>
    <p>Second execution DAG</p>
    <p>AAdd</p>
    <p>Outputs</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>Inputs</p>
    <p>Count</p>
    <p>I1 I3</p>
    <p>C</p>
    <p>Identical subDAGI2Inputs (partitions)</p>
    <p>I1 I3 Identical subDAG</p>
  </div>
  <div class="page">
    <p>IDE  IDEntical ComputationIDE IDEntical Computation Replace identical computational subDAG with Replace identical computational subDAG with</p>
    <p>IDE Modified</p>
    <p>edge data cached from previous executionedge data cached from previous execution</p>
    <p>DAG AAdd</p>
    <p>Outputs</p>
    <p>Replaced withInputs Count</p>
    <p>I3</p>
    <p>C</p>
    <p>Replaced with Cached Data</p>
    <p>Inputs (partitions)</p>
    <p>I3</p>
  </div>
  <div class="page">
    <p>IDE  IDEntical ComputationIDE IDEntical Computation Replace identical computational subDAG with Replace identical computational subDAG with</p>
    <p>IDE Modified</p>
    <p>edge data cached from previous executionedge data cached from previous execution</p>
    <p>DAG AAdd</p>
    <p>Outputs</p>
    <p>Inputs</p>
    <p>Count</p>
    <p>I3</p>
    <p>C</p>
    <p>Use DAG fingerprints to determine if computations are identical</p>
    <p>Inputs (partitions)</p>
    <p>I3</p>
    <p>if computations are identical</p>
  </div>
  <div class="page">
    <p>Semantic Knowledge Can HelpSemantic Knowledge Can Help</p>
    <p>Reuse Output</p>
    <p>A</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>I1 I2I1</p>
  </div>
  <div class="page">
    <p>Semantic Knowledge Can HelpSemantic Knowledge Can Help</p>
    <p>A Merge (Add) Previous Output</p>
    <p>A C</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>I1</p>
    <p>I3</p>
    <p>I2I1</p>
    <p>Incremental DAG</p>
  </div>
  <div class="page">
    <p>MER  MERgeable ComputationMER MERgeable Computation</p>
    <p>A Merge (Add) Userspecified</p>
    <p>A C Automatically f d</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>I1</p>
    <p>I3Inferred</p>
    <p>I2I1</p>
    <p>Automatically Built</p>
  </div>
  <div class="page">
    <p>MER  MERgeable ComputationMER MERgeable Computation</p>
    <p>Merge Vertex</p>
    <p>A Save to Cache</p>
    <p>Incremental DAG</p>
    <p>Merge Vertex</p>
    <p>A A</p>
    <p>Incremental DAG  Remove Old Inputs</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>I1</p>
    <p>C</p>
    <p>I2</p>
    <p>C</p>
    <p>I1 I3</p>
    <p>C</p>
    <p>EmptyI2I1 I2I1 I3Empty</p>
  </div>
  <div class="page">
    <p>IDE in practiceIDE in practice</p>
    <p>IDE 6 (4+2) input DAG</p>
  </div>
  <div class="page">
    <p>MER in practiceMER in practice</p>
    <p>MER 9 (5+4) input DAG( ) p</p>
    <p>EmptyEmpty</p>
  </div>
  <div class="page">
    <p>Evaluation  Running timeEvaluation Running time Word Histogram Application  8 nodes</p>
    <p>e (s</p>
    <p>) no cache</p>
    <p>identical</p>
    <p>No Cache</p>
    <p>IDE</p>
    <p>in g</p>
    <p>Ti m</p>
    <p>e</p>
    <p>incrementalMER</p>
    <p>ob R</p>
    <p>un n</p>
    <p>Jo</p>
  </div>
  <div class="page">
    <p>DiscussionDiscussion</p>
    <p>MapReduce: just a particular case  IDE reuses the output of Mappers  MER requires combined Reduce function</p>
    <p>Combine IDE with MER: benefits dont add up  IDE can be used for the incremental DAG at MER</p>
    <p>More semantic knowledge: further opportunities  Generate merge function automatically  Improve incremental DAGImprove incremental DAG</p>
    <p>Sliding window on input data: IDE works unchanged, MER requires divide besides mergerequires divide besides merge</p>
  </div>
  <div class="page">
    <p>Conclusions &amp; QuestionsConclusions &amp; Questions</p>
    <p>Problem: reuse work in distributed computations p on appendonly data</p>
    <p>Two methods:  INC  reuse IDEntical past computations</p>
    <p>No user effortNo user effort  MER  MERge past results with new ones</p>
    <p>Small user effort, potentially larger gains</p>
    <p>Implemented for Dryad</p>
  </div>
</Presentation>
