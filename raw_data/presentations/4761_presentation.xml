<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Understanding Disconnection and Stabilization of Chord Understanding Disconnection and Understanding Disconnection and Stabilization of Chord Stabilization of Chord</p>
    <p>Zhongmei YaoZhongmei Yao Joint work with Dmitri LoguinovJoint work with Dmitri Loguinov Internet Research LabInternet Research Lab Department of Computer ScienceDepartment of Computer Science Texas A&amp;M University, College Station, TX 77843Texas A&amp;M University, College Station, TX 77843</p>
    <p>April 17, 2008April 17, 2008</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Background and Motivation</p>
    <p>Disconnection of Chord under Static Node Failure</p>
    <p>Disconnection of Chord under Dynamic Node Failure</p>
    <p>Node Isolation</p>
    <p>Graph Disconnection</p>
    <p>Stabilization Strategies</p>
    <p>Wrap-up</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Successor Sets in DHTsSuccessor Sets in Successor Sets in DHTsDHTs</p>
    <p>We study one particular DHT, Chord</p>
    <p>Each user maintains a list of r</p>
    <p>successors</p>
    <p>When all of r</p>
    <p>successors of a node fail, the graph is disrupted</p>
    <p>Roles of Successor lists</p>
    <p>Successor lists ensure correctness of lookup and connection of the graph, whereas routing tables are mainly used for reducing lookup latency</p>
    <p>Unlike routing tables, a different strategy is used in Chord to stabilize successor lists</p>
    <p>There exists strong dependency among successor lists of consecutive users on the ring</p>
    <p>As illustrated, the number of common successors shared by two consecutive nodes is r</p>
    <p>u</p>
    <p>v</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>BackgroundBackgroundBackground Node Failure in P2P Networks</p>
    <p>Routing table Successor list</p>
    <p>A brief announcement (e.g., find r</p>
    <p>successors w.h.p.)</p>
    <p>Gummadi 2003, Kaashoek 2003, Leonard 2005</p>
    <p>Static node failure (i.e., p-fraction)</p>
    <p>Dynamic node failure (i.e., churn)</p>
    <p>Routing tableSuccessor list</p>
    <p>Krishnamurthy 2005, Leonard 2005</p>
    <p>Stoica 2003 Krishnamurthy 2004 (TR)</p>
    <p>Studied graph disconnection for fixed r</p>
    <p>= 2</p>
    <p>and Markovian systems</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Background and Motivation</p>
    <p>Disconnection of Chord under Static Node Failure</p>
    <p>Disconnection of Chord under Dynamic Node Failure</p>
    <p>Node Isolation</p>
    <p>Graph Disconnection</p>
    <p>Stabilization Strategies</p>
    <p>Wrap-up</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Model BasicsModel BasicsModel Basics  Suppose that each node in Chord correctly links to its r</p>
    <p>closest successors</p>
    <p>Consider the resilience of Chord when each user becomes dead with an independent probability p</p>
    <p>This is a one-time simultaneous failure event</p>
    <p>Note that Chord is connected iff each user has at least one alive successor among its r</p>
    <p>successors</p>
    <p>Define a Bernoulli random variable Xi</p>
    <p>for each node i:</p>
    <p>Call the event Xi</p>
    <p>= 1</p>
    <p>as isolation of node i</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Disconnection under Static Node FailureDisconnection under Static Node FailureDisconnection under Static Node Failure  The number of isolated nodes in a system with n</p>
    <p>users</p>
    <p>is:</p>
    <p>The probability that Chord is connected is equal to:</p>
    <p>Using the Erds and Rnyi law, we obtain the next result</p>
    <p>Theorem 1: Given that r</p>
    <p>as n</p>
    <p>, the probability that Chord remains connected under pfraction node failure is:</p>
    <p>Sum of dependent random variables</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Disconnection under Static Node FailureDisconnection under Static Node FailureDisconnection under Static Node Failure</p>
    <p>Simulation results on the non-partitioning probability of Chord</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>DiscussionDiscussionDiscussion  Note that for r</p>
    <p>as n</p>
    <p>, node isolations</p>
    <p>become rare events P(Xi</p>
    <p>= 1)</p>
    <p>= (1  p)pr</p>
    <p>0</p>
    <p>The probability that Chord is connected can then be transformed into:</p>
    <p>The above shows that variables Xi</p>
    <p>behave as if they are completely independent</p>
    <p>Though dependency among successors of consecutive users is very strong, Chord exhibits the same static resilience as other P2P networks using mostly independent peers in their routing tables (see Leonard 2005)</p>
    <p>The rate of convergence of P(X</p>
    <p>= 0)</p>
    <p>is different</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Background and Motivation</p>
    <p>Disconnection of Chord under Static Node Failure</p>
    <p>Disconnection of Chord under Dynamic Node Failure</p>
    <p>Node Isolation</p>
    <p>Graph Disconnection</p>
    <p>Stabilization Strategies</p>
    <p>Wrap-up</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Model BasicsModel BasicsModel Basics</p>
    <p>Unlike static node failure, user arrivals/departures are not synchronized in human-based P2P networks</p>
    <p>Model basics</p>
    <p>Each joining user obtains r</p>
    <p>closest successors and leaves the system in L</p>
    <p>time units</p>
    <p>Each user performs stabilization every S</p>
    <p>time units on the entire successor list</p>
    <p>At the end of each stabilization, bring the number of successors back to r</p>
    <p>(old successors + newly arriving users)</p>
    <p>Denote by Z(t)</p>
    <p>the number of successors of user v</p>
    <p>at time t</p>
    <p>, where time 0</p>
    <p>is the time when v</p>
    <p>joins the system</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Exact Node Isolation ModelExact Node Isolation ModelExact Node Isolation Model  Define the first-hitting time T</p>
    <p>onto state 0:</p>
    <p>Lemma 1: For exponential user lifetimes with rate  and exponential stabilization intervals with rate , {Z(t)}</p>
    <p>is a continuous-time Markov chain</p>
    <p>Using the Markov chain, we obtain the PDF fT</p>
    <p>(t)</p>
    <p>of T</p>
    <p>The probability that node v</p>
    <p>is isolated due to the failure of the entire successor list within vs lifetime is then:</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Exact Node Isolation ModelExact Node Isolation ModelExact Node Isolation Model  Simulation results on isolation probability</p>
    <p>for mean</p>
    <p>user lifetime E[L] = 30</p>
    <p>minutes and E[S] = 2</p>
    <p>minutes</p>
    <p>The model is accurate for exponential L</p>
    <p>and S</p>
    <p>As r</p>
    <p>increases or E[S] decreases,</p>
    <p>sharply</p>
    <p>decreases</p>
    <p>This exact model will be used to verify the accuracy of our later closed-form bounds on</p>
    <p>when other distributions of</p>
    <p>S</p>
    <p>are used</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Graph DisconnectionGraph DisconnectionGraph Disconnection  Recall that Xi</p>
    <p>is a Bernoulli variable indicating whether node i</p>
    <p>is isolated within its lifetime due to the failure of</p>
    <p>its successor list:</p>
    <p>If Xi</p>
    <p>= 0, the network is said to survive the presence of use i</p>
    <p>Supposing that N</p>
    <p>users have joined the system, the number of isolations among N</p>
    <p>continuous</p>
    <p>join/departure events:</p>
    <p>Open question: how do individual node isolations affect the connectivity of Chord under churn P(XN</p>
    <p>= 0)?</p>
    <p>Sum of dependent random variables</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Graph DisconnectionGraph DisconnectionGraph Disconnection  Define Bi</p>
    <p>to be the set of users who share at least one successors of user i</p>
    <p>For |Bi</p>
    <p>| = 2r</p>
    <p>1, we use the Chen-Stein method to show that XN</p>
    <p>is asymptotically a Poisson random variable under the condition given below</p>
    <p>Theorem 2: Given that Nr</p>
    <p>0 as N</p>
    <p>, the probability that Chord survives N</p>
    <p>user joins without</p>
    <p>disconnection approaches:</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Graph DisconnectionGraph DisconnectionGraph Disconnection  Simulation results on P(XN</p>
    <p>= 0)</p>
    <p>that Chord</p>
    <p>accommodates N</p>
    <p>joining users without disconnection</p>
    <p>r</p>
    <p>= 8, mean system size 2,500, E[L] = 0.5</p>
    <p>hours, and</p>
    <p>=E[L]/E[S]</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>DiscussionDiscussionDiscussion  A similar result P(XN</p>
    <p>= 0)</p>
    <p>=</p>
    <p>(1</p>
    <p>)N</p>
    <p>was observed in Leonard 2005 without proof where node isolations thought neighbor sets are considered as independent events</p>
    <p>Our result is formally proven and is stronger than Leonard 2005 since it applies to successor lists having dependency during failure</p>
    <p>As node isolations become rare, the probability of nonpartitioning of Chord converges to that of avoiding isolation of each joining user</p>
    <p>Node isolation probability provides sufficient information to predict the disconnection probability of Chord</p>
    <p>Next, we focus on node isolation probability when different distributions of stabilization intervals are used</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>AgendaAgendaAgenda</p>
    <p>Background and Motivation</p>
    <p>Disconnection of Chord under Static Node Failure</p>
    <p>Disconnection of Chord under Dynamic Node Failure</p>
    <p>Node Isolation</p>
    <p>Graph Disconnection</p>
    <p>Stabilization Strategies</p>
    <p>Wrap-up</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Closed-Form Bounds on Node Isolation Probability ClosedClosed--Form Bounds on Node Isolation Form Bounds on Node Isolation ProbabilityProbability</p>
    <p>Note that the sequence of stabilization intervals forms a renewal process with cycle length S</p>
    <p>The probability that all r</p>
    <p>successors fail in a particular interval S</p>
    <p>is given by:</p>
    <p>Based on renewal theory and Jensens inequality, we derive a simple bound using f</p>
    <p>for isolation probability</p>
    <p>remaining lifetime of the i-th successor</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Closed-Form BoundsClosedClosed--Form BoundsForm Bounds  Theorem 3: For L</p>
    <p>exp()</p>
    <p>and S</p>
    <p>exp(), isolation</p>
    <p>probability</p>
    <p>is upper-bounded by:</p>
    <p>Moreover, as</p>
    <p>, the upper bound becomes exact</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Uniform Stabilization DelaysUniform Stabilization DelaysUniform Stabilization Delays  Theorem 4: For fixed r &gt; 3</p>
    <p>and E[L], and uniform</p>
    <p>intervals S</p>
    <p>[0,</p>
    <p>u</p>
    <p>for uniform S</p>
    <p>to</p>
    <p>for exponential S</p>
    <p>approaches:</p>
    <p>Model u</p>
    <p>/</p>
    <p>= .0127</p>
    <p>for E[L] = 0.5 hours, r</p>
    <p>= 6</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity  Theorem 5: For exponential L</p>
    <p>and the same mean E[S], isolation probability c</p>
    <p>under constant stabilization delays S</p>
    <p>is no greater than that under any</p>
    <p>random S, where:</p>
    <p>The above result shows that using constant intervals is not only a simple but optimal method to stabilize successors in Chord</p>
    <p>Optimal Stabilization StrategyOptimal Stabilization StrategyOptimal Stabilization Strategy</p>
  </div>
  <div class="page">
    <p>m p</p>
    <p>ut e</p>
    <p>ie nc</p>
    <p>e , T</p>
    <p>e xa</p>
    <p>s A</p>
    <p>&amp; M</p>
    <p>U ni</p>
    <p>ve rs</p>
    <p>ity</p>
    <p>Wrap-upWrapWrap--upup</p>
    <p>We derived formulas for the resilience of Chords successor lists</p>
    <p>Under static node failure, Chord enjoyed the same resilience through the successor list as many other P2P networks though their neighbor sets</p>
    <p>Under dynamic node failure, we used the Chen-Stein method to show that isolations of individual peers can be treated as independent when system size and successor lists become large</p>
    <p>We analyzed the effect of periodic stabilizations</p>
    <p>Stabilization with constant intervals was optimal and kept Chord connected with the highest probability</p>
  </div>
</Presentation>
