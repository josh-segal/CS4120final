<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Sol Fast Distributed Computation Over Slow Networks</p>
    <p>Fan Lai, Jie You, Xiangfeng Zhu</p>
    <p>Harsha V. Madhyastha, Mosharaf Chowdhury 1</p>
  </div>
  <div class="page">
    <p>Distributed computation in Local-Area Networks (LAN)  To accelerate executions within a single cluster</p>
    <p>Distributed Data Processing is Ubiquitous</p>
  </div>
  <div class="page">
    <p>Computation over Wide-Area Networks (WAN)  To reduce data transfers, mitigate privacy risks</p>
    <p>Distributed computation in Local-Area Networks (LAN)  To accelerate executions within a single cluster</p>
    <p>Distributed Data Processing is Ubiquitous</p>
    <p>Google Spanner</p>
    <p>Iridium CLARINEt</p>
    <p>Efforts for Computation over WAN</p>
    <p>Azure Cosmos DB</p>
    <p>Tetrium</p>
    <p>Efforts for Computation in LAN</p>
  </div>
  <div class="page">
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
  </div>
  <div class="page">
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
  </div>
  <div class="page">
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
    <p>Typical job execution plans</p>
    <p>Job 2Job 1</p>
  </div>
  <div class="page">
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Coordinator Worker1 Worker2 WorkerN</p>
    <p>Execution Engine</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
  </div>
  <div class="page">
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Storage SystemResource Scheduler</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Coordinator Worker1 Worker2 WorkerN</p>
    <p>Execution Engine</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
  </div>
  <div class="page">
    <p>Google Spanner</p>
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Storage SystemResource Scheduler</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Coordinator Worker1 Worker2 WorkerN</p>
    <p>Execution Engine</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
    <p>Efforts for Computation in LAN</p>
    <p>Iridium CLARINEt</p>
    <p>Efforts for Computation over WAN</p>
    <p>Azure Cosmos DB</p>
    <p>Tetrium</p>
  </div>
  <div class="page">
    <p>Google Spanner</p>
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Storage SystemResource Scheduler</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Coordinator Worker1 Worker2 WorkerN</p>
    <p>Execution Engine</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
    <p>Efforts for Computation in LAN Iridium</p>
    <p>CLARINEt</p>
    <p>Efforts for Computation over WAN Azure</p>
    <p>Cosmos DBTetrium 3</p>
  </div>
  <div class="page">
    <p>Google Spanner</p>
    <p>Execution Engine: Core of Big Data Stack</p>
    <p>SQL Queries</p>
    <p>AI/ML</p>
    <p>Execution Planner</p>
    <p>Storage SystemResource Scheduler</p>
    <p>Select * FROM ;</p>
    <p>K-means, SVM</p>
    <p>Coordinator Worker1 Worker2 WorkerN</p>
    <p>Execution Engine</p>
    <p>Stream Processing</p>
    <p>WordCount,TopKCount</p>
    <p>Efforts for Computation in LAN Iridium</p>
    <p>CLARINEt</p>
    <p>Efforts for Computation over WAN Azure</p>
    <p>Cosmos DBTetrium 3</p>
    <p>While network conditions are diverse in real, execution</p>
    <p>engines remain the same</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Todays Execution Engines</p>
    <p>Sol Architecture</p>
    <p>Control Plane Design</p>
    <p>Data Plane Design</p>
    <p>Evaluation</p>
  </div>
  <div class="page">
    <p>C D</p>
    <p>F ac</p>
    <p>ro ss</p>
    <p>Q ue</p>
    <p>ri es</p>
    <p>Impact of Networks on Latency-sensitive Jobs</p>
    <p>Queries from 100 GB TPC Benchmarks</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
  </div>
  <div class="page">
    <p>C D</p>
    <p>F ac</p>
    <p>ro ss</p>
    <p>Q ue</p>
    <p>ri es</p>
    <p>Impact of Networks on Latency-sensitive Jobs</p>
    <p>Queries from 100 GB TPC Benchmarks</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
  </div>
  <div class="page">
    <p>C D</p>
    <p>F ac</p>
    <p>ro ss</p>
    <p>Q ue</p>
    <p>ri es</p>
    <p>Impact of Networks on Latency-sensitive Jobs</p>
    <p>Queries from 100 GB TPC Benchmarks</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
  </div>
  <div class="page">
    <p>Slow job execution in high-latency networks</p>
    <p>Problem #1</p>
    <p>C D</p>
    <p>F ac</p>
    <p>ro ss</p>
    <p>Q ue</p>
    <p>ri es</p>
    <p>Impact of Networks on Latency-sensitive Jobs</p>
    <p>Queries from 100 GB TPC Benchmarks</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
  </div>
  <div class="page">
    <p>Slow job execution in high-latency networks</p>
    <p>Problem #1</p>
    <p>Control Plane Inefficiency Due to High Latency</p>
    <p>Coordinator Worker</p>
    <p>Busy</p>
    <p>O(1) ms</p>
    <p>T im</p>
    <p>e</p>
    <p>Tasks</p>
    <p>Launch()</p>
  </div>
  <div class="page">
    <p>Slow job execution in high-latency networks</p>
    <p>Problem #1</p>
    <p>Control Plane Inefficiency Due to High Latency</p>
    <p>Coordinator Worker</p>
    <p>Busy</p>
    <p>O(1) ms</p>
    <p>T im</p>
    <p>e</p>
    <p>Busy</p>
    <p>Tasks</p>
    <p>Tasks</p>
    <p>Launch()</p>
    <p>Complete()</p>
    <p>Launch()</p>
    <p>Complete()</p>
  </div>
  <div class="page">
    <p>Slow job execution in high-latency networks</p>
    <p>Problem #1</p>
    <p>Control Plane Inefficiency Due to High Latency</p>
    <p>Coordinator Worker</p>
    <p>Busy</p>
    <p>Com plete</p>
    <p>()</p>
    <p>Launch()</p>
    <p>T im</p>
    <p>e</p>
    <p>Busy</p>
    <p>Launch()</p>
    <p>Com plete</p>
    <p>()</p>
    <p>Idle</p>
    <p>Tasks</p>
    <p>Tasks</p>
    <p>O(100) ms</p>
    <p>Late-binding of tasks postpones scheduling</p>
  </div>
  <div class="page">
    <p>Impact of Networks on Bandwidth-intensive Jobs</p>
    <p>Stage 1 Stage 2</p>
    <p>Data transfers over networks</p>
    <p>Stage 3</p>
    <p>Query25 on 1TB TPC benchmark</p>
  </div>
  <div class="page">
    <p>Impact of Networks on Bandwidth-intensive Jobs</p>
    <p>Stage 1 Stage 2</p>
    <p>Data transfers over networks</p>
    <p>Stage 3</p>
    <p>Query25 on 1TB TPC benchmark Resource utilization throughout the job</p>
    <p>Pe rc</p>
    <p>en ta</p>
    <p>ge of</p>
    <p>th e</p>
    <p>To ta</p>
    <p>l( %</p>
    <p>) Occupied CPUs CPU Util. B/w Util.</p>
    <p>Stage 1 Stage 2 Stage 3</p>
    <p>Time (s)</p>
  </div>
  <div class="page">
    <p>Impact of Networks on Bandwidth-intensive Jobs</p>
    <p>Stage 1 Stage 2</p>
    <p>Data transfers over networks</p>
    <p>Stage 3</p>
    <p>Query25 on 1TB TPC benchmark</p>
    <p>Pe rc</p>
    <p>en ta</p>
    <p>ge of</p>
    <p>th e</p>
    <p>To ta</p>
    <p>l( %</p>
    <p>) Occupied CPUs CPU Util. B/w Util.</p>
    <p>Resource utilization throughout the job</p>
    <p>Stage 1 Stage 2 Stage 3</p>
    <p>Time (s)</p>
    <p>Low CPU util.</p>
  </div>
  <div class="page">
    <p>Resource utilization throughout the job</p>
    <p>Pe rc</p>
    <p>en ta</p>
    <p>ge of</p>
    <p>th e</p>
    <p>To ta</p>
    <p>l( %</p>
    <p>) Occupied CPUs CPU Util. B/w Util.</p>
    <p>Stage 1 Stage 2 Stage 3</p>
    <p>Time (s)</p>
    <p>Pe rc</p>
    <p>en ta</p>
    <p>ge of</p>
    <p>th e</p>
    <p>To ta</p>
    <p>l( %</p>
    <p>) Occupied CPUs CPU Util. B/w Util.</p>
    <p>Resource utilization throughout the job</p>
    <p>Stage 1 Stage 2 Stage 3</p>
    <p>Time (s)</p>
    <p>CPU underutilization in low-bandwidth networks</p>
    <p>Data Plane Inefficiency Due to Low Bandwidth</p>
    <p>Stage 1 Stage 2</p>
    <p>Data transfers over networks</p>
    <p>Stage 3</p>
    <p>Query25 on 1TB TPC benchmark</p>
    <p>Tasks hog CPUs throughout the lifespan</p>
    <p>Problem #2</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Todays Execution Engines</p>
    <p>Sol Architecture</p>
    <p>Control Plane Design</p>
    <p>Data Plane Design</p>
    <p>Evaluation</p>
    <p>Problem #1</p>
    <p>High latency  Idleness of workers</p>
    <p>Problem #2</p>
    <p>Low b/w  CPU underutilization</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Todays Execution Engines</p>
    <p>Sol Architecture</p>
    <p>Control Plane Design</p>
    <p>Data Plane Design</p>
    <p>Evaluation</p>
    <p>A federated execution engine for diverse network conditions w/  faster job execution  higher resource utilization</p>
    <p>Sol</p>
  </div>
  <div class="page">
    <p>LAN</p>
    <p>Sol: A Federated Execution Engine</p>
    <p>Central Coordinator  Coordinate inter-site executions</p>
    <p>WAN</p>
    <p>O(100) ms</p>
    <p>Sol Coordinator Task Arrivals</p>
    <p>Site 2 Site 3WAN</p>
    <p>O(100) ms</p>
    <p>Site 1</p>
  </div>
  <div class="page">
    <p>LAN</p>
    <p>Sol: A Federated Execution Engine</p>
    <p>Central Coordinator  Coordinate inter-site executions</p>
    <p>Site Manager  Coordinate local workers  Manage queued tasks</p>
    <p>WAN</p>
    <p>O(100) ms</p>
    <p>Sol Coordinator Task Arrivals</p>
    <p>Site 2 Site 3WAN</p>
    <p>O(100) ms</p>
    <p>Site Manager LAN</p>
  </div>
  <div class="page">
    <p>LAN</p>
    <p>Sol: A Federated Execution Engine</p>
    <p>Central Coordinator  Coordinate inter-site executions</p>
    <p>Site Manager  Coordinate local workers  Manage queued tasks</p>
    <p>WAN</p>
    <p>O(100) ms</p>
    <p>Sol Coordinator Task Arrivals</p>
    <p>Site 2 Site 3WAN</p>
    <p>O(100) ms</p>
    <p>Site Manager LAN</p>
  </div>
  <div class="page">
    <p>LAN</p>
    <p>Sol: A Federated Execution Engine</p>
    <p>Central Coordinator  Coordinate inter-site executions</p>
    <p>Site Manager  Coordinate local workers  Manage queued tasks</p>
    <p>Task Manager  Manage worker resource</p>
    <p>WAN LAN</p>
    <p>O(100) ms</p>
    <p>Sol Coordinator Task Arrivals</p>
    <p>Site 2 Site 3WAN</p>
    <p>O(100) ms</p>
    <p>Worker Task</p>
    <p>Manager</p>
    <p>Worker Task</p>
    <p>Manager</p>
    <p>Site Manager LAN</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Todays Execution Engines</p>
    <p>Sol Architecture</p>
    <p>Control Plane Design</p>
    <p>Data Plane Design</p>
    <p>Evaluation</p>
    <p>Push tasks proactively to reduce worker idle time</p>
    <p>Problem #1</p>
    <p>High latency  Idleness of workers</p>
  </div>
  <div class="page">
    <p>Task Early-binding in Control Plane</p>
    <p>Coordinator Worker</p>
    <p>T im</p>
    <p>e</p>
    <p>Comp lete()</p>
    <p>Busy</p>
    <p>O(100) ms</p>
    <p>Launch() Idle</p>
    <p>Launch()</p>
    <p>Existing designs</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Task Early-binding in Control Plane</p>
    <p>Coordinator Worker</p>
    <p>T im</p>
    <p>e</p>
    <p>Site Manager</p>
    <p>O(100) ms O(1) ms</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Task Early-binding in Control Plane</p>
    <p>Coordinator Worker</p>
    <p>T im</p>
    <p>e</p>
    <p>Site Manager</p>
    <p>O(100) ms O(1) ms</p>
    <p>Launch( ) Tasks</p>
  </div>
  <div class="page">
    <p>Task Early-binding in Control Plane</p>
    <p>Coordinator Worker</p>
    <p>T im</p>
    <p>e</p>
    <p>Site Manager</p>
    <p>O(100) ms O(1) ms</p>
    <p>Launch( ) Launch()</p>
    <p>Complete() Busy</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Coordinator  Site Manager  Inter-site operations are early-binding  Guarantee high utilization</p>
    <p>Task Early-binding in Control Plane</p>
    <p>Coordinator Worker</p>
    <p>T im</p>
    <p>e</p>
    <p>Comp lete()</p>
    <p>Site Manager</p>
    <p>Launch() Idle</p>
    <p>Busy</p>
    <p>O(100) ms O(1) ms</p>
    <p>Launch( ) Launch()</p>
    <p>Complete() Busy</p>
    <p>Launch()</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Coordinator  Site Manager  Inter-site operations are early-binding  Guarantee high utilization</p>
    <p>Task Early-binding in Control Plane</p>
    <p>Coordinator Worker</p>
    <p>T im</p>
    <p>e</p>
    <p>Comp lete()</p>
    <p>Site Manager</p>
    <p>Launch() Idle</p>
    <p>Busy</p>
    <p>O(100) ms O(1) ms</p>
    <p>Launch( ) Launch()</p>
    <p>Complete() Busy</p>
    <p>Launch()</p>
    <p>Site Manager  Worker  Intra-site operations are late-binding  Retain precise views</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Challenge 1.1: How Many Tasks to Push?</p>
    <p>Coordinator Site Manager</p>
    <p>RTT</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Challenge 1.1: How Many Tasks to Push?</p>
    <p>Queue up too few  Not enough work  Underutilization</p>
    <p>Queue up too many  Scheduling too early  Suboptimal placement</p>
    <p>Coordinator Site Manager</p>
    <p>RTT</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Challenge 1.1: How Many Tasks to Push?</p>
    <p>Queue up too few  Not enough work  Underutilization</p>
    <p>Queue up too many  Scheduling too early  Suboptimal placement</p>
    <p>Target:  Total duration of queued tasks  Round-Trip Time(RTT)</p>
    <p>Coordinator Site Manager</p>
    <p>RTT</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Sol works well w/o precise knowledge of task duration  Hoeffding-bound (details in paper)</p>
    <p>Challenge 1.1: How Many Tasks to Push?</p>
    <p>Queue up too few  Not enough work  Underutilization</p>
    <p>Queue up too many  Scheduling too early  Suboptimal placement</p>
    <p>Target:  Total duration of queued tasks  Round-Trip Time(RTT)</p>
    <p>Coordinator Site Manager</p>
    <p>RTT</p>
    <p>Tasks</p>
    <p>Tasks</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Task placements depend on upstream outputs  In order to reduce data transfers over networks</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Task placements depend on upstream outputs  In order to reduce data transfers over networks</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Design in Existing Engines</p>
    <p>T1 T2</p>
    <p>T3</p>
    <p>Task Dependencies</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Task placements depend on upstream outputs  In order to reduce data transfers over networks</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Design in Existing Engines</p>
    <p>T1 T2</p>
    <p>T3</p>
    <p>Task Dependencies</p>
    <p>Output1</p>
    <p>Output2</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Task placements depend on upstream outputs  In order to reduce data transfers over networks</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
    <p>T1 T2</p>
    <p>T3</p>
    <p>Task Dependencies</p>
    <p>Output1</p>
    <p>Output2</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Task placements depend on upstream outputs  In order to reduce data transfers over networks</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
    <p>T1 T2</p>
    <p>T3</p>
    <p>Task Dependencies</p>
    <p>Output1</p>
    <p>Output2 W/o full knowledge, pushing leads to tradeoff</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Push w/ Correct Speculations</p>
    <p>T3</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Complete(T1)</p>
    <p>Complete(T2)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Push w/ Correct Speculations</p>
    <p>T3</p>
    <p>Sol saves RTTs</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
    <p>Activate(T3)</p>
  </div>
  <div class="page">
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
  </div>
  <div class="page">
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Push under Mispredictions</p>
    <p>Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
    <p>T3</p>
  </div>
  <div class="page">
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Push under Mispredictions</p>
    <p>Complete(T1) Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
    <p>T3</p>
  </div>
  <div class="page">
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Push under Mispredictions</p>
    <p>Cancel(T3)</p>
    <p>Complete(T1) Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
  </div>
  <div class="page">
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Challenge 1.2: How to Push Tasks w/ Dependencies?</p>
    <p>Complete(T2)</p>
    <p>Push under Mispredictions</p>
    <p>Start(T3)</p>
    <p>Re-Schedule(T3)</p>
    <p>Cancel(T3)</p>
    <p>Sol does not make things worse</p>
    <p>Complete(T1) Complete(T1)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2 Complete(T2)</p>
    <p>Start(T3)</p>
    <p>Launch(T3)</p>
    <p>Design in Existing Engines</p>
  </div>
  <div class="page">
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Task Early-binding in Control Plane</p>
    <p>Complete(T2)</p>
    <p>Push under Mispredictions</p>
    <p>Start(T3)</p>
    <p>Re-Schedule(T3)</p>
    <p>Cancel(T3)</p>
    <p>Sol retains good scheduling quality</p>
    <p>Sol improves utilization while retaining good scheduling quality</p>
    <p>Complete(T1)</p>
    <p>T3</p>
    <p>Complete(T1)</p>
    <p>Complete(T2)</p>
    <p>C</p>
    <p>S1</p>
    <p>S2</p>
    <p>Time</p>
    <p>T1</p>
    <p>T2</p>
    <p>Push w/ Correct Speculations</p>
    <p>T3</p>
    <p>Sol improves utilization</p>
    <p>Activate(T3)</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Todays Execution Engines</p>
    <p>Sol Architecture</p>
    <p>Control Plane Design</p>
    <p>Data Plane Design</p>
    <p>Evaluation</p>
    <p>Decouple resource provisioning to improve</p>
    <p>CPU utilization</p>
    <p>Problem #2</p>
    <p>Low b/w  CPU underutilization</p>
  </div>
  <div class="page">
    <p>Resource Decoupling in Data Plane</p>
    <p>Decouple the resource provisioning internally with  Communication task: prepare data over networks</p>
  </div>
  <div class="page">
    <p>Resource Decoupling in Data Plane</p>
    <p>Decouple the resource provisioning internally with  Communication task: prepare data over networks  Computation task: perform computation on input</p>
  </div>
  <div class="page">
    <p>Resource Decoupling in Data Plane</p>
    <p>Decouple the resource provisioning internally with  Communication task: prepare data over networks</p>
    <p>Sol scales down CPU requirements and reclaims unused CPUs</p>
    <p>Computation task: perform computation on input</p>
  </div>
  <div class="page">
    <p>Challenge 2: How to Manage Jobs?</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Large remote read?</p>
    <p>Control flow of decoupling</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Large remote read?</p>
    <p>Control flow of decoupling</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>How many communication tasks to create?  Too few  Network is not saturated  Too many  CPUs are not saturated</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Large remote read?</p>
    <p>Control flow of decoupling</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>How many communication tasks to create?  Too few  Network is not saturated  Too many  CPUs are not saturated } Adapt to available bandwidth</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Large remote read?</p>
    <p>Control flow of decoupling</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Control flow of decoupling</p>
    <p>How to manage the computation tasks?</p>
    <p>Large remote read?</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Control flow of decoupling</p>
    <p>Available CPUs</p>
    <p>N</p>
    <p>How to manage the computation tasks?</p>
    <p>Pending tasks</p>
    <p>Large remote read?</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Control flow of decoupling</p>
    <p>Available CPUs</p>
    <p>N</p>
    <p>How to manage the computation tasks?</p>
    <p>Y</p>
    <p>Pending tasks</p>
    <p>Large remote read?</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Control flow of decoupling</p>
    <p>Available CPUs</p>
    <p>N</p>
    <p>How to manage the computation tasks?  Prioritize them when data is ready</p>
    <p>Y</p>
    <p>Pending tasks</p>
    <p>Large remote read?</p>
  </div>
  <div class="page">
    <p>For bandwidth-intensive task</p>
    <p>Challenge 2: How to Manage Jobs?</p>
    <p>Incoming tasks</p>
    <p>Create comm. taskY</p>
    <p>Complete comm. ?</p>
    <p>Control flow of decoupling</p>
    <p>Available CPUs</p>
    <p>N</p>
    <p>How to manage the computation tasks?  Prioritize them when data is ready</p>
    <p>Y</p>
    <p>Pending tasks</p>
    <p>Large remote read?</p>
  </div>
  <div class="page">
    <p>Evaluation With a prototype supporting</p>
    <p>generic data processing</p>
    <p>Environment  10-site deployment in EC2  4 m4.4xlarge VMs in each site</p>
    <p>Deployment over WAN</p>
  </div>
  <div class="page">
    <p>Evaluation With a prototype supporting</p>
    <p>generic data processing</p>
    <p>How does Sol perform:</p>
    <p>Environment  10-site deployment in EC2  4 m4.4xlarge VMs in each site</p>
    <p>Deployment over WAN</p>
  </div>
  <div class="page">
    <p>Sol Improves Job Performance and Resource Util. (WAN)</p>
    <p>Benchmark  multi-job execution  Latency-sensitive TPC queries  Bandwidth-intensive TeraSort</p>
    <p>Baseline  Apache Spark</p>
  </div>
  <div class="page">
    <p>Sol Improves Job Performance and Resource Util. (WAN)</p>
    <p>Benchmark  multi-job execution  Latency-sensitive TPC queries  Bandwidth-intensive TeraSort</p>
    <p>Baseline  Apache Spark</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol</p>
    <p>Spark</p>
  </div>
  <div class="page">
    <p>Sol Improves Job Performance and Resource Util. (WAN)</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol Sol  Spark</p>
    <p>Control-plane benefits (2.6x on avg.)</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol Sol  Spark</p>
    <p>Control plane benefits (2.6x on avg.)</p>
    <p>Job Performance</p>
    <p>Data plane benefits</p>
    <p>Control Plane: Early-binding  Less idle time</p>
    <p>Sol w/o decoupling</p>
  </div>
  <div class="page">
    <p>Sol Improves Job Performance and Resource Util. (WAN)</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol Sol  Spark</p>
    <p>Data-plane benefits</p>
    <p>Control-plane benefits (2.6x on avg.)</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol Sol  Spark</p>
    <p>Control plane benefits (2.6x on avg.)</p>
    <p>Job Performance</p>
    <p>Data plane benefits</p>
    <p>Control Plane: Early-binding  Less idle time</p>
    <p>Data Plane: Decoupling  Less under-util.</p>
    <p>Sol w/o decoupling</p>
  </div>
  <div class="page">
    <p>Sol Improves Job Performance and Resource Util. (WAN)</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol Sol  Spark</p>
    <p>Data-plane benefits</p>
    <p>Control-plane benefits (2.6x on avg.)</p>
    <p>Job Completion Time (s)</p>
    <p>C D</p>
    <p>F</p>
    <p>Sol Sol  Spark</p>
    <p>Control plane benefits (2.6x on avg.)</p>
    <p>Job Performance</p>
    <p>Data plane benefits</p>
    <p>Control Plane: Early-binding  Less idle time</p>
    <p>Data Plane: Decoupling  Less under-util.</p>
    <p>+</p>
    <p>Sol w/o decoupling</p>
  </div>
  <div class="page">
    <p>Sol Performs Well Across Design Space (LAN)</p>
    <p>High-bandwidth setting (10 Gbps)</p>
    <p>C D</p>
    <p>F</p>
    <p>Spark Sol</p>
    <p>C D</p>
    <p>F</p>
    <p>Spark Sol</p>
    <p>Low-bandwidth setting (1 Gbps)</p>
  </div>
  <div class="page">
    <p>Sol https://github.com/SymbioticLab/Sol</p>
    <p>A federated execution engine for diverse network conditions with  Faster job execution  Higher resource utilization</p>
    <p>Improve CPU util.{ before task executions</p>
    <p>during task executions</p>
    <p>Early-binding of tasks</p>
    <p>Decoupling of resource provisioning</p>
  </div>
</Presentation>
