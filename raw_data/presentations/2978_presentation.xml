<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Customizable and Extensible Deployment of</p>
    <p>Mobile/Cloud Applications</p>
    <p>Irene Zhang Adriana Szekeres Dana Van Aken Isaac Ackerman,</p>
    <p>Steven D. Gribble Arvind Krishnamurthy Henry M. Levy</p>
    <p>University of Washington</p>
  </div>
  <div class="page">
    <p>Once upon a time, applications were..</p>
    <p>single user, single platform, and single node.</p>
    <p>App</p>
    <p>OS</p>
  </div>
  <div class="page">
    <p>OS</p>
    <p>App</p>
    <p>Today, applications are ...</p>
    <p>multi-user, multi-platform and multi-node</p>
    <p>OS OS</p>
    <p>Mobile App</p>
    <p>Mobile App</p>
  </div>
  <div class="page">
    <p>Application programmers face new challenges.</p>
    <p>How do I coordinate data and computation across nodes and platforms?</p>
    <p>How do I manage different programming environments and hardware resources?</p>
    <p>How do I hide performance limitations and failures?</p>
  </div>
  <div class="page">
    <p>Application programmers face new challenges.</p>
    <p>How do I coordinate data and computation across nodes and platforms?</p>
    <p>How do I manage different programming environments and hardware resources?</p>
    <p>How do I hide performance limitations and failures?</p>
    <p>These sound like distributed systems problems!</p>
  </div>
  <div class="page">
    <p>Application programmers face new challenges.</p>
    <p>How do I coordinate data and computation across nodes and platforms?</p>
    <p>How do I manage different programming environments and hardware resources?</p>
    <p>How do I hide performance limitations and failures?</p>
    <p>These sound like distributed systems problems!</p>
  </div>
  <div class="page">
    <p>I need reliable RPC.</p>
    <p>I need distributed objects.</p>
    <p>No, I want caching!</p>
    <p>But, I want replication!I need code-offloading.</p>
    <p>Application programmers have different requirements.</p>
  </div>
  <div class="page">
    <p>I need reliable RPC.</p>
    <p>I need distributed objects.</p>
    <p>No, I want caching!</p>
    <p>But, I want replication!I need code-offloading.</p>
    <p>They are left implementing distributed deployment tasks!</p>
    <p>Application programmers have different requirements.</p>
  </div>
  <div class="page">
    <p>I need reliable RPC.</p>
    <p>I need distributed objects.</p>
    <p>No, I want caching!</p>
    <p>But, I want replication!I need code-offloading.</p>
    <p>They are left implementing distributed deployment tasks!</p>
    <p>Application programmers have different requirements.</p>
    <p>PROFESSIONAL SYSTEMS PROGRAMMER REQUIRED.</p>
    <p>DO NOT ATTEMPT AT HOME.</p>
  </div>
  <div class="page">
    <p>Sapphire</p>
    <p>A new programming system for deploying</p>
    <p>mobile/cloud applications.</p>
  </div>
  <div class="page">
    <p>Our Goals</p>
  </div>
  <div class="page">
    <p>Our Solution</p>
    <p>A new system architecture that supports</p>
    <p>pluggable and extensible deployment managers.</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>App</p>
    <p>Sapphire Architecture</p>
    <p>Mobile App</p>
    <p>Mobile AppApp</p>
    <p>Sapphire ObjectSapphire Application</p>
    <p>DK Server DK Server DK ServerDeployment Management Layer</p>
    <p>Deployment Kernel OSOS OS</p>
  </div>
  <div class="page">
    <p>Partitioned into Sapphire Objects, which:</p>
    <p>Run in a single address space with RPC.  Execute anywhere and move transparently.  Provide a unit of distribution for</p>
    <p>deployment managers.</p>
    <p>Sapphire Application</p>
  </div>
  <div class="page">
    <p>App</p>
    <p>Sapphire Architecture</p>
    <p>Mobile App</p>
    <p>Mobile App</p>
    <p>DK Server DK Server DK ServerDeployment Management Layer</p>
    <p>Deployment Kernel OSOS OS</p>
  </div>
  <div class="page">
    <p>Provides best-effort distribution services, including:</p>
    <p>Sapphire object tracking, mobility and replication.</p>
    <p>Making and routing RPC to Sapphire objects.  Managing, distributing and running</p>
    <p>deployment managers.</p>
    <p>Deployment Kernel</p>
  </div>
  <div class="page">
    <p>App</p>
    <p>Sapphire Architecture</p>
    <p>Mobile App</p>
    <p>Mobile App</p>
    <p>DK Server DK Server DK ServerDeployment Management Layer</p>
    <p>DK Server DK Server OTS</p>
    <p>Server OSOSOS</p>
  </div>
  <div class="page">
    <p>Consists of deployment managers, which:</p>
    <p>Extend the functions and guarantees of the deployment kernel.</p>
    <p>Interpose on Sapphire object events.  Easy to choose and change without</p>
    <p>modifying the application.</p>
    <p>Deployment Management Layer</p>
  </div>
  <div class="page">
    <p>App</p>
    <p>Sapphire Architecture</p>
    <p>Mobile App</p>
    <p>Mobile App</p>
    <p>Replication Code-offloadingLease Caching</p>
    <p>DK Server DK Server</p>
    <p>OSOS</p>
    <p>OTS Server</p>
    <p>OS</p>
  </div>
  <div class="page">
    <p>Sapphire Deployment Manager Library</p>
    <p>Immutable</p>
    <p>AtLeastOnce RPC</p>
    <p>Keep In Place</p>
    <p>Keep On Device</p>
    <p>Keep In Cloud</p>
    <p>Primitives</p>
    <p>Explicit Caching</p>
    <p>Lease Caching</p>
    <p>Writethrough Caching</p>
    <p>Consistent Caching</p>
    <p>Caching</p>
    <p>Serializable RPC</p>
    <p>Locking Transactions</p>
    <p>Optimistic Transactions</p>
    <p>Serializability</p>
    <p>Explicit Checkpoint</p>
    <p>Periodic Checkpoint</p>
    <p>DurableRPC</p>
    <p>Durable Transactions</p>
    <p>Checkpoint</p>
    <p>RSM-Cluster</p>
    <p>RSM-Geo</p>
    <p>RSM-P2P</p>
    <p>Replication</p>
    <p>Explicit Migration</p>
    <p>Dynamic Migration</p>
    <p>Explicit Code-offload</p>
    <p>Code-offload</p>
    <p>Mobility</p>
    <p>LoadBalanced Frontend</p>
    <p>Scale-up Frontend</p>
    <p>LB Masterslave</p>
    <p>Scalability</p>
  </div>
  <div class="page">
    <p>Sapphire Deployment Manager Library</p>
    <p>Immutable</p>
    <p>AtLeastOnce RPC</p>
    <p>Keep In Place</p>
    <p>Keep On Device</p>
    <p>Keep In Cloud</p>
    <p>Primitives</p>
    <p>Explicit Caching</p>
    <p>Lease Caching</p>
    <p>Writethrough Caching</p>
    <p>Consistent Caching</p>
    <p>Caching</p>
    <p>Serializable RPC</p>
    <p>Locking Transactions</p>
    <p>Optimistic Transactions</p>
    <p>Serializability</p>
    <p>Explicit Checkpoint</p>
    <p>Periodic Checkpoint</p>
    <p>DurableRPC</p>
    <p>Durable Transactions</p>
    <p>Checkpoint</p>
    <p>RSM-Cluster</p>
    <p>RSM-Geo</p>
    <p>RSM-P2P</p>
    <p>Replication</p>
    <p>Explicit Migration</p>
    <p>Dynamic Migration</p>
    <p>Explicit Code-offload</p>
    <p>Code-offload</p>
    <p>Mobility</p>
    <p>LoadBalanced Frontend</p>
    <p>Scale-up Frontend</p>
    <p>LB Masterslave</p>
    <p>Scalability</p>
    <p>Extensible with the Sapphire Deployment Manager API!</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Deployment Manager API</p>
    <p>Deployment manager components, which the Sapphire kernel creates, deploys and invokes:</p>
    <p>Instance Manager: Co-located with the Sapphire Object.</p>
    <p>Proxy: Co-located with remote references to the Sapphire Object.</p>
    <p>Coordinator: Co-located with fault-tolerant Object Tracking Service (OTS).</p>
  </div>
  <div class="page">
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>Replication</p>
    <p>Sapphire Object</p>
    <p>Deployment Manager Architecture</p>
  </div>
  <div class="page">
    <p>Coordinator</p>
    <p>Instance Manager</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Sapphire Object</p>
    <p>Proxy</p>
    <p>Stub</p>
    <p>Proxy</p>
    <p>Stub</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>Sapphire Object</p>
    <p>Deployment Manager Architecture</p>
  </div>
  <div class="page">
    <p>Replication</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Leader</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Leader</p>
    <p>Stub</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Leader</p>
    <p>Stub</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Leader</p>
    <p>Stub</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Leader</p>
    <p>Stub</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Leader</p>
    <p>Stub</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Replicating a Sapphire Object</p>
  </div>
  <div class="page">
    <p>App</p>
    <p>Sapphire Object</p>
    <p>Caching</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>Caching a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Master</p>
    <p>Stub</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>Caching a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Master</p>
    <p>Stub</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>Caching a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Proxy</p>
    <p>Instance Manager</p>
    <p>Sapphire Object</p>
    <p>Master Sapphire Object</p>
    <p>Stub</p>
    <p>App</p>
    <p>Sapphire Object</p>
    <p>DK Server DK Server DK Server</p>
    <p>OSOS OS</p>
    <p>Caching a Sapphire Object</p>
  </div>
  <div class="page">
    <p>Outline</p>
  </div>
  <div class="page">
    <p>Dell Server Nexus 7 Nexus S</p>
    <p>OS</p>
    <p>Experimental Setup</p>
  </div>
  <div class="page">
    <p>Peer-to-Peer Multiplayer Game</p>
    <p>Player 1 Player 2 Player 1 Player 2 Player 1 Player 2 0</p>
    <p>m ili</p>
    <p>se co</p>
    <p>nd s</p>
    <p>Read Write</p>
    <p>Keep In Cloud</p>
    <p>Keep On Device</p>
    <p>RSM-P2P</p>
  </div>
  <div class="page">
    <p>Base WiFi 4G</p>
    <p>Code-offloading for Physics Engine</p>
    <p>Execution Network</p>
    <p>Base WiFi 4G 0</p>
    <p>m ill</p>
    <p>is ec</p>
    <p>on ds</p>
    <p>Phone Tablet 26</p>
  </div>
  <div class="page">
    <p>Summary</p>
    <p>Modern applications implement difficult distributed deployment tasks.</p>
    <p>Sapphire is a new programming system for deploying mobile/cloud applications.</p>
    <p>Deployment managers makes it easy to choose, change and build deployment.</p>
  </div>
</Presentation>
