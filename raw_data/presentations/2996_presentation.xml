<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Incremental Consistency Guarantees For Replicated Objects</p>
    <p>Rachid Guerraoui, Matej Pavlovic, Dragos-Adrian Seredinschi</p>
  </div>
  <div class="page">
    <p>replicate</p>
    <p>SOCIAL MEDIA APPLICATION</p>
  </div>
  <div class="page">
    <p>replicate</p>
    <p>SOCIAL MEDIA APPLICATION</p>
  </div>
  <div class="page">
    <p>Returns the correct data  Latency: ~200 ms  Can become unavailable</p>
    <p>Strong Consistency</p>
    <p>[CAP], [PACELC]</p>
    <p>replicate</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>Number of recent events on the users timeline</p>
  </div>
  <div class="page">
    <p>Latency: ~100 ms  High availability  Allows inconsistencies: can return</p>
    <p>Returns the correct data  Latency: ~200 ms  Can become unavailable</p>
    <p>Strong Consistency</p>
    <p>or or [CAP], [PACELC]</p>
    <p>Weak Consistency</p>
    <p>replicate</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>Number of recent events on the users timeline</p>
  </div>
  <div class="page">
    <p>Latency: ~100 ms  High availability  Allows inconsistencies: can return</p>
    <p>Returns the correct data  Latency: ~200 ms  Can become unavailable</p>
    <p>Strong Consistency</p>
    <p>or or [CAP], [PACELC]</p>
    <p>Weak Consistency</p>
    <p>replicate</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>Number of recent events on the users timeline</p>
    <p>Neither model is ideal!</p>
  </div>
  <div class="page">
    <p>Latency: ~100 ms  High availability  Allows inconsistencies: can return</p>
    <p>Returns the correct data  Latency: ~200 ms  Can become unavailable</p>
    <p>Strong Consistency</p>
    <p>or or [CAP], [PACELC]</p>
    <p>Weak Consistency</p>
    <p>replicate</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>Number of recent events on the users timeline</p>
    <p>Neither model is ideal!</p>
    <p>We use both models.</p>
  </div>
  <div class="page">
    <p>Multiple models 1. Weak consistency</p>
  </div>
  <div class="page">
    <p>Multiple models 1. Weak consistency</p>
    <p>Dynamo [SOSP07]</p>
    <p>Pileus [SOSP13]</p>
    <p>Increasingly many systems expose multiple consistency models:</p>
  </div>
  <div class="page">
    <p>Multiple models</p>
    <p>Issues</p>
    <p>Dynamo [SOSP07]</p>
    <p>Pileus [SOSP13]</p>
    <p>Increasingly many systems expose multiple consistency models:</p>
  </div>
  <div class="page">
    <p>Multiple models</p>
    <p>How do you program with  inconsistencies?  multiple values?</p>
    <p>Problem1. Send multiple requests? 2. How to leverage individual responses?</p>
    <p>Issues</p>
    <p>Dynamo [SOSP07]</p>
    <p>Pileus [SOSP13]</p>
    <p>Increasingly many systems expose multiple consistency models:</p>
  </div>
  <div class="page">
    <p>ABSTRACTION FOR REPLICATED OBJECTS</p>
    <p>We ak</p>
    <p>Co ns is te nc y</p>
    <p>St ro ng</p>
    <p>Co ns is te nc y</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>?? ??</p>
    <p>Co ns is te nc y</p>
  </div>
  <div class="page">
    <p>ABSTRACTION FOR REPLICATED OBJECTS</p>
    <p>We ak</p>
    <p>Co ns is te nc y</p>
    <p>St ro ng</p>
    <p>Co ns is te nc y</p>
    <p>CORRECTABLE</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>?? ??</p>
    <p>Co ns is te nc y</p>
  </div>
  <div class="page">
    <p>ABSTRACTION FOR REPLICATED OBJECTS</p>
    <p>We ak</p>
    <p>Co ns is te nc y</p>
    <p>St ro ng</p>
    <p>Co ns is te nc y</p>
    <p>CORRECTABLE</p>
    <p>Incremental Consistency Guarantees (ICG)</p>
    <p>provides</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>?? ??</p>
    <p>Co ns is te nc y</p>
  </div>
  <div class="page">
    <p>Correctables / Design</p>
    <p>PROMISE</p>
    <p>resolve asynchronously</p>
    <p>Starting point: Promises</p>
    <p>Placeholders for values</p>
    <p>Becoming mainstream</p>
    <p>value</p>
  </div>
  <div class="page">
    <p>Correctables / Design</p>
    <p>CORRECTABLEPROMISE</p>
    <p>resolve asynchronously</p>
    <p>Starting point: Promises</p>
    <p>Placeholders for values</p>
    <p>Becoming mainstream</p>
    <p>value</p>
    <p>value1</p>
    <p>value2</p>
    <p>valuen</p>
  </div>
  <div class="page">
    <p>Correctables / Design</p>
    <p>CORRECTABLEPROMISE</p>
    <p>resolve asynchronously</p>
    <p>PROGRESSIVELY STRONGER CONSISTENCY</p>
    <p>(INCREMENTAL)</p>
    <p>PROGRESSIVELY HIGHER LATENCY</p>
    <p>Starting point: Promises</p>
    <p>Placeholders for values</p>
    <p>Becoming mainstream</p>
    <p>value</p>
    <p>value1</p>
    <p>value2</p>
    <p>valuen</p>
  </div>
  <div class="page">
    <p>Consistency Models are Complementary</p>
    <p>C on</p>
    <p>si st en</p>
    <p>cy</p>
    <p>Weak</p>
    <p>Strong</p>
    <p>LowHigh Performance Eventual</p>
    <p>Linearizable</p>
    <p>Sequential</p>
    <p>Causal</p>
    <p>(Ideal protocol)</p>
    <p>(Worst protocol)</p>
    <p>INC REM</p>
    <p>ENT AL</p>
    <p>Weak consistency:  Fast  (Often correct)</p>
    <p>Strong consistency:  Slower  (Correct with certainty)Weak</p>
    <p>Consistency</p>
    <p>Strong Consistency</p>
  </div>
  <div class="page">
    <p>Consistency Models are Complementary</p>
    <p>C on</p>
    <p>si st en</p>
    <p>cy</p>
    <p>Weak</p>
    <p>Strong</p>
    <p>LowHigh Performance Eventual</p>
    <p>Linearizable</p>
    <p>Sequential</p>
    <p>Causal</p>
    <p>(Ideal protocol)</p>
    <p>(Worst protocol)</p>
    <p>INC REM</p>
    <p>ENT AL</p>
    <p>Weak consistency:  Fast  (Often correct)</p>
    <p>Strong consistency:  Slower  (Correct with certainty)Weak</p>
    <p>Consistency</p>
    <p>Strong Consistency</p>
    <p>So what?</p>
  </div>
  <div class="page">
    <p>Consistency Models are Complementary</p>
    <p>C on</p>
    <p>si st en</p>
    <p>cy</p>
    <p>Weak</p>
    <p>Strong</p>
    <p>LowHigh Performance Eventual</p>
    <p>Linearizable</p>
    <p>Sequential</p>
    <p>Causal</p>
    <p>(Ideal protocol)</p>
    <p>(Worst protocol)</p>
    <p>INC REM</p>
    <p>ENT AL</p>
    <p>Weak consistency:  Fast  (Often correct)</p>
    <p>Strong consistency:  Slower  (Correct with certainty)Weak</p>
    <p>Consistency</p>
    <p>Strong Consistency</p>
    <p>So what? Latency optimizations</p>
  </div>
  <div class="page">
    <p>Speculating with Correctables</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>read timeline</p>
    <p>CORRECTABLE</p>
    <p>Lower latency of strong consistency</p>
  </div>
  <div class="page">
    <p>Speculating with Correctables</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>We ak</p>
    <p>Co ns is te nc y</p>
    <p>value1</p>
    <p>St ro ng</p>
    <p>Co ns is te nc y</p>
    <p>value2</p>
    <p>read timeline</p>
    <p>CORRECTABLE</p>
    <p>Lower latency of strong consistency</p>
    <p>Latency gap: ~100 ms</p>
  </div>
  <div class="page">
    <p>Speculating with Correctables</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>We ak</p>
    <p>Co ns is te nc y</p>
    <p>value1</p>
    <p>St ro ng</p>
    <p>Co ns is te nc y</p>
    <p>value2</p>
    <p>read timeline</p>
    <p>Speculative execution</p>
    <p>value1 is often correct</p>
    <p>Speculatively execute any further steps e.g., prefetch dependent data</p>
    <p>[Existential Consistency. SOSP15] [PBS. VLDB 5(8)12]</p>
    <p>Verify based on value2</p>
    <p>CORRECTABLE</p>
    <p>Lower latency of strong consistency</p>
    <p>Latency gap: ~100 ms</p>
  </div>
  <div class="page">
    <p>Speculating with Correctables</p>
    <p>SOCIAL MEDIA APPLICATION</p>
    <p>We ak</p>
    <p>Co ns is te nc y</p>
    <p>value1</p>
    <p>St ro ng</p>
    <p>Co ns is te nc y</p>
    <p>value2</p>
    <p>read timeline</p>
    <p>Speculative execution</p>
    <p>value1 is often correct</p>
    <p>Speculatively execute any further steps e.g., prefetch dependent data</p>
    <p>[Existential Consistency. SOSP15] [PBS. VLDB 5(8)12]</p>
    <p>Verify based on value2</p>
    <p>CORRECTABLE</p>
    <p>Lower latency of strong consistency</p>
    <p>Latency gap: ~100 ms</p>
  </div>
  <div class="page">
    <p>Strongly-consistent timeline</p>
    <p>Fetch timeline items</p>
    <p>Traditional operation:</p>
  </div>
  <div class="page">
    <p>Strongly-consistent timeline</p>
    <p>Fetch timeline items</p>
    <p>Traditional operation:</p>
    <p>Speculative operation with ICG:</p>
    <p>value2</p>
    <p>value1</p>
    <p>Fetch timeline items</p>
  </div>
  <div class="page">
    <p>Strongly-consistent timeline</p>
    <p>Fetch timeline items</p>
    <p>Traditional operation:</p>
    <p>Speculative operation with ICG:</p>
    <p>value2 value1</p>
    <p>matches</p>
    <p>value2 100 ms</p>
    <p>value1</p>
    <p>yes</p>
    <p>Fetch timeline items</p>
  </div>
  <div class="page">
    <p>Strongly-consistent timeline</p>
    <p>Fetch timeline items</p>
    <p>Traditional operation:</p>
    <p>Speculative operation with ICG:</p>
    <p>value2 value1</p>
    <p>matches</p>
    <p>value2 100 ms</p>
    <p>value1</p>
    <p>yes</p>
    <p>no</p>
    <p>Fetch timeline items</p>
  </div>
  <div class="page">
    <p>Speculation case-study</p>
    <p>Application: Twissandra  Workload generated via YCSB  Clients in Ireland  Geo-replication on Amazons EC2</p>
    <p>VRGCAL</p>
    <p>ORG</p>
  </div>
  <div class="page">
    <p>Speculation case-study</p>
    <p>Advertising System  Speculation case-study</p>
    <p>Ticket-selling System  Exploiting application semantics</p>
    <p>Overheads evaluation &amp; Optimizations</p>
    <p>Latency gaps between consistency models</p>
    <p>Application: Twissandra  Workload generated via YCSB  Clients in Ireland  Geo-replication on Amazons EC2</p>
    <p>VRGCAL</p>
    <p>ORG</p>
    <p>check the paper</p>
  </div>
  <div class="page">
    <p>Decreasing latency of strong consistency</p>
    <p>Workload A (50:50 read/write) Workload C (read-only)</p>
    <p>What is the latency of the fetch_timeline() operation?</p>
    <p>Workload B (95:5 read/write)</p>
  </div>
  <div class="page">
    <p>Decreasing latency of strong consistency</p>
    <p>Workload A (50:50 read/write) Workload C (read-only)</p>
    <p>What is the latency of the fetch_timeline() operation?</p>
    <p>Workload B (95:5 read/write)</p>
    <p>Baseline</p>
    <p>Read using a quorum of 2/3 replicas vs.</p>
    <p>ICG 1. Weak: Read with 1/3 replicas 2. Strong: Read with quorum of 2/3 replicas</p>
  </div>
  <div class="page">
    <p>Decreasing latency of strong consistency</p>
    <p>Workload A (50:50 read/write) Workload C (read-only)</p>
    <p>What is the latency of the fetch_timeline() operation?</p>
    <p>Workload B (95:5 read/write)</p>
    <p>Baseline</p>
    <p>Read using a quorum of 2/3 replicas vs.</p>
    <p>ICG 1. Weak: Read with 1/3 replicas 2. Strong: Read with quorum of 2/3 replicas</p>
  </div>
  <div class="page">
    <p>L a te</p>
    <p>n c y (</p>
    <p>m s )</p>
    <p>Workload A</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>C 2 (R=2) CC</p>
    <p>Workload B</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>Workload C</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>L a te</p>
    <p>n c y (</p>
    <p>m s )</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>Decreasing latency of strong consistency</p>
    <p>Workload A (50:50 read/write) Workload C (read-only)</p>
    <p>What is the latency of the fetch_timeline() operation?</p>
    <p>Workload B (95:5 read/write)</p>
    <p>Baseline</p>
    <p>Read using a quorum of 2/3 replicas vs.</p>
    <p>ICG 1. Weak: Read with 1/3 replicas 2. Strong: Read with quorum of 2/3 replicas</p>
    <p>Baseline</p>
    <p>ICG</p>
  </div>
  <div class="page">
    <p>L a te</p>
    <p>n c y (</p>
    <p>m s )</p>
    <p>Workload A</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>C 2 (R=2) CC</p>
    <p>Workload B</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>Workload C</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>L a te</p>
    <p>n c y (</p>
    <p>m s )</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>A d</p>
    <p>s S</p>
    <p>y s te</p>
    <p>m T</p>
    <p>w is</p>
    <p>s a</p>
    <p>n d</p>
    <p>ra</p>
    <p>Decreasing latency of strong consistency</p>
    <p>Workload A (50:50 read/write) Workload C (read-only)</p>
    <p>What is the latency of the fetch_timeline() operation?</p>
    <p>Latency decrease by 40%</p>
    <p>Throughput drop by 6%</p>
    <p>Same consistency model (2/3 replicas)</p>
    <p>Workload B (95:5 read/write)</p>
    <p>Baseline</p>
    <p>Read using a quorum of 2/3 replicas vs.</p>
    <p>ICG 1. Weak: Read with 1/3 replicas 2. Strong: Read with quorum of 2/3 replicas</p>
    <p>Baseline</p>
    <p>ICG</p>
  </div>
  <div class="page">
    <p>The Correctables abstraction enables you to: 1. Leverage consistency models incrementally 2. Lower latency of strong consistency</p>
    <p>CORRECTABLE</p>
    <p>value1</p>
    <p>value2</p>
    <p>valuen</p>
    <p>Incremental Consistency Guarantees</p>
    <p>@adizere</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>backup slides</p>
  </div>
  <div class="page">
    <p>Speculation // Syntactic sugar</p>
  </div>
  <div class="page">
    <p>Legacy code vs. Correctables</p>
    <p>semantics</p>
    <p>execution details</p>
    <p>Correctable</p>
  </div>
  <div class="page">
    <p>Legacy code vs. Correctables</p>
    <p>semantics</p>
    <p>execution details</p>
    <p>Correctable</p>
  </div>
  <div class="page">
    <p>Overheads</p>
    <p>Cassandra</p>
    <p>YCSB workload, various configurations</p>
    <p>Client in Ireland</p>
    <p>Replicas in Virginia, Frankfurt, and Ireland</p>
    <p>E ffi</p>
    <p>ci en</p>
    <p>cy (k</p>
    <p>B /o</p>
    <p>p)</p>
    <p>Workload A</p>
    <p>C1</p>
    <p>C1 CC2</p>
    <p>CC2 *CC2</p>
    <p>*CC2</p>
    <p>#Total client threads</p>
    <p>Latest distribution: Zipfian distribution:</p>
    <p>+27%</p>
    <p>+77% +15%</p>
    <p>+90%</p>
    <p>Workload B</p>
    <p>#Total client threads</p>
    <p>Latest distribution: Zipfian distribution:</p>
    <p>+27%</p>
    <p>+77% +15%</p>
    <p>+90%</p>
  </div>
  <div class="page">
    <p>Overheads</p>
    <p>Cassandra</p>
    <p>YCSB workload, various configurations</p>
    <p>Client in Ireland</p>
    <p>Replicas in Virginia, Frankfurt, and Ireland</p>
    <p>E ffi</p>
    <p>ci en</p>
    <p>cy (k</p>
    <p>B /o</p>
    <p>p)</p>
    <p>Workload A</p>
    <p>C1</p>
    <p>C1 CC2</p>
    <p>CC2 *CC2</p>
    <p>*CC2</p>
    <p>#Total client threads</p>
    <p>Latest distribution: Zipfian distribution:</p>
    <p>+27%</p>
    <p>+77% +15%</p>
    <p>+90%</p>
    <p>Workload B</p>
    <p>#Total client threads</p>
    <p>Latest distribution: Zipfian distribution:</p>
    <p>+27%</p>
    <p>+77% +15%</p>
    <p>+90%</p>
    <p>E ffi</p>
    <p>ci en</p>
    <p>cy (K</p>
    <p>B /o</p>
    <p>p)</p>
    <p>ZooKeeper Correctable ZooKeeper</p>
    <p># Clients</p>
    <p>-71%</p>
    <p>-44%</p>
    <p>-81%</p>
    <p>-60%</p>
    <p>-71%</p>
    <p>-44%</p>
    <p>-81%</p>
    <p>-60%</p>
    <p>ZooKeeper queue implementation</p>
    <p>Wasteful implementation (by default)</p>
    <p>We were able to improve  negative overhead</p>
  </div>
  <div class="page">
    <p>Exploiting application semantics</p>
    <p>Ticket selling application</p>
    <p>Implemented through a ZooKeeper queue</p>
    <p>Buy ticket = dequeue operation</p>
    <p>Ticket 1 Ticket 2  Ticket 500</p>
    <p>upd ate</p>
    <p>close</p>
    <p>ticket X</p>
    <p>ticket Y | NULL</p>
    <p>(we ak)</p>
    <p>(strong)</p>
    <p>if ( X &gt; threshold) confirm() else wait for strong</p>
    <p>if (! NULL) confirm()</p>
    <p>invoke dequeue()</p>
  </div>
  <div class="page">
    <p>Exploiting application semantics</p>
    <p>Ticket selling application</p>
    <p>Implemented through a ZooKeeper queue</p>
    <p>Buy ticket = dequeue operation</p>
    <p>Ticket 1</p>
    <p>te n</p>
    <p>c y t</p>
    <p>o b</p>
    <p>u y t</p>
    <p>ic k e</p>
    <p>t (</p>
    <p>m s e</p>
    <p>c )</p>
    <p>Ticket number</p>
    <p>Correctable ZooKeeper ZooKeeper</p>
    <p>Last 20 tickets</p>
    <p>Ticket 2  Ticket 500</p>
    <p>upd ate</p>
    <p>close</p>
    <p>ticket X</p>
    <p>ticket Y | NULL</p>
    <p>(we ak)</p>
    <p>(strong)</p>
    <p>if ( X &gt; threshold) confirm() else wait for strong</p>
    <p>if (! NULL) confirm()</p>
    <p>invoke dequeue()</p>
  </div>
  <div class="page">
    <p>Divergence between weak and strong consistency</p>
    <p>% D</p>
    <p>iv e</p>
    <p>rg e</p>
    <p>n c e</p>
    <p>#Total client threads</p>
    <p>Workload A-Latest Workload A-Zipfian</p>
    <p>Workload B-Latest Workload B-Zipfian</p>
    <p>Extremely high</p>
    <p>Unusual</p>
  </div>
  <div class="page">
    <p>Latency gaps between consistency models</p>
    <p>La te</p>
    <p>nc y</p>
    <p>(m s)</p>
    <p>Workload A (50:50 read/write) C1 (R=1) C2 (R=2) CC2 preliminary (R=1) CC2 final (R=2)</p>
    <p>Workload B (95:5 read/write)</p>
    <p>Workload C (read-only)</p>
    <p>A ve</p>
    <p>ra ge</p>
    <p>R ea</p>
    <p>d L</p>
    <p>at en</p>
    <p>cy (m</p>
    <p>s)</p>
    <p>CC preliminary CC final</p>
    <p>C 99th %ile latency</p>
    <p>R=3 R=2 R=1</p>
    <p>La te</p>
    <p>nc y</p>
    <p>ga p</p>
    <p>A ve</p>
    <p>ra ge</p>
    <p>L at</p>
    <p>en cy</p>
    <p>(m s)</p>
    <p>CZK preliminary CZK final</p>
    <p>ZK 99th %ile latency</p>
    <p>Leader in IRL Leader in VRG</p>
    <p>Follower (FRK)</p>
    <p>Leader (IRL)</p>
    <p>Follower (IRL)</p>
    <p>Leader (VRG)</p>
    <p>Client connection:</p>
  </div>
  <div class="page">
    <p>value1</p>
    <p>?</p>
    <p>value2</p>
    <p>Efficiency of Multiple Responses</p>
    <p>CORRECTABLE</p>
    <p>read timeline</p>
    <p>SOCIAL MEDIA APPLICATION</p>
  </div>
  <div class="page">
    <p>Binding</p>
    <p>Request</p>
    <p>Replicated Storage</p>
    <p>Response (final)</p>
    <p>Response (preliminary)</p>
    <p>Weak consistency Strong consistency</p>
    <p>Coordination</p>
    <p>value1</p>
    <p>?</p>
    <p>value2</p>
    <p>Efficiency of Multiple Responses</p>
    <p>CORRECTABLE</p>
    <p>read timeline</p>
    <p>SOCIAL MEDIA APPLICATION</p>
  </div>
  <div class="page">
    <p>Binding</p>
    <p>Request</p>
    <p>Replicated Storage</p>
    <p>Response (final)</p>
    <p>Response (preliminary)</p>
    <p>Weak consistency Strong consistency</p>
    <p>Coordination</p>
    <p>value1</p>
    <p>(quorum gathering)</p>
    <p>value2</p>
    <p>Efficiency of Multiple Responses</p>
    <p>CORRECTABLE</p>
    <p>read timeline</p>
    <p>SOCIAL MEDIA APPLICATION</p>
  </div>
  <div class="page">
    <p>Correctables / Library</p>
    <p>Application</p>
    <p>Cache</p>
    <p>Storage</p>
    <p>binding binding binding binding</p>
    <p>Correctables LIBRARY</p>
    <p>RPC</p>
    <p>invoke</p>
    <p>API</p>
    <p>(Weak / Strong)</p>
    <p>RPC</p>
    <p>C o</p>
    <p>n s is</p>
    <p>te n c y -b</p>
    <p>a s e d</p>
    <p>in</p>
    <p>te rf</p>
    <p>a c e</p>
    <p>S y s te</p>
    <p>m -s</p>
    <p>p e c ifi</p>
    <p>c</p>
    <p>in te</p>
    <p>rf a c e</p>
    <p>Desktop Application</p>
    <p>Web Frontend</p>
    <p>Mobile App</p>
    <p>Caching Daemon</p>
    <p>Correctable</p>
  </div>
  <div class="page">
    <p>Correctables / Library</p>
    <p>Application</p>
    <p>Cache</p>
    <p>Storage</p>
    <p>binding binding binding binding</p>
    <p>Correctables LIBRARY</p>
    <p>RPC</p>
    <p>invoke</p>
    <p>API</p>
    <p>(Weak / Strong)</p>
    <p>RPC</p>
    <p>C o</p>
    <p>n s is</p>
    <p>te n c y -b</p>
    <p>a s e d</p>
    <p>in</p>
    <p>te rf</p>
    <p>a c e</p>
    <p>S y s te</p>
    <p>m -s</p>
    <p>p e c ifi</p>
    <p>c</p>
    <p>in te</p>
    <p>rf a c e</p>
    <p>Desktop Application</p>
    <p>Web Frontend</p>
    <p>Mobile App</p>
    <p>Caching Daemon</p>
    <p>Correctable</p>
  </div>
  <div class="page">
    <p>E-mail</p>
    <p>Calendar</p>
    <p>Social networks</p>
    <p>Online shopping</p>
    <p>Ad serving</p>
    <p>News reading</p>
    <p>Collaborative editing</p>
    <p>Computation on static content</p>
    <p>Cold data analysis</p>
    <p>Disconnected operations in mobile applications</p>
    <p>Infrastructure services</p>
    <p>Stock tickers</p>
    <p>Trading applications</p>
    <p>Demand for Performance HighLow Weak</p>
    <p>Strong</p>
    <p>D em</p>
    <p>an d</p>
    <p>fo r</p>
    <p>C or</p>
    <p>re ct</p>
    <p>ne ss</p>
    <p>Weaker Consistency</p>
    <p>Gray Zone</p>
    <p>(no single choice is ideal)</p>
    <p>St ro</p>
    <p>ng er</p>
    <p>C o ns</p>
    <p>is te</p>
    <p>nc y</p>
    <p>Pe rfo</p>
    <p>rm an</p>
    <p>ce is a</p>
    <p>sec on</p>
    <p>d-o rde</p>
    <p>r</p>
    <p>con cer</p>
    <p>n</p>
    <p>Seman tics all</p>
    <p>ow</p>
    <p>to bypa ss the</p>
    <p>need f or stro</p>
    <p>ng</p>
    <p>consis tency</p>
  </div>
  <div class="page">
    <p>Replicated storage systems</p>
    <p>Dynamo [SOSP07]</p>
    <p>Pileus [SOSP13]</p>
    <p>Time</p>
    <p>Richness of consistency models (CMs)</p>
    <p>s</p>
    <p>(w ea</p>
    <p>k a nd</p>
    <p>st ron</p>
    <p>g)</p>
    <p>(st ron</p>
    <p>g)</p>
    <p>M s</p>
    <p>Ca ch</p>
    <p>ing</p>
    <p>(cl ien</p>
    <p>t &amp; se</p>
    <p>rv er)</p>
    <p>CAP theorem</p>
    <p>s</p>
    <p>dy na</p>
    <p>mi c</p>
    <p>qu or</p>
    <p>um s</p>
  </div>
  <div class="page">
    <p>Replicated storage systems</p>
    <p>Dynamo [SOSP07]</p>
    <p>Pileus [SOSP13]</p>
    <p>Time</p>
    <p>Richness of consistency models (CMs)</p>
    <p>s</p>
    <p>(w ea</p>
    <p>k a nd</p>
    <p>st ron</p>
    <p>g)</p>
    <p>(st ron</p>
    <p>g)</p>
    <p>M s</p>
    <p>Ca ch</p>
    <p>ing</p>
    <p>(cl ien</p>
    <p>t &amp; se</p>
    <p>rv er)</p>
    <p>CAP theorem</p>
    <p>No single consistency model is ideal  expose multiple choices</p>
    <p>s</p>
    <p>dy na</p>
    <p>mi c</p>
    <p>qu or</p>
    <p>um s</p>
  </div>
</Presentation>
