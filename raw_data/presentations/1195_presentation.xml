<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>A Retargetable System-Level DBT Hypervisor</p>
    <p>Tom Spink, Harry Wagstaff, Bjrn Franke</p>
  </div>
  <div class="page">
    <p>Captive</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
    <p>Host Physical Machine (x86)</p>
    <p>Guest Virtual Machine</p>
    <p>(Arm)</p>
    <p>Guest Virtual Machine (MIPS)</p>
    <p>Operating System</p>
    <p>Guest Virtual Machine (RISC-V)</p>
    <p>Captive</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
    <p>Arm-v8 Architecture Description</p>
    <p>GenSim</p>
    <p>Arm-v8 Guest Architecture</p>
    <p>Module</p>
    <p>Optimiser</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
    <p>Arm-v8 Guest Architecture</p>
    <p>Module</p>
    <p>Arm-v8 Guest System</p>
    <p>Image</p>
    <p>Guest Machine (Arm)Captive</p>
    <p>Guest OS Kernel</p>
    <p>Guest User-space</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
    <p>Host Physical Machine (x86)</p>
    <p>Linux Operating System KVM</p>
    <p>Captive KVM Hypervisor</p>
    <p>Host Virtual Machine (x86)</p>
    <p>Captive DBT Unikernel</p>
    <p>Guest Virtual Machine (Arm-v8)</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
    <p>Host Virtual Machine (x86)</p>
    <p>Captive DBT Unikernel</p>
    <p>Arm Guest Page Tables x86 VM Page Tables</p>
    <p>MMU Mapping Engine</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
    <p>// ---------------------------------------------------------------------------// C4.2.1 Add/subtract (immediate) // ---------------------------------------------------------------------------execute (addi) {</p>
    <p>uint64 imm = decode_imm(inst.imm12, inst.shift); uint64 op1 = read_gpr_sp(inst.sf, inst.rn);</p>
    <p>if (inst.S) { if (inst.sf == 0) {</p>
    <p>write_gpr32(inst.rd, __builtin_adc32_flags((uint32)op1, (uint32)imm, 0)); } else {</p>
    <p>write_gpr64(inst.rd, __builtin_adc64_flags(op1, imm, 0)); }</p>
    <p>} else { write_gpr_sp(inst.sf, inst.rd, op1 + imm);</p>
    <p>} }</p>
  </div>
  <div class="page">
    <p>https://gensim.org</p>
  </div>
</Presentation>
