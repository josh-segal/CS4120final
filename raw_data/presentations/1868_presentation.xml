<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Neutrality in Future Public Clouds: Implications and Challenges</p>
    <p>George Kesidis</p>
    <p>School of EECS The Pennsylvania State University</p>
    <p>kesidis@gmail.com</p>
    <p>in collaboration with Bhuvan Urgaonkar, Neda Nasiriani and Cheng Wang</p>
    <p>USENIX HotCloud, Denver, Tues. June 21, 2016</p>
    <p>This research supported in part by NSF CNS grants 1228717 and 1526133 and by NSF CAREER grant 0953541.</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>I We analogize the evolution the public-cloud marketplace with that of the Internet (post web):</p>
    <p>I Initially, cloud over-engineered while experiencing dramatic growth I As the marketplace matured</p>
    <p>I it has become critical infrastructure for many price-sensitive customers/tenants, and</p>
    <p>I subsidiaries/affiliates of the few public cloud providers compete with their own tenants, e.g., both Amazon Prime and Netflix use Amazon EC2.</p>
    <p>I We expect antitrust concerns to lead to neutrality regulations in the public-cloud marketplace as they did in the commercialized, public Internet marketplace.</p>
    <p>I The FCC deemed the Internet a utility in 2015 in a move to shore-up neutrality rules.</p>
    <p>I There is relatively scant existing consideration of neutrality issues re. virtualized services in the public cloud, beyond how network neutrality relates to the cloud.</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>I We analogize the evolution the public-cloud marketplace with that of the Internet (post web):</p>
    <p>I Initially, cloud over-engineered while experiencing dramatic growth I As the marketplace matured</p>
    <p>I it has become critical infrastructure for many price-sensitive customers/tenants, and</p>
    <p>I subsidiaries/affiliates of the few public cloud providers compete with their own tenants, e.g., both Amazon Prime and Netflix use Amazon EC2.</p>
    <p>I We expect antitrust concerns to lead to neutrality regulations in the public-cloud marketplace as they did in the commercialized, public Internet marketplace.</p>
    <p>I The FCC deemed the Internet a utility in 2015 in a move to shore-up neutrality rules.</p>
    <p>I There is relatively scant existing consideration of neutrality issues re. virtualized services in the public cloud, beyond how network neutrality relates to the cloud.</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>I We analogize the evolution the public-cloud marketplace with that of the Internet (post web):</p>
    <p>I Initially, cloud over-engineered while experiencing dramatic growth I As the marketplace matured</p>
    <p>I it has become critical infrastructure for many price-sensitive customers/tenants, and</p>
    <p>I subsidiaries/affiliates of the few public cloud providers compete with their own tenants, e.g., both Amazon Prime and Netflix use Amazon EC2.</p>
    <p>I We expect antitrust concerns to lead to neutrality regulations in the public-cloud marketplace as they did in the commercialized, public Internet marketplace.</p>
    <p>I The FCC deemed the Internet a utility in 2015 in a move to shore-up neutrality rules.</p>
    <p>I There is relatively scant existing consideration of neutrality issues re. virtualized services in the public cloud, beyond how network neutrality relates to the cloud.</p>
  </div>
  <div class="page">
    <p>Introduction</p>
    <p>I We analogize the evolution the public-cloud marketplace with that of the Internet (post web):</p>
    <p>I Initially, cloud over-engineered while experiencing dramatic growth I As the marketplace matured</p>
    <p>I it has become critical infrastructure for many price-sensitive customers/tenants, and</p>
    <p>I subsidiaries/affiliates of the few public cloud providers compete with their own tenants, e.g., both Amazon Prime and Netflix use Amazon EC2.</p>
    <p>I We expect antitrust concerns to lead to neutrality regulations in the public-cloud marketplace as they did in the commercialized, public Internet marketplace.</p>
    <p>I The FCC deemed the Internet a utility in 2015 in a move to shore-up neutrality rules.</p>
    <p>I There is relatively scant existing consideration of neutrality issues re. virtualized services in the public cloud, beyond how network neutrality relates to the cloud.</p>
  </div>
  <div class="page">
    <p>Neutrality of the Public Cloud</p>
    <p>I A truly neutral data centre provider is one that is independent of the companies colocating in the data centre, does not compete with them in any way, and offers no packaged services as part of colocation. Customers are free to contract directly with the providers of their choice [Interxion, a colo]</p>
    <p>I Public cloud-computing services range from colo facilities &amp; bare-metal IaaS to much more popular and cost-effective virtualized services (including PaaS,SaaS).</p>
    <p>I Virtualized services have diverse service-level agreements (SLAs) and associated price-performance trade-offs, spanning more than just network IO.</p>
    <p>I So a more challenging auditing/enforcement setting.</p>
  </div>
  <div class="page">
    <p>Neutrality of the Public Cloud</p>
    <p>I A truly neutral data centre provider is one that is independent of the companies colocating in the data centre, does not compete with them in any way, and offers no packaged services as part of colocation. Customers are free to contract directly with the providers of their choice [Interxion, a colo]</p>
    <p>I Public cloud-computing services range from colo facilities &amp; bare-metal IaaS to much more popular and cost-effective virtualized services (including PaaS,SaaS).</p>
    <p>I Virtualized services have diverse service-level agreements (SLAs) and associated price-performance trade-offs, spanning more than just network IO.</p>
    <p>I So a more challenging auditing/enforcement setting.</p>
  </div>
  <div class="page">
    <p>Neutrality of the Public Cloud</p>
    <p>I A truly neutral data centre provider is one that is independent of the companies colocating in the data centre, does not compete with them in any way, and offers no packaged services as part of colocation. Customers are free to contract directly with the providers of their choice [Interxion, a colo]</p>
    <p>I Public cloud-computing services range from colo facilities &amp; bare-metal IaaS to much more popular and cost-effective virtualized services (including PaaS,SaaS).</p>
    <p>I Virtualized services have diverse service-level agreements (SLAs) and associated price-performance trade-offs, spanning more than just network IO.</p>
    <p>I So a more challenging auditing/enforcement setting.</p>
  </div>
  <div class="page">
    <p>Neutrality of the Public Cloud</p>
    <p>I A truly neutral data centre provider is one that is independent of the companies colocating in the data centre, does not compete with them in any way, and offers no packaged services as part of colocation. Customers are free to contract directly with the providers of their choice [Interxion, a colo]</p>
    <p>I Public cloud-computing services range from colo facilities &amp; bare-metal IaaS to much more popular and cost-effective virtualized services (including PaaS,SaaS).</p>
    <p>I Virtualized services have diverse service-level agreements (SLAs) and associated price-performance trade-offs, spanning more than just network IO.</p>
    <p>I So a more challenging auditing/enforcement setting.</p>
  </div>
  <div class="page">
    <p>Auditing and verification of neutral treatment</p>
    <p>I Whereas network bandwidth allocated by an ISP can be effectively monitored and audited, doing so for virtualized IT resources offered by a public cloud is inherently difficult.</p>
    <p>I Existing approaches for measuring/auditing virtualized IT resource usage implicitly assume trusted resource managers.</p>
    <p>I A hypervisor may over-commit CPUs to multiple VMs, which makes it difficult to detect/quantify each VMs share of CPU capacity (CPU cycles) from within the guest OS.</p>
    <p>I Netflix apparently relies upon stolen time (a measure of competition for CPU) to detect when its procured VM instances are not getting adequate CPU capacity.</p>
    <p>I But what if the hypervisor misreported this metric? A hypervisor may deliberately dilate a VMs notion of time by slowing its delivery of virtualized timer interrupts [Gupta et al.05].</p>
  </div>
  <div class="page">
    <p>Auditing and verification of neutral treatment</p>
    <p>I Whereas network bandwidth allocated by an ISP can be effectively monitored and audited, doing so for virtualized IT resources offered by a public cloud is inherently difficult.</p>
    <p>I Existing approaches for measuring/auditing virtualized IT resource usage implicitly assume trusted resource managers.</p>
    <p>I A hypervisor may over-commit CPUs to multiple VMs, which makes it difficult to detect/quantify each VMs share of CPU capacity (CPU cycles) from within the guest OS.</p>
    <p>I Netflix apparently relies upon stolen time (a measure of competition for CPU) to detect when its procured VM instances are not getting adequate CPU capacity.</p>
    <p>I But what if the hypervisor misreported this metric? A hypervisor may deliberately dilate a VMs notion of time by slowing its delivery of virtualized timer interrupts [Gupta et al.05].</p>
  </div>
  <div class="page">
    <p>Auditing and verification of neutral treatment</p>
    <p>I Whereas network bandwidth allocated by an ISP can be effectively monitored and audited, doing so for virtualized IT resources offered by a public cloud is inherently difficult.</p>
    <p>I Existing approaches for measuring/auditing virtualized IT resource usage implicitly assume trusted resource managers.</p>
    <p>I A hypervisor may over-commit CPUs to multiple VMs, which makes it difficult to detect/quantify each VMs share of CPU capacity (CPU cycles) from within the guest OS.</p>
    <p>I Netflix apparently relies upon stolen time (a measure of competition for CPU) to detect when its procured VM instances are not getting adequate CPU capacity.</p>
    <p>I But what if the hypervisor misreported this metric? A hypervisor may deliberately dilate a VMs notion of time by slowing its delivery of virtualized timer interrupts [Gupta et al.05].</p>
  </div>
  <div class="page">
    <p>Auditing and verification of neutral treatment</p>
    <p>I Whereas network bandwidth allocated by an ISP can be effectively monitored and audited, doing so for virtualized IT resources offered by a public cloud is inherently difficult.</p>
    <p>I Existing approaches for measuring/auditing virtualized IT resource usage implicitly assume trusted resource managers.</p>
    <p>I A hypervisor may over-commit CPUs to multiple VMs, which makes it difficult to detect/quantify each VMs share of CPU capacity (CPU cycles) from within the guest OS.</p>
    <p>I Netflix apparently relies upon stolen time (a measure of competition for CPU) to detect when its procured VM instances are not getting adequate CPU capacity.</p>
    <p>I But what if the hypervisor misreported this metric? A hypervisor may deliberately dilate a VMs notion of time by slowing its delivery of virtualized timer interrupts [Gupta et al.05].</p>
  </div>
  <div class="page">
    <p>Auditing and verification of neutral treatment</p>
    <p>I Whereas network bandwidth allocated by an ISP can be effectively monitored and audited, doing so for virtualized IT resources offered by a public cloud is inherently difficult.</p>
    <p>I Existing approaches for measuring/auditing virtualized IT resource usage implicitly assume trusted resource managers.</p>
    <p>I A hypervisor may over-commit CPUs to multiple VMs, which makes it difficult to detect/quantify each VMs share of CPU capacity (CPU cycles) from within the guest OS.</p>
    <p>I Netflix apparently relies upon stolen time (a measure of competition for CPU) to detect when its procured VM instances are not getting adequate CPU capacity.</p>
    <p>I But what if the hypervisor misreported this metric? A hypervisor may deliberately dilate a VMs notion of time by slowing its delivery of virtualized timer interrupts [Gupta et al.05].</p>
  </div>
  <div class="page">
    <p>Auditing and verification of neutral treatment</p>
    <p>I Whereas network bandwidth allocated by an ISP can be effectively monitored and audited, doing so for virtualized IT resources offered by a public cloud is inherently difficult.</p>
    <p>I Existing approaches for measuring/auditing virtualized IT resource usage implicitly assume trusted resource managers.</p>
    <p>I A hypervisor may over-commit CPUs to multiple VMs, which makes it difficult to detect/quantify each VMs share of CPU capacity (CPU cycles) from within the guest OS.</p>
    <p>I Netflix apparently relies upon stolen time (a measure of competition for CPU) to detect when its procured VM instances are not getting adequate CPU capacity.</p>
    <p>I But what if the hypervisor misreported this metric? A hypervisor may deliberately dilate a VMs notion of time by slowing its delivery of virtualized timer interrupts [Gupta et al.05].</p>
  </div>
  <div class="page">
    <p>Lessons from network neutrality reinterpreted</p>
    <p>Equal treatment modulo SLAs:</p>
    <p>I Neutrality does not mean that every tenant is treated equally.</p>
    <p>I Fair/equal treatment across tenants (including the clouds own affiliates) may only relate to those with similar SLAs in how the cloud:</p>
    <p>I allocates any discretionary resources, I effectively underbooks resources when exploiting statistical multiplexing</p>
    <p>among tenants with similar SLAs (see paper), or I deals with congestion.</p>
    <p>I Without a single (or equivalent lumped) resource type, it may be challenging to identify groups of similar SLAs in order to define fair treatment.</p>
  </div>
  <div class="page">
    <p>Lessons from network neutrality reinterpreted</p>
    <p>Equal treatment modulo SLAs:</p>
    <p>I Neutrality does not mean that every tenant is treated equally. I Fair/equal treatment across tenants (including the clouds own</p>
    <p>affiliates) may only relate to those with similar SLAs in how the cloud:</p>
    <p>I allocates any discretionary resources, I effectively underbooks resources when exploiting statistical multiplexing</p>
    <p>among tenants with similar SLAs (see paper), or I deals with congestion.</p>
    <p>I Without a single (or equivalent lumped) resource type, it may be challenging to identify groups of similar SLAs in order to define fair treatment.</p>
  </div>
  <div class="page">
    <p>Lessons from network neutrality reinterpreted</p>
    <p>Equal treatment modulo SLAs:</p>
    <p>I Neutrality does not mean that every tenant is treated equally. I Fair/equal treatment across tenants (including the clouds own</p>
    <p>affiliates) may only relate to those with similar SLAs in how the cloud:</p>
    <p>I allocates any discretionary resources, I effectively underbooks resources when exploiting statistical multiplexing</p>
    <p>among tenants with similar SLAs (see paper), or I deals with congestion.</p>
    <p>I Without a single (or equivalent lumped) resource type, it may be challenging to identify groups of similar SLAs in order to define fair treatment.</p>
  </div>
  <div class="page">
    <p>Lessons from network neutrality reinterpreted (cont)</p>
    <p>I A neutral providers behavior must not be based on inside information or preferences, e.g.,</p>
    <p>I [Mogul et al. 15] consider a network bandwidth allocation problem wherein a cloud provider reckons tenant sensitivity to network bandwidth underprovisioning and uses this to allocate bandwidth differentially to improve its profits.</p>
    <p>I Given resource-oriented SLAs (not performance oriented), if cloud reckons sensitivity based on:</p>
    <p>I precise knowledge of tenants performance &amp; requirements, then not neutral</p>
    <p>I measured resource usage, then may be neutral I Amazon burstable VM instances use token-bucket regulation to</p>
    <p>govern access to network IO and CPU, and so may be more aggressively consolidated without workload inferences (neutrally, see technical report)</p>
  </div>
  <div class="page">
    <p>Lessons from network neutrality reinterpreted (cont)</p>
    <p>I A neutral providers behavior must not be based on inside information or preferences, e.g.,</p>
    <p>I [Mogul et al. 15] consider a network bandwidth allocation problem wherein a cloud provider reckons tenant sensitivity to network bandwidth underprovisioning and uses this to allocate bandwidth differentially to improve its profits.</p>
    <p>I Given resource-oriented SLAs (not performance oriented), if cloud reckons sensitivity based on:</p>
    <p>I precise knowledge of tenants performance &amp; requirements, then not neutral</p>
    <p>I measured resource usage, then may be neutral I Amazon burstable VM instances use token-bucket regulation to</p>
    <p>govern access to network IO and CPU, and so may be more aggressively consolidated without workload inferences (neutrally, see technical report)</p>
  </div>
  <div class="page">
    <p>Resource congestion, choice of boundary Nash equilibria</p>
    <p>x = incident tenant workload, R=resource (CPU, memory) capacity, d = tenant resource demand per unit workload</p>
  </div>
  <div class="page">
    <p>Memcached case study</p>
    <p>I We considered two Memcached tenants whose CPU and memory needs we manipulated to illustrate neutrality issues under different representative cloud resource management options.</p>
    <p>I Each tenant workload was generated by YCSB in time-varying fashion according to i.i.d. Gaussian processes with identical mean demand but the variance of tenant 2 is double that of tenant 1.</p>
    <p>I The tenants have the same SLAs corresponding to one guaranteed core, and the cloud has a discretionary third core that it can share between the two tenants.</p>
    <p>I Empirically, we found that a single core can achieve throughput of 75k ops/s with satisfactory mean response times of 400s.</p>
  </div>
  <div class="page">
    <p>Memcached case study</p>
    <p>I We considered two Memcached tenants whose CPU and memory needs we manipulated to illustrate neutrality issues under different representative cloud resource management options.</p>
    <p>I Each tenant workload was generated by YCSB in time-varying fashion according to i.i.d. Gaussian processes with identical mean demand but the variance of tenant 2 is double that of tenant 1.</p>
    <p>I The tenants have the same SLAs corresponding to one guaranteed core, and the cloud has a discretionary third core that it can share between the two tenants.</p>
    <p>I Empirically, we found that a single core can achieve throughput of 75k ops/s with satisfactory mean response times of 400s.</p>
  </div>
  <div class="page">
    <p>Memcached case study</p>
    <p>I We considered two Memcached tenants whose CPU and memory needs we manipulated to illustrate neutrality issues under different representative cloud resource management options.</p>
    <p>I Each tenant workload was generated by YCSB in time-varying fashion according to i.i.d. Gaussian processes with identical mean demand but the variance of tenant 2 is double that of tenant 1.</p>
    <p>I The tenants have the same SLAs corresponding to one guaranteed core, and the cloud has a discretionary third core that it can share between the two tenants.</p>
    <p>I Empirically, we found that a single core can achieve throughput of 75k ops/s with satisfactory mean response times of 400s.</p>
  </div>
  <div class="page">
    <p>Memcached case study</p>
    <p>I We considered two Memcached tenants whose CPU and memory needs we manipulated to illustrate neutrality issues under different representative cloud resource management options.</p>
    <p>I Each tenant workload was generated by YCSB in time-varying fashion according to i.i.d. Gaussian processes with identical mean demand but the variance of tenant 2 is double that of tenant 1.</p>
    <p>I The tenants have the same SLAs corresponding to one guaranteed core, and the cloud has a discretionary third core that it can share between the two tenants.</p>
    <p>I Empirically, we found that a single core can achieve throughput of 75k ops/s with satisfactory mean response times of 400s.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - set-up</p>
    <p>I The cloud may employ a weighted reservation (Resv) based approach or a work-conserving, proportional-share (CFS) scheduling for sharing the discretionary third core.</p>
    <p>I The Resv1:1 (equally weighted) and CFS1:1 schemes are arguably neutral as they are based only on parameters in the tenant SLAs, i.e., the same mean demands in this example corresponding to a single core;</p>
    <p>I while CFS3:7 is based on measured (conditional) demand-variation of the two tenants which is not part of their SLAs and so this scheme is arguably not neutral.</p>
    <p>I If the intention is to prevent tenant 2 (the one with more demand variation) from defecting to other cloud-services providers, a neutral cloud may tend to adopt CFS1:1.</p>
    <p>I On the other hand, a neutral cloud may want to entice tenant 2 to renegotiate a more costly SLA by adopting Resv1:1.</p>
    <p>I The premise here is that with greater demand variability, tenant 2 will out-compete tenant 1 for the discretionary CPU core under CFS;</p>
    <p>I but this may not be entirely the case when the tenant demands are positively correlated, i.e., how workload is consolidated by the cloud will impact such iso-neutral decision-making.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - results</p>
    <p>Table: Latency of tenants, uncorrelated demand scenario:</p>
    <p>CFS3:7 CFS1:1 Resv1:1 95-th avg 95-th avg 95-th avg</p>
    <p>Tenant 1 484 318 449 382 451 365 Tenant 2 418 254 435 284 444 299</p>
    <p>I The more demand-variable tenant 2 has best latency performance (both in mean and 95 percentile) under non-neutral CFS3:7, irrespective of tenant demand correlation.</p>
    <p>I Also for simulated correlated tenant demand, improved 95-percentile latency performance for tenant 2 under CFS1:1 over Resv1:1; but not for mean latency (unlike uncorrelated scenario above).</p>
    <p>I See paper for an example involving memory allocation.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - results</p>
    <p>Table: Latency of tenants, uncorrelated demand scenario:</p>
    <p>CFS3:7 CFS1:1 Resv1:1 95-th avg 95-th avg 95-th avg</p>
    <p>Tenant 1 484 318 449 382 451 365 Tenant 2 418 254 435 284 444 299</p>
    <p>I The more demand-variable tenant 2 has best latency performance (both in mean and 95 percentile) under non-neutral CFS3:7, irrespective of tenant demand correlation.</p>
    <p>I Also for simulated correlated tenant demand, improved 95-percentile latency performance for tenant 2 under CFS1:1 over Resv1:1; but not for mean latency (unlike uncorrelated scenario above).</p>
    <p>I See paper for an example involving memory allocation.</p>
  </div>
  <div class="page">
    <p>Resv vs CFS based sharing of discretionary core - results</p>
    <p>Table: Latency of tenants, uncorrelated demand scenario:</p>
    <p>CFS3:7 CFS1:1 Resv1:1 95-th avg 95-th avg 95-th avg</p>
    <p>Tenant 1 484 318 449 382 451 365 Tenant 2 418 254 435 284 444 299</p>
    <p>I The more demand-variable tenant 2 has best latency performance (both in mean and 95 percentile) under non-neutral CFS3:7, irrespective of tenant demand correlation.</p>
    <p>I Also for simulated correlated tenant demand, improved 95-percentile latency performance for tenant 2 under CFS1:1 over Resv1:1; but not for mean latency (unlike uncorrelated scenario above).</p>
    <p>I See paper for an example involving memory allocation.</p>
  </div>
  <div class="page">
    <p>Summary challenges regarding cloud neutrality</p>
    <p>I Tenant-side auditing/verification I select resource granularities I simplify by use of a lumped resource, e.g., energy I use of hardware verification technology I role of third-party verifiers I account for natural performance impact of interference (through</p>
    <p>unvirtualized resources) and hardware heterogeneity, i.e., effective capacity variation, that do not violate SLAs</p>
    <p>I Cloud-side regulation re. information limits, inferences it can make, and control actions it can take (e.g., neutral scheduling)</p>
    <p>I Relate to neutrality regulations in the Internet</p>
    <p>I General scalability and accuracy issues</p>
  </div>
  <div class="page">
    <p>Summary challenges regarding cloud neutrality</p>
    <p>I Tenant-side auditing/verification I select resource granularities I simplify by use of a lumped resource, e.g., energy I use of hardware verification technology I role of third-party verifiers I account for natural performance impact of interference (through</p>
    <p>unvirtualized resources) and hardware heterogeneity, i.e., effective capacity variation, that do not violate SLAs</p>
    <p>I Cloud-side regulation re. information limits, inferences it can make, and control actions it can take (e.g., neutral scheduling)</p>
    <p>I Relate to neutrality regulations in the Internet</p>
    <p>I General scalability and accuracy issues</p>
  </div>
  <div class="page">
    <p>Summary challenges regarding cloud neutrality</p>
    <p>I Tenant-side auditing/verification I select resource granularities I simplify by use of a lumped resource, e.g., energy I use of hardware verification technology I role of third-party verifiers I account for natural performance impact of interference (through</p>
    <p>unvirtualized resources) and hardware heterogeneity, i.e., effective capacity variation, that do not violate SLAs</p>
    <p>I Cloud-side regulation re. information limits, inferences it can make, and control actions it can take (e.g., neutral scheduling)</p>
    <p>I Relate to neutrality regulations in the Internet</p>
    <p>I General scalability and accuracy issues</p>
  </div>
  <div class="page">
    <p>Summary challenges regarding cloud neutrality</p>
    <p>I Tenant-side auditing/verification I select resource granularities I simplify by use of a lumped resource, e.g., energy I use of hardware verification technology I role of third-party verifiers I account for natural performance impact of interference (through</p>
    <p>unvirtualized resources) and hardware heterogeneity, i.e., effective capacity variation, that do not violate SLAs</p>
    <p>I Cloud-side regulation re. information limits, inferences it can make, and control actions it can take (e.g., neutral scheduling)</p>
    <p>I Relate to neutrality regulations in the Internet</p>
    <p>I General scalability and accuracy issues</p>
  </div>
</Presentation>
