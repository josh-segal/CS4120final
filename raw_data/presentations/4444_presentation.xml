<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>A Measurement Framework for Pin-Pointing Routing</p>
    <p>Changes Renata Teixeira</p>
    <p>(UC San Diego) http://www-cse.ucsd.edu/~teixeira</p>
    <p>with</p>
    <p>Jennifer Rexford (AT&amp;T)</p>
    <p>NetTs04  Portland, OR</p>
  </div>
  <div class="page">
    <p>Why understand routing changes?</p>
    <p>Routing changes cause service disruptions  Convergence delay  Traffic shift  Change in path properties</p>
    <p>RTT, available bandwidth, or lost connectivity</p>
    <p>Operators need to know  Why: For diagnosing and fixing problems  Where: For accountability</p>
    <p>Need to guarantee service-level agreements</p>
  </div>
  <div class="page">
    <p>What can be done with active measurements?</p>
    <p>Active measurements: traceroute-like tools  Cant probe in the past  Shows the effect, not the cause</p>
    <p>User (s)</p>
    <p>Web Server</p>
    <p>(d)AS 1</p>
    <p>AS 2</p>
    <p>AS 3</p>
    <p>AS 4</p>
  </div>
  <div class="page">
    <p>Can we use passive measurements?</p>
    <p>Passive measurements: public BGP data</p>
    <p>Data Correlation</p>
    <p>BGP update feeds</p>
    <p>root cause Data Collection</p>
    <p>(RouteViews, RIPE)</p>
  </div>
  <div class="page">
    <p>Why Public BGP Data is Not Enough?</p>
    <p>Myth: The BGP updates from a single router accurately represent the AS</p>
    <p>C</p>
    <p>A B</p>
    <p>D BGP data collection</p>
    <p>dst</p>
    <p>AS 1 AS 2</p>
    <p>No change</p>
    <p>The measurement system needs to capture the BGP routing changes from all border routers</p>
  </div>
  <div class="page">
    <p>Why Public BGP Data is Not Enough?</p>
    <p>C</p>
    <p>A B</p>
    <p>D BGP data collection</p>
    <p>dst</p>
    <p>AS 1 AS 2</p>
    <p>Myth:Routing changes visible in eBGP have greater impact end-to-end impact than changes with local scope.</p>
    <p>The measurement system needs to capture internal changes inside an AS</p>
  </div>
  <div class="page">
    <p>Why Public BGP Data is Not Enough?</p>
    <p>ABGP data collection</p>
    <p>Myth:BGP data from a router accurately represents changes on that router.</p>
  </div>
  <div class="page">
    <p>Misleading BGP Changes</p>
    <p>BGP data collection</p>
    <p>Myth:The AS responsible for the change appears in the old or the new AS path.</p>
    <p>Accurate troubleshooting may require measurement data from each AS</p>
    <p>old: 1,2,8,9,10 new: 1,4,5,6,7,10</p>
  </div>
  <div class="page">
    <p>Misleading BGP Changes</p>
    <p>Myth:Looking at routing changes across prefixes resolves</p>
    <p>A B</p>
    <p>C BGP data collection</p>
    <p>AS 1 AS 2</p>
    <p>AS 3</p>
    <p>d1</p>
    <p>d2</p>
    <p>d3</p>
    <p>pin-point the reason for the change</p>
    <p>Changes for d2, but not for d1 and d3</p>
  </div>
  <div class="page">
    <p>Strawman Proposal: Omni Server</p>
    <p>Creating an AS-level view  BGP feeds from all border routers</p>
    <p>Inject all routes known in each router  Internal routing data  Archive log of routing changes</p>
    <p>Responding to queries  Local cause: responds directly  No local change: query neighbor AS  Local change from downstream cause: query old</p>
    <p>and/or new neighbor AS</p>
  </div>
  <div class="page">
    <p>Diagnosis with Omnis</p>
    <p>i</p>
    <p>jOmni 1</p>
    <p>Omni 3</p>
    <p>Omni 2</p>
    <p>Omni 4</p>
    <p>User (s)</p>
    <p>Web Server</p>
    <p>(d)</p>
    <p>(i,s,d,t)</p>
    <p>(j,s,d,t) failure link (3,4)</p>
    <p>failure link (3,4)</p>
    <p>AS 1</p>
    <p>AS 2</p>
    <p>AS 3</p>
    <p>AS 4</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>Passive data  AS-level view  History (answers in the past)  Distributed</p>
    <p>Active querying  Servers, not routers  See cause, not effect</p>
  </div>
  <div class="page">
    <p>Future Directions</p>
    <p>How often are the myths violated?  Measurement studies of ISP networks</p>
    <p>Doesnt Omni require lots of data?  ISPs already collect this kind of data  Routing protocols extensions to reveal reasons of routing</p>
    <p>changes</p>
    <p>Will ASes really cooperate?  Pressure to provide service-level agreements  Small group of ASes that choose to cooperate</p>
    <p>Wont ASes cheat?  Need techniques to detect persistent lying</p>
  </div>
</Presentation>
