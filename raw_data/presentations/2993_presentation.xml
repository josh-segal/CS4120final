<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Altruistic Scheduling in Multi-Resource Clusters</p>
    <p>Robert Grandl, Mosharaf Chowdhury,</p>
    <p>Aditya Akella, Ganesh Ananthanarayanan</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Performance of Cluster Schedulers</p>
    <p>We observe that:</p>
    <p>Existing cluster schedulers focus on instantaneous fairness</p>
  </div>
  <div class="page">
    <p>Performance of Cluster Schedulers</p>
    <p>We observe that:</p>
    <p>Existing cluster schedulers focus on instantaneous fairness</p>
    <p>Long-term fairness enables larger scheduling flexibility</p>
  </div>
  <div class="page">
    <p>Performance of Cluster Schedulers</p>
    <p>We observe that:</p>
    <p>Existing cluster schedulers focus on instantaneous fairness</p>
    <p>Data-parallel jobs provide ample opportunities for long-term optimizations</p>
    <p>Long-term fairness enables larger scheduling flexibility</p>
  </div>
  <div class="page">
    <p>Performance of Cluster Schedulers</p>
    <p>We observe that:</p>
    <p>Existing cluster schedulers focus on instantaneous fairness</p>
    <p>Data-parallel jobs provide ample opportunities for long-term optimizations</p>
    <p>Carbyne 1.3x higher cluster efficiency;</p>
    <p>Long-term fairness enables larger scheduling flexibility</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
    <p>Cluster Wide Resource Manager</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
    <p>Cluster Wide Resource Manager</p>
    <p>Cluster resources</p>
    <p>Inter-Job Scheduler</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
    <p>Cluster Wide Resource Manager</p>
    <p>Cluster resources</p>
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
    <p>Cluster Wide Resource Manager</p>
    <p>#1: Fairness</p>
    <p>Objectives: Cluster resources</p>
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
    <p>Cluster Wide Resource Manager</p>
    <p>#1: Fairness</p>
    <p>Objectives: Cluster resources</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Jobs</p>
    <p>Cluster Wide Resource Manager</p>
    <p>#1: Fairness</p>
    <p>Objectives: Cluster resources</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>= is difficult!</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>#1: Fairness #2: Job Performance #3: Cluster Efficiency = is difficult!</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives:</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency = is difficult!</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives:</p>
    <p>Max-min fair sharing across multiple dimensions Dominant Resource Fairness</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Shortest Job First (SJF)</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives: = is difficult!</p>
    <p>Schedule jobs near completion first</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Shortest Job First (SJF)  Tetris [SIGCOMM14]</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives: = is difficult!</p>
    <p>Efficiently pack resources</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Shortest Job First (SJF)  Tetris [SIGCOMM14]</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives: = is difficult!</p>
    <p>Outperforms Underperforms  Preferred metric  Secondary metrics</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Shortest Job First (SJF)  Tetris [SIGCOMM14]</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives:</p>
    <p>Outperforms Underperforms  Preferred metric  Secondary metrics</p>
    <p>= is difficult!</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Shortest Job First (SJF)  Tetris [SIGCOMM14]</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives:</p>
    <p>Outperforms Underperforms  Preferred metric  Secondary metrics</p>
    <p>= is difficult!</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Shortest Job First (SJF)  Tetris [SIGCOMM14]</p>
    <p>#1: Fairness  DRF [NSDI11]</p>
    <p>#2: Job Performance #3: Cluster Efficiency</p>
    <p>TPC-DS workload on a 100-machine cluster</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Objectives:</p>
    <p>Outperforms Underperforms  Preferred metric  Secondary metrics</p>
    <p>= is difficult!</p>
  </div>
  <div class="page">
    <p>Scheduling in Data Analytics Clusters</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
    <p>Is it possible to ensure fairness and still be competitive with the best approaches</p>
    <p>for the secondary metrics (job performance and cluster efficiency)? 4</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>Greedy decisions</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>Greedy decisions</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S0</p>
    <p>S1</p>
    <p>S0</p>
    <p>S2</p>
    <p>Avg. JCT: 2.05</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S0</p>
    <p>S1</p>
    <p>S0</p>
    <p>S2</p>
    <p>Avg. JCT: 2.05</p>
    <p>Users care less for instantaneous fairness</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Traditional scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S0</p>
    <p>S1</p>
    <p>S0</p>
    <p>S2</p>
    <p>Avg. JCT: 2.05</p>
    <p>Users care less for instantaneous fairness</p>
    <p>Assumption:  Know tasks demands and durations</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Altruistic scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>S0</p>
    <p>S1</p>
    <p>S0</p>
    <p>S2</p>
    <p>Avg. JCT: 2.05</p>
    <p>Users care less for instantaneous fairness</p>
    <p>Leftover: donated unnecessary resources</p>
    <p>Altruism: an action to contribute leftover resources</p>
    <p>S0 S0</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#1</p>
    <p>Modern cluster schedulers focus on</p>
    <p>instantaneous fairness and force short-term</p>
    <p>optimizations</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
    <p>Traditional scheduling</p>
    <p>Altruistic scheduling Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>S0</p>
    <p>S1 S2</p>
    <p>Users care less for instantaneous fairness</p>
    <p>Leftover: donated unnecessary resources</p>
    <p>Altruism: an action to contribute leftover resources</p>
    <p>S0 S0</p>
    <p>S0</p>
    <p>Avg. JCT: 1.33 x better</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#2</p>
    <p>Jobs in data analytics clusters have ample</p>
    <p>opportunities for altruism</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#2</p>
    <p>Jobs in data analytics clusters have ample</p>
    <p>opportunities for altruism</p>
    <p>What increases opportunities?</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#2</p>
    <p>Jobs in data analytics clusters have ample</p>
    <p>opportunities for altruism</p>
    <p>What increases opportunities?</p>
    <p>Complex DAG structures</p>
    <p>Longer DAGs</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#2</p>
    <p>Jobs in data analytics clusters have ample</p>
    <p>opportunities for altruism</p>
    <p>What increases opportunities?</p>
    <p>Complex DAG structures</p>
    <p>Longer DAGs</p>
    <p>How much opportunities?</p>
  </div>
  <div class="page">
    <p>Key observation</p>
    <p>#2</p>
    <p>Jobs in data analytics clusters have ample</p>
    <p>opportunities for altruism</p>
    <p>What increases opportunities?</p>
    <p>Complex DAG structures</p>
    <p>Longer DAGs</p>
    <p>How much opportunities?</p>
  </div>
  <div class="page">
    <p>Altruistic multi-resource scheduling technique</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Altruistic multi-resource scheduling technique</p>
    <p>Leftover</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Altruistic multi-resource scheduling technique</p>
    <p>#1. How to maximize the amount of leftover</p>
    <p>resources?</p>
    <p>Inter-Job Scheduler</p>
    <p>Leftover</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Altruistic multi-resource scheduling technique</p>
    <p>#1. How to maximize the amount of leftover</p>
    <p>resources?</p>
    <p>#2. How much leftover should contribute?</p>
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Altruistic multi-resource scheduling technique</p>
    <p>#1. How to maximize the amount of leftover</p>
    <p>resources?</p>
    <p>#2. How much leftover should contribute?</p>
    <p>#3. How to redistribute the leftover ?</p>
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Maximize the amount of leftover resources</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Maximize the amount of leftover resources</p>
    <p>Instantaneous fairness elongates job completion time the most and increases altruism opportunities</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Maximize the amount of leftover resources</p>
    <p>Instantaneous fairness elongates job completion time the most and increases altruism opportunities</p>
    <p>Carbyne uses DRF for inter-job scheduling</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Maximize the amount of leftover resources</p>
    <p>Instantaneous fairness elongates job completion time the most and increases altruism opportunities</p>
    <p>Carbyne uses DRF for inter-job scheduling</p>
    <p>Any fair scheduler technique can be used</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Maximize the amount of leftover resources</p>
    <p>Instantaneous fairness elongates job completion time the most and increases altruism opportunities</p>
    <p>Carbyne uses DRF for inter-job scheduling</p>
    <p>Any fair scheduler technique can be used</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>Maximize the amount of leftover resources</p>
    <p>Instantaneous fairness elongates job completion time the most and increases altruism opportunities</p>
    <p>Carbyne uses DRF for inter-job scheduling</p>
    <p>Any fair scheduler technique can be used</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S1 S2 JCT Job 1: 2.1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S1 S2</p>
    <p>S0 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0 9</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S1 S2</p>
    <p>S0 S0 Move into</p>
    <p>future</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S0</p>
    <p>S1 S1</p>
    <p>S0</p>
    <p>S1 S2</p>
    <p>S0 S0</p>
    <p>Scheduling in the future from finish to current time</p>
    <p>Move into future</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>Move into future</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Scheduling in the future from finish to current time</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Scheduling in the future from finish to current time</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Scheduling in the future from finish to current time</p>
    <p>Donate leftover resources through altruism</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>Job 1:</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How much leftover to contribute?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>Traditional scheduling to compute expected completion time</p>
    <p>Scheduling in the future from finish to current time</p>
    <p>Donate leftover resources through altruism</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Leftover 0.29 Job 1: 0.21 Job 2:</p>
    <p>Total: 0.50</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Leftover Total: 0.50</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>Goal 1: Improve average JCT</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Leftover Total: 0.50</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>Goal 1: Improve average JCT</p>
    <p>Goal 2: Maximize efficiency</p>
    <p>Goals 1 and 2 can be interchanged</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Leftover Total: 0.50</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0 S0</p>
    <p>Goal 1: Improve average JCT</p>
    <p>Goal 2: Maximize efficiency</p>
    <p>Goals 1 and 2 can be interchanged</p>
    <p>Schedule jobs closest to completion time first</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Leftover Total: 0.50</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0</p>
    <p>S0</p>
    <p>Goal 1: Improve average JCT</p>
    <p>Goal 2: Maximize efficiency</p>
    <p>Goals 1 and 2 can be interchanged</p>
    <p>Schedule jobs closest to completion time first</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>Leftover Total: 0.21</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 1.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0</p>
    <p>S0</p>
    <p>S0</p>
    <p>S1 S0</p>
    <p>Goal 1: Improve average JCT</p>
    <p>Goal 2: Maximize efficiency</p>
    <p>Goals 1 and 2 can be interchanged</p>
    <p>Schedule jobs closest to completion time first</p>
    <p>Pack as many unscheduled tasks are possible</p>
    <p>Leftover Total: 0.21</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 1.0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Inter-Job Scheduler</p>
    <p>Intra-Job Scheduler</p>
    <p>Leftover</p>
    <p>How to redistribute the leftover resources?</p>
    <p>Time</p>
    <p>C a</p>
    <p>p a</p>
    <p>ci ty</p>
    <p>Fair Allocation</p>
    <p>S1 S1 S2</p>
    <p>S0</p>
    <p>S0</p>
    <p>S1 S0 S0</p>
    <p>Goal 1: Improve average JCT</p>
    <p>Goal 2: Maximize efficiency</p>
    <p>Goals 1 and 2 can be interchanged</p>
    <p>Schedule jobs closest to completion time first</p>
    <p>Pack as many unscheduled tasks are possible</p>
    <p>JCT Job 1: 2.1</p>
    <p>JCT Job 2: 2.0</p>
    <p>Leftover Total: 0</p>
    <p>Job 1</p>
    <p>S0 2 x &lt;.08&gt; @.5</p>
    <p>S1 3 x &lt;.21&gt; @1</p>
    <p>S2 1 x &lt;.1&gt; @.1</p>
    <p>S0 2 x &lt;.29&gt; @1</p>
    <p>Job 2</p>
    <p>Stage ID #Tasks x &lt;Res. req&gt; @Dur</p>
  </div>
  <div class="page">
    <p>Putting it all together</p>
    <p>We saw</p>
    <p>Increase leftover via Inter-Job Scheduling  Adopting best fair schedulers</p>
  </div>
  <div class="page">
    <p>Putting it all together</p>
    <p>We saw</p>
    <p>Increase leftover via Inter-Job Scheduling  Adopting best fair schedulers</p>
    <p>Compute leftover via Intra-Job Scheduling</p>
  </div>
  <div class="page">
    <p>Putting it all together</p>
    <p>We saw</p>
    <p>Increase leftover via Inter-Job Scheduling  Adopting best fair schedulers</p>
    <p>Compute leftover via Intra-Job Scheduling</p>
    <p>Leftover redistribution  Improve JCT and cluster efficiency</p>
  </div>
  <div class="page">
    <p>Putting it all together</p>
    <p>We saw</p>
    <p>Increase leftover via Inter-Job Scheduling  Adopting best fair schedulers</p>
    <p>Compute leftover via Intra-Job Scheduling</p>
    <p>Leftover redistribution  Improve JCT and cluster efficiency</p>
    <p>Other things in the paper</p>
    <p>Bounding altruism with P(Altruism)</p>
  </div>
  <div class="page">
    <p>Putting it all together</p>
    <p>We saw</p>
    <p>Increase leftover via Inter-Job Scheduling  Adopting best fair schedulers</p>
    <p>Compute leftover via Intra-Job Scheduling</p>
    <p>Leftover redistribution  Improve JCT and cluster efficiency</p>
    <p>Other things in the paper</p>
    <p>Bounding altruism with P(Altruism) Resource estimation</p>
  </div>
  <div class="page">
    <p>Putting it all together</p>
    <p>We saw</p>
    <p>Increase leftover via Inter-Job Scheduling  Adopting best fair schedulers</p>
    <p>Compute leftover via Intra-Job Scheduling</p>
    <p>Leftover redistribution  Improve JCT and cluster efficiency</p>
    <p>Other things in the paper</p>
    <p>Bounding altruism with P(Altruism) Resource estimation Data locality Straggler mitigation Task failures</p>
  </div>
  <div class="page">
    <p>Evaluation</p>
    <p>Implemented in Yarn and Tez  100 machine cluster deployment  Replay Bing / Facebook traces and</p>
    <p>TPC-DS / TPC-H workloads</p>
  </div>
  <div class="page">
    <p>Fairness vs. Performance vs. Efficiency</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency</p>
  </div>
  <div class="page">
    <p>Fairness vs. Performance vs. Efficiency</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency 0</p>
    <p>Comparable performance with best approaches in each metric</p>
  </div>
  <div class="page">
    <p>Fairness vs. Performance vs. Efficiency</p>
    <p>Ja in</p>
    <p>s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Inter-job fairness</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Job Performance</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>Cluster efficiency 0</p>
    <p>Comparable performance with best approaches in each metric</p>
    <p>Gains from</p>
    <p>Altruism helps in long run</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>DRF</p>
    <p>Gains from</p>
    <p>Altruism helps in long run</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>DRF</p>
    <p>Carbyne w/o leftover  Only running tasks from being altruistic</p>
    <p>Carbyne  Tasks from being altruistic and from</p>
    <p>leftover redistribution</p>
    <p>DRF  Tasks from a DRF allocation</p>
    <p>Gains from</p>
    <p>Altruism helps in long run</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Altruistic</p>
    <p>Greedy</p>
    <p>Carbyne w/o leftover  Only running tasks from being altruistic</p>
    <p>Carbyne  Tasks from being altruistic and from</p>
    <p>leftover redistribution</p>
    <p>DRF  Tasks from a DRF allocation</p>
    <p>DRF takes greedy decisions</p>
    <p>Low resource contention Gains from</p>
    <p>Altruism helps in long run</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Carbyne w/o leftover  Only running tasks from being altruistic</p>
    <p>Carbyne  Tasks from being altruistic and from</p>
    <p>leftover redistribution</p>
    <p>DRF  Tasks from a DRF allocation</p>
    <p>DRF takes greedy decisions</p>
    <p>Approximates DRF allocation due to leftover</p>
    <p>Low resource contention Gains from</p>
    <p>Altruism helps in long run</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>DRF progress is slowed down</p>
    <p>Carbyne w/o leftover  Only running tasks from being altruistic</p>
    <p>Carbyne  Tasks from being altruistic and from</p>
    <p>leftover redistribution</p>
    <p>DRF  Tasks from a DRF allocation</p>
    <p>High resource contention Gains from</p>
    <p>Altruism helps in long run</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Leftover</p>
    <p>DRF progress is slowed down</p>
    <p>Carbyne progress faster due to receiving leftover</p>
    <p>Carbyne w/o leftover  Only running tasks from being altruistic</p>
    <p>Carbyne  Tasks from being altruistic and from</p>
    <p>leftover redistribution</p>
    <p>DRF  Tasks from a DRF allocation</p>
    <p>High resource contention Gains from</p>
    <p>Altruism helps in long run</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>Performance</p>
    <p>Better jobs completion time</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>Performance</p>
    <p>Better jobs completion time</p>
    <p>16% jobs slowed down</p>
    <p>4% only by more than 0.8x</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>Performance</p>
    <p>Better jobs completion time</p>
    <p>16% jobs slowed down</p>
    <p>4% only by more than 0.8x</p>
    <p>Which jobs slow down?</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>Performance</p>
    <p>Better jobs completion time</p>
    <p>16% jobs slowed down</p>
    <p>4% only by more than 0.8x</p>
    <p>Which jobs slow down?</p>
    <p>Longer jobs</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>Performance</p>
    <p>Better jobs completion time</p>
    <p>16% jobs slowed down</p>
    <p>4% only by more than 0.8x</p>
    <p>Which jobs slow down?</p>
    <p>Longer jobs</p>
    <p>No bias towards shorter jobs</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Job Performance</p>
    <p>Performance</p>
    <p>Better jobs completion time</p>
    <p>16% jobs slowed down</p>
    <p>4% only by more than 0.8x</p>
    <p>Which jobs slow down?</p>
    <p>Longer jobs</p>
    <p>No bias towards shorter jobs</p>
    <p>Most jobs benefit from leftover</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Job Completion Time (Seconds)</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Carbyne</p>
    <p># R</p>
    <p>u n</p>
    <p>n in</p>
    <p>g T</p>
    <p>a sk</p>
    <p>s</p>
    <p>Time (Seconds)</p>
    <p>Carbyne w/o Leftover Carbyne DRF</p>
    <p>Snapshot of the execution of a TPC-DS query</p>
  </div>
  <div class="page">
    <p>Impact of a Better Intra-Job Scheduler</p>
    <p>Default intra-job scheduler  Tetris</p>
  </div>
  <div class="page">
    <p>Impact of a Better Intra-Job Scheduler</p>
    <p>Default intra-job scheduler  Tetris</p>
    <p>Carbyne+Tetris</p>
    <p>Factor of Improvement (w.r.t. DRF)</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
  </div>
  <div class="page">
    <p>Impact of a Better Intra-Job Scheduler</p>
    <p>Default intra-job scheduler  Tetris</p>
    <p>Limited view of the jobs DAG</p>
    <p>Carbyne+Tetris</p>
    <p>Factor of Improvement (w.r.t. DRF)</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
  </div>
  <div class="page">
    <p>Impact of a Better Intra-Job Scheduler</p>
    <p>Default intra-job scheduler  Tetris</p>
    <p>Limited view of the jobs DAG</p>
    <p>Better intra-job scheduler  Graphene  DAG-wide view</p>
    <p>Carbyne+Tetris</p>
    <p>Factor of Improvement (w.r.t. DRF)</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
  </div>
  <div class="page">
    <p>Impact of a Better Intra-Job Scheduler</p>
    <p>Default intra-job scheduler  Tetris</p>
    <p>Limited view of the jobs DAG</p>
    <p>Carbyne+Tetris</p>
    <p>Carbyne +GRAPHENE</p>
    <p>Factor of Improvement (w.r.t. DRF)</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Better intra-job scheduler  Graphene  DAG-wide view</p>
  </div>
  <div class="page">
    <p>Impact of a Better Intra-Job Scheduler</p>
    <p>Default intra-job scheduler  Tetris</p>
    <p>Limited view of the jobs DAG</p>
    <p>Carbyne+Tetris</p>
    <p>Carbyne +GRAPHENE</p>
    <p>Factor of Improvement (w.r.t. DRF)</p>
    <p>F ra</p>
    <p>ct io</p>
    <p>n o</p>
    <p>f Jo</p>
    <p>b s</p>
    <p>Better intra-job scheduler  Graphene  DAG-wide view</p>
    <p>Extracts more leftover</p>
    <p>Further increase performance</p>
  </div>
  <div class="page">
    <p>Maximize Leftover for</p>
    <p>Individual Jobs</p>
    <p>Redistribution via Leftover Scheduling</p>
    <p>Increase Leftover via</p>
    <p>Inter-Job Scheduling</p>
    <p>Fairness Performance</p>
    <p>Efficiency Carbyne</p>
  </div>
  <div class="page">
    <p>Maximize Leftover for</p>
    <p>Individual Jobs</p>
    <p>Redistribution via Leftover Scheduling</p>
    <p>Increase Leftover via</p>
    <p>Inter-Job Scheduling</p>
    <p>Fairness Performance</p>
    <p>Efficiency</p>
    <p>Long-term altruistic view of Carbyne outperforms existing cluster schedulers which focus on instantaneous fairness</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Maximize Leftover for</p>
    <p>Individual Jobs</p>
    <p>Redistribution via Leftover Scheduling</p>
    <p>Increase Leftover via</p>
    <p>Inter-Job Scheduling</p>
    <p>Fairness Performance</p>
    <p>Efficiency</p>
    <p>Long-term altruistic view of Carbyne outperforms existing cluster schedulers which focus on instantaneous fairness</p>
    <p>Implemented inside YARN and Tez</p>
    <p>Carbyne</p>
  </div>
  <div class="page">
    <p>Maximize Leftover for</p>
    <p>Individual Jobs</p>
    <p>Redistribution via Leftover Scheduling</p>
    <p>Increase Leftover via</p>
    <p>Inter-Job Scheduling</p>
    <p>Fairness Performance</p>
    <p>Efficiency</p>
    <p>Long-term altruistic view of Carbyne outperforms existing cluster schedulers which focus on instantaneous fairness</p>
    <p>Implemented inside YARN and Tez</p>
    <p>Carbyne</p>
    <p>Performance comparable with best approaches in terms of fairness and job completion time and cluster efficiency</p>
  </div>
  <div class="page">
    <p>Backup slides</p>
  </div>
  <div class="page">
    <p>Impact of Altruism Levels</p>
    <p>DRF</p>
    <p>Tetris</p>
    <p>Probability of Making Altruistic Choices</p>
    <p>Fa ct</p>
    <p>o r</p>
    <p>o f</p>
    <p>im p</p>
    <p>ro v</p>
    <p>e m</p>
    <p>e n</p>
    <p>t</p>
    <p>Increasing levels of altruism increase performance</p>
    <p>Comparable when P(Altruism) == 0</p>
  </div>
  <div class="page">
    <p>Impact of Misestimations</p>
    <p>-50 -25 0 25 50</p>
    <p>DRF</p>
    <p>Tetris Fa</p>
    <p>ct o</p>
    <p>r o</p>
    <p>f im</p>
    <p>p ro</p>
    <p>v e</p>
    <p>m e</p>
    <p>n t</p>
    <p>Error in Resource Misestimations [%]</p>
    <p>Consistently better performance</p>
    <p>Comparable when resources are underestimated</p>
  </div>
  <div class="page">
    <p>Impact of Contention</p>
    <p>More contention increases the need for carefully rearranging tasks</p>
    <p>Too much contention saturates the cluster; not much room for leftover allocations</p>
    <p>ct o</p>
    <p>r o</p>
    <p>f im</p>
    <p>p ro</p>
    <p>v e</p>
    <p>m e</p>
    <p>n t</p>
    <p>Multiple of Original Load</p>
    <p>DRF Tetris</p>
  </div>
  <div class="page">
    <p>Even in online case, Carbyne comes closely to the best metric in each metric</p>
    <p>Fairness vs. Performance vs. Efficiency - Online</p>
    <p>Ja in</p>
    <p>'s F</p>
    <p>a ir</p>
    <p>n e</p>
    <p>ss I</p>
    <p>n d</p>
    <p>e x</p>
    <p>A v</p>
    <p>g .</p>
    <p>JC T</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
    <p>M a</p>
    <p>ke sp</p>
    <p>a n</p>
    <p>( se</p>
    <p>co n</p>
    <p>d s)</p>
  </div>
  <div class="page">
    <p>Data Locality vs. Straggler Mitigation vs. Task Failures</p>
    <p>Altruistically giving up resources for data-local task may have adverse effects</p>
    <p>An altruistically delayed data-local task is likely to find data locality when it is eventually scheduled</p>
    <p>Data Locality</p>
    <p>Likely to prioritize speculative tasks during leftover scheduling because it selects jobs in the SRTF order</p>
    <p>Straggler Mitigation</p>
    <p>Does not distinguish between new and restarted tasks</p>
    <p>in case of task failures, it has to recalculate the expected completion time for the job</p>
    <p>Handling Task Failures</p>
  </div>
</Presentation>
