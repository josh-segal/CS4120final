<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Extending SSD Lifetimes with Disk-Based Write Caches</p>
    <p>Gokul Soundararajan University of Toronto</p>
    <p>Vijayan Prabhakaran Mahesh Balakrishnan Ted Wobber Microsoft Research</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Solid-State Devices (SSDs)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Solid-State Devices (SSDs)</p>
    <p>Replacing Hard Disk Drives (HDDs) - Fast I/O reads</p>
    <p>- Consume low power, no moving parts, and more reliable</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Solid-State Devices (SSDs)</p>
    <p>Replacing Hard Disk Drives (HDDs) - Fast I/O reads</p>
    <p>- Consume low power, no moving parts, and more reliable</p>
    <p>Limited write cycles - Need to erase block before re-write</p>
    <p>- High end SLC provide 100,000 erase cycles</p>
    <p>- Mainstream MLC provides 5,000-10,000 erase cycles</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Solid-State Devices (SSDs)</p>
    <p>Replacing Hard Disk Drives (HDDs) - Fast I/O reads</p>
    <p>- Consume low power, no moving parts, and more reliable</p>
    <p>Limited write cycles - Need to erase block before re-write</p>
    <p>- High end SLC provide 100,000 erase cycles</p>
    <p>- Mainstream MLC provides 5,000-10,000 erase cycles</p>
    <p>Starting to be used in laptops/desktops - Contain write intensive workloads</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>SSD Write-lifetime</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>SSD Write-lifetime</p>
    <p>Ideal Micron C200 Intel X-25M 0</p>
    <p>W ri</p>
    <p>te L</p>
    <p>if e</p>
    <p>ti m</p>
    <p>e (</p>
    <p>T B</p>
    <p>) Maximum amount of data that can be written to the</p>
    <p>SSD</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>SSD Write-lifetime</p>
    <p>Ideal Micron C200 Intel X-25M 0</p>
    <p>W ri</p>
    <p>te L</p>
    <p>if e</p>
    <p>ti m</p>
    <p>e (</p>
    <p>T B</p>
    <p>) 60GBx5000 =</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>SSD Write-lifetime</p>
    <p>Ideal Micron C200 Intel X-25M 0</p>
    <p>W ri</p>
    <p>te L</p>
    <p>if e</p>
    <p>ti m</p>
    <p>e (</p>
    <p>T B</p>
    <p>)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>SSD Write-lifetime</p>
    <p>Ideal Micron C200 Intel X-25M 0</p>
    <p>W ri</p>
    <p>te L</p>
    <p>if e</p>
    <p>ti m</p>
    <p>e (</p>
    <p>T B</p>
    <p>)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin Writes</p>
    <p>Reads Reads</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Options</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Options RAM</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Options RAM</p>
    <p>NVRAM</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Options RAM</p>
    <p>NVRAM SSD</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Options RAM</p>
    <p>NVRAM SSD</p>
    <p>Hard Disk</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin Hybrid Device</p>
    <p>Write Cache SSD</p>
    <p>Hybrid Device Controller</p>
    <p>Griffin</p>
    <p>MIGRATE</p>
    <p>Writes Reads</p>
    <p>Reads</p>
    <p>Why Hard Disk? Durable Capacity Cheap</p>
    <p>Sequential I/O</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Contributions</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Contributions</p>
    <p>Characterized I/O patterns - Found desktop/server traces contains many overwrites</p>
    <p>- Caching overwrites reduces writes to SSD by 52% ideally</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Contributions</p>
    <p>Characterized I/O patterns - Found desktop/server traces contains many overwrites</p>
    <p>- Caching overwrites reduces writes to SSD by 52% ideally</p>
    <p>Designed Griffin hybrid disk - Uses a disk-based write cache</p>
    <p>- Cache data on hard disk, periodically move it back to SSD</p>
    <p>- Shows a 2x lifetime improvement ( &lt; 5% HDD reads)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Motivating Workload Characteristics - Key features</p>
    <p>Disk-based Write Caching  Experimental Evaluation  Conclusions</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>I/O Workload Characterization</p>
    <p>Examined various I/O traces - Desktops (Internal Microsoft traces)</p>
    <p>- Servers (Narayanan et. al from MSR Cambridge)</p>
    <p>- Use only the write-intensive traces</p>
    <p>- Linux (Bhadkamkar et. al. from FIU)</p>
    <p>- Contains desktop, SVN, and web server</p>
    <p>Trace descriptions - Block I/Os collected below the filesystem buffer cache</p>
    <p>- Multi-hour traces of 5 hours to 176 hours</p>
    <p>- Between 209K to 543M I/O events per trace</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Overwrites - Consecutive writes to a block without an intervening read</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Overwrites - Consecutive writes to a block without an intervening read</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100 W: 200 R: 200 W: 200 R: 200</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Overwrites - Consecutive writes to a block without an intervening read</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100 W: 200 R: 200 W: 200 R: 200</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Overwrites - Consecutive writes to a block without an intervening read</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100 W: 200 R: 200 W: 200 R: 200</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Overwrites - Consecutive writes to a block without an intervening read</p>
    <p>Write-after-Write (WAW) Times - Time between two consecutive writes to the same block</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100 W: 200 R: 200 W: 200 R: 200</p>
    <p>WAW</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Key Metrics</p>
    <p>Overwrites - Consecutive writes to a block without an intervening read</p>
    <p>Write-after-Write (WAW) Times - Time between two consecutive writes to the same block</p>
    <p>Read-after-Write (RAW) Times - Time between a write and a subsequent read to the same block</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100 W: 200 R: 200 W: 200 R: 200</p>
    <p>RAWWAW</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Why Overwrites? Lifetime of a Block</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Why Overwrites? Lifetime of a Block</p>
    <p>R: 100</p>
    <p>Time</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Why Overwrites? Lifetime of a Block</p>
    <p>W: 100 W: 100 W: 100 W: 100R: 100</p>
    <p>Writeback to diskTime</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Why Overwrites? Lifetime of a Block</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100R: 100</p>
    <p>Evicted from FS buffer</p>
    <p>cache</p>
    <p>Time</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Why Overwrites? Lifetime of a Block</p>
    <p>W: 100 W: 100 W: 100 W: 100 R: 100R: 100</p>
    <p>Evicted from FS buffer</p>
    <p>cache</p>
    <p>W: 100</p>
    <p>Coalesced write to SSD</p>
    <p>Time</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Top Overwritten Files in Desktops</p>
    <p>Rank Filename</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Ideal Write Savings: Remove Overwrites</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Ideal Write Savings: Remove Overwrites</p>
    <p>W ri te</p>
    <p>S a vi</p>
    <p>n g</p>
    <p>s (%</p>
    <p>)</p>
    <p>Desktops Servers Linux</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Ideal Write Savings: Remove Overwrites</p>
    <p>W ri te</p>
    <p>S a vi</p>
    <p>n g</p>
    <p>s (%</p>
    <p>)</p>
    <p>Desktops Servers Linux</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Ideal Write Savings: Remove Overwrites</p>
    <p>W ri te</p>
    <p>S a vi</p>
    <p>n g</p>
    <p>s (%</p>
    <p>) 52% Average Write Savings</p>
    <p>Desktops Servers Linux</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>WAW/RAW Time Intervals</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>WAW/RAW Time Intervals</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>WAW/RAW Time Intervals</p>
    <p>Overwrites happen quickly</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>WAW/RAW Time Intervals</p>
    <p>Written data is read</p>
    <p>late</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Summary of Observations</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Summary of Observations</p>
    <p>Large fraction of overwrites - Potential of 36% to 64% reduction for desktops</p>
    <p>- As much as 94% in server workloads (web server)</p>
    <p>- Linux: 62% in desktop and 81% in servers (web server)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Summary of Observations</p>
    <p>Large fraction of overwrites - Potential of 36% to 64% reduction for desktops</p>
    <p>- As much as 94% in server workloads (web server)</p>
    <p>- Linux: 62% in desktop and 81% in servers (web server)</p>
    <p>Overwrites happen quickly, reads after a long interval - Over 50% of overwrites within 30 seconds</p>
    <p>- Only 21% of written data read within 15 minutes</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Motivating Workload Characteristics  Disk-based Write Caching</p>
    <p>- Basic algorithm</p>
    <p>- Performance tradeoffs</p>
    <p>Experimental Results  Conclusions</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Writes</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 1</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Writes</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>W: 100 LOG: 1</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Writes</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>W: 100 LOG: 1</p>
    <p>Send to Hard Disk</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Writes</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 1LOG: 2 Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Writes</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 1LOG: 2LOG: 3 Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Reads</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 3 Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Reads</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>R: 100 LOG: 3 Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Reads</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>R: 100 LOG: 3 Block Log</p>
    <p>Blockmap</p>
    <p>Check Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Reads</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 3 R: 300</p>
    <p>Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Handling Reads</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 3 Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Data Migration</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>Block Log</p>
    <p>Blockmap</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Data Migration</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>Block Log</p>
    <p>Blockmap</p>
    <p>Migrate data to SSD</p>
    <p>Memory</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin: Data Migration</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>Block Log</p>
    <p>Blockmap</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>What to cache?</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g t</p>
    <p>o c</p>
    <p>ac h e?</p>
    <p>All Writes</p>
    <p>L o</p>
    <p>n g</p>
    <p>T im</p>
    <p>e</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>W rit</p>
    <p>e Sa</p>
    <p>vi ng</p>
    <p>s</p>
    <p>What to cache?</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g t</p>
    <p>o c</p>
    <p>ac h e?</p>
    <p>All Writes</p>
    <p>L o</p>
    <p>n g</p>
    <p>T im</p>
    <p>e</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>Re ad</p>
    <p>P en</p>
    <p>al ty</p>
    <p>W rit</p>
    <p>e Sa</p>
    <p>vi ng</p>
    <p>s</p>
    <p>What to cache?</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g t</p>
    <p>o c</p>
    <p>ac h e?</p>
    <p>All Writes</p>
    <p>L o</p>
    <p>n g</p>
    <p>T im</p>
    <p>e</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>Re ad</p>
    <p>P en</p>
    <p>al ty</p>
    <p>W rit</p>
    <p>e Sa</p>
    <p>vi ng</p>
    <p>s</p>
    <p>What to cache?</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g t</p>
    <p>o c</p>
    <p>ac h e?</p>
    <p>All Writes</p>
    <p>L o</p>
    <p>n g</p>
    <p>T im</p>
    <p>e</p>
    <p>What to cache?</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>What to cache?: Overwrite Distribution</p>
    <p>Pe rc</p>
    <p>en ta</p>
    <p>ge o</p>
    <p>f O ve</p>
    <p>rw ri</p>
    <p>te s</p>
    <p>Percentage of Written Blocks</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>What to cache?: Overwrite Distribution</p>
    <p>Pe rc</p>
    <p>en ta</p>
    <p>ge o</p>
    <p>f O ve</p>
    <p>rw ri</p>
    <p>te s</p>
    <p>Percentage of Written Blocks</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Selective Write-Caching</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 1</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Selective Write-Caching</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>W: 100 LOG: 1</p>
    <p>Blockmap</p>
    <p>Block Overwritten? Log</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Selective Write-Caching</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>W: 100 LOG: 1</p>
    <p>Blockmap</p>
    <p>Block Overwritten? Log</p>
    <p>Is heavily overwritten?</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Selective Write-Caching</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 1LOG: 2</p>
    <p>Blockmap</p>
    <p>Block Overwritten? Log</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Selective Write-Caching</p>
    <p>HDD SSD</p>
    <p>Griffin</p>
    <p>LOG: 1LOG: 2</p>
    <p>Blockmap</p>
    <p>Block Overwritten? Log</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>Re ad</p>
    <p>P en</p>
    <p>al ty</p>
    <p>W rit</p>
    <p>e Sa</p>
    <p>vi ng</p>
    <p>s</p>
    <p>What to cache?</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g t</p>
    <p>o c</p>
    <p>ac h e?</p>
    <p>All Writes</p>
    <p>L o</p>
    <p>n g</p>
    <p>T im</p>
    <p>e</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Tradeoff: Write Savings vs. Read Penalty</p>
    <p>Re ad</p>
    <p>P en</p>
    <p>al ty</p>
    <p>W rit</p>
    <p>e Sa</p>
    <p>vi ng</p>
    <p>s</p>
    <p>What to cache?</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g t</p>
    <p>o c</p>
    <p>ac h e?</p>
    <p>All Writes</p>
    <p>L o</p>
    <p>n g</p>
    <p>T im</p>
    <p>e</p>
    <p>H o</p>
    <p>w lo</p>
    <p>n g</p>
    <p>t o</p>
    <p>c a</p>
    <p>c h</p>
    <p>e ?</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Time Intervals</p>
    <p>Overwrites happen quickly</p>
    <p>Written data is read</p>
    <p>late</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Time Intervals</p>
    <p>Overwrites happen quickly</p>
    <p>Written data is read</p>
    <p>late</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Time Intervals</p>
    <p>Overwrites happen quickly</p>
    <p>Written data is read</p>
    <p>late</p>
    <p>WAW RAW</p>
    <p>C u</p>
    <p>m u</p>
    <p>la ti</p>
    <p>ve T</p>
    <p>im e</p>
    <p>I n</p>
    <p>te rv</p>
    <p>a l (</p>
    <p>% )</p>
    <p>Histogram Buckets (seconds)</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Migration Triggers</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Migration Triggers</p>
    <p>Timeout trigger - Idea: Fires after a certain time elapses</p>
    <p>- Could have high read penalty</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Migration Triggers</p>
    <p>Timeout trigger - Idea: Fires after a certain time elapses</p>
    <p>- Could have high read penalty</p>
    <p>Read-threshold trigger - Idea: Fires if HDD reads exceeds threshold since last migration</p>
    <p>- Bounds HDD read fraction</p>
    <p>- Could have no migrations for a long time</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How long to cache?: Migration Triggers</p>
    <p>Timeout trigger - Idea: Fires after a certain time elapses</p>
    <p>- Could have high read penalty</p>
    <p>Read-threshold trigger - Idea: Fires if HDD reads exceeds threshold since last migration</p>
    <p>- Bounds HDD read fraction</p>
    <p>- Could have no migrations for a long time</p>
    <p>Hybrid trigger - Every 15 mins or read penalty &gt; 5%</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Motivating Workload Characteristics  Disk-based Write Caching  Experimental Evaluation</p>
    <p>- Caching Policies: What to cache?</p>
    <p>- Migration Policies: How long to cache?</p>
    <p>- Performance: Lifetime and Latency</p>
    <p>Conclusions</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Write Savings</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Write Savings</p>
    <p>Migrated at the end of</p>
    <p>trace</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Write Savings</p>
    <p>Migrated at the end of</p>
    <p>trace</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Write Savings</p>
    <p>Migrated at the end of</p>
    <p>trace</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>H D</p>
    <p>D r</p>
    <p>e a d p</p>
    <p>e n a lt</p>
    <p>y</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>re a d</p>
    <p>s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Read Penalty</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>H D</p>
    <p>D r</p>
    <p>e a d p</p>
    <p>e n a lt</p>
    <p>y</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>re a d</p>
    <p>s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Read Penalty</p>
    <p>Migrated at the end of</p>
    <p>trace</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>H D</p>
    <p>D r</p>
    <p>e a d p</p>
    <p>e n a lt</p>
    <p>y</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>re a d</p>
    <p>s)</p>
    <p>Traces</p>
    <p>Full Caching Selective Caching</p>
    <p>What to Cache?: Read Penalty</p>
    <p>Migrated at the end of</p>
    <p>trace</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How Long to Cache?: Write Savings</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Migration timeout 3600 s Migration timeout 1800 s Migration timeout 900 s</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How Long to Cache?: Write Savings</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Migration timeout 3600 s Migration timeout 1800 s Migration timeout 900 s</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How Long to Cache?: Write Savings</p>
    <p>benefit</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D w</p>
    <p>ri te</p>
    <p>s a v</p>
    <p>in g</p>
    <p>s</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>w ri</p>
    <p>te s)</p>
    <p>Traces</p>
    <p>Migration timeout 3600 s Migration timeout 1800 s Migration timeout 900 s</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How Long to Cache?: Read Penalty</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>H D</p>
    <p>D r</p>
    <p>e a d p</p>
    <p>e n a lt</p>
    <p>y</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>re a d</p>
    <p>s)</p>
    <p>Traces</p>
    <p>Migration timeout 3600 s Migration timeout 1800 s Migration timeout 900 s</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>How Long to Cache?: Read Penalty</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>H D</p>
    <p>D r</p>
    <p>e a d p</p>
    <p>e n a lt</p>
    <p>y</p>
    <p>(p e rc</p>
    <p>e n</p>
    <p>ta g</p>
    <p>e o</p>
    <p>f to</p>
    <p>ta l</p>
    <p>re a d</p>
    <p>s)</p>
    <p>Traces</p>
    <p>Migration timeout 3600 s Migration timeout 1800 s Migration timeout 900 s</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1 0</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D b</p>
    <p>lo c k</p>
    <p>e ra</p>
    <p>su re</p>
    <p>s a v in</p>
    <p>g s</p>
    <p>(% )</p>
    <p>Traces</p>
    <p>Savings with a simple FTL Savings with an ideal FTL</p>
    <p>Performance Summary: Erasure Savings</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1 0</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D b</p>
    <p>lo c k</p>
    <p>e ra</p>
    <p>su re</p>
    <p>s a v in</p>
    <p>g s</p>
    <p>(% )</p>
    <p>Traces</p>
    <p>Savings with a simple FTL Savings with an ideal FTL</p>
    <p>Performance Summary: Erasure Savings</p>
    <p>Direct block-level mapping</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1 0</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D b</p>
    <p>lo c k</p>
    <p>e ra</p>
    <p>su re</p>
    <p>s a v in</p>
    <p>g s</p>
    <p>(% )</p>
    <p>Traces</p>
    <p>Savings with a simple FTL Savings with an ideal FTL</p>
    <p>Performance Summary: Erasure Savings</p>
    <p>Direct block-level mapping</p>
    <p>Log structured page-level mapping</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>D !</p>
    <p>S !</p>
    <p>E X</p>
    <p>C H</p>
    <p>S !</p>
    <p>P R</p>
    <p>X Y</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 1 0</p>
    <p>S !</p>
    <p>S R</p>
    <p>C 2 2</p>
    <p>S !</p>
    <p>S T</p>
    <p>G 1</p>
    <p>S !</p>
    <p>W D</p>
    <p>E V</p>
    <p>S S</p>
    <p>D b</p>
    <p>lo c k</p>
    <p>e ra</p>
    <p>su re</p>
    <p>s a v in</p>
    <p>g s</p>
    <p>(% )</p>
    <p>Traces</p>
    <p>Savings with a simple FTL Savings with an ideal FTL</p>
    <p>Performance Summary: Erasure Savings</p>
    <p>&gt; 2x</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Performance Summary: I/O Latency</p>
    <p>Total Read Write Total Read Write</p>
    <p>R e la</p>
    <p>ti v</p>
    <p>e I</p>
    <p>/O l</p>
    <p>a te</p>
    <p>n c y</p>
    <p>Workload T1 Workload T2</p>
    <p>HDD 7.2K HDD 10K</p>
    <p>MLC SLC</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Performance Summary: I/O Latency</p>
    <p>Total Read Write Total Read Write</p>
    <p>R e la</p>
    <p>ti v</p>
    <p>e I</p>
    <p>/O l</p>
    <p>a te</p>
    <p>n c y</p>
    <p>Workload T1 Workload T2</p>
    <p>HDD 7.2K HDD 10K</p>
    <p>MLC SLC</p>
    <p>Most I/O intensive segments (2hr)</p>
    <p>desktop Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Performance Summary: I/O Latency</p>
    <p>Total Read Write Total Read Write</p>
    <p>R e la</p>
    <p>ti v</p>
    <p>e I</p>
    <p>/O l</p>
    <p>a te</p>
    <p>n c y</p>
    <p>Workload T1 Workload T2</p>
    <p>HDD 7.2K HDD 10K</p>
    <p>MLC SLC</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Performance Summary: I/O Latency</p>
    <p>Total Read Write Total Read Write</p>
    <p>R e la</p>
    <p>ti v</p>
    <p>e I</p>
    <p>/O l</p>
    <p>a te</p>
    <p>n c y</p>
    <p>Workload T1 Workload T2</p>
    <p>HDD 7.2K HDD 10K</p>
    <p>MLC SLC</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>More in the Paper</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>More in the Paper</p>
    <p>Evaluation of other policies - Different migration triggers</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>More in the Paper</p>
    <p>Evaluation of other policies - Different migration triggers</p>
    <p>Failure handling - Have state on two devices</p>
    <p>- Recovery more intricate</p>
    <p>- Leverage existing journalling and recovery techniques</p>
    <p>- More details in the paper</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Conclusions</p>
    <p>SSDs starting to appear in desktops/laptops - Contain more write-intensive workloads</p>
    <p>- Lifetimes limited due to limit of block erasures</p>
    <p>Built Griffin hybrid disk - Uses hard drive as a write-cache</p>
    <p>Reduces writes while maintaining performance - Reduces writes by 52% (&lt; 5% HDD reads)</p>
    <p>- Improves lifetime by factor of 2</p>
    <p>- Reduces average I/O latency by 56%</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Griffin picture from: http://www.e-wollmann.com/griffin.jpg</p>
    <p>Thank you</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Related Work</p>
    <p>SSD Lifetimes - Shown to degrade over time</p>
    <p>- Grupp et. al [ISM09]</p>
    <p>- Desyoners [HotStorage09], Boboila et. al [FAST10]</p>
    <p>Hybrid drives - Used SSD as cache for hard drive</p>
    <p>- Kotsidas et. al [VLDB08], Combo drive [WISH09]</p>
    <p>- Windows ReadyBoost</p>
    <p>- caches data normally paged out the HDD</p>
    <p>- Intel Turbo Memory and Sun ZFS+Flash</p>
    <p>Thursday, February 25, 2010</p>
  </div>
  <div class="page">
    <p>Improved Sequentiality</p>
    <p>Griffin Default</p>
    <p>A D !1</p>
    <p>B D !1</p>
    <p>C D !1</p>
    <p>D D !2</p>
    <p>A D !2</p>
    <p>B D !2</p>
    <p>C D !2</p>
    <p>D D !3</p>
    <p>A D !3</p>
    <p>B D !3</p>
    <p>C D !3</p>
    <p>D S!</p>
    <p>E X</p>
    <p>C H</p>
    <p>S! PR</p>
    <p>X Y</p>
    <p>SR C</p>
    <p>SR C</p>
    <p>ST G</p>
    <p>W D</p>
    <p>E V</p>
    <p>Se qu</p>
    <p>en tia</p>
    <p>l w ri</p>
    <p>te s</p>
    <p>(p er</p>
    <p>ce nt</p>
    <p>ag e</p>
    <p>of to</p>
    <p>ta l w</p>
    <p>ri te</p>
    <p>s)</p>
    <p>Traces</p>
    <p>Thursday, February 25, 2010</p>
  </div>
</Presentation>
