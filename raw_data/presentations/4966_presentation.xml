<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Patterns of Influence in a Recommendation Network</p>
    <p>Jure Leskovec, CMU</p>
    <p>Ajit Singh, CMU</p>
    <p>Jon Kleinberg, Cornell</p>
  </div>
  <div class="page">
    <p>Spread of information  Social network plays fundamental role in spread</p>
    <p>of information or influence  Viral marketing (Word of mouth)</p>
    <p>An idea gets a sudden widespread popularity</p>
    <p>Example:  GMail achieved wide popularity and the only way to</p>
    <p>obtain an account was through referral  In blogs a piece of information spreads rapidly before</p>
    <p>eventually picked by mass media</p>
  </div>
  <div class="page">
    <p>Information cascades  Cascades are phenomena in which an action or</p>
    <p>idea becomes widely adopted due to influence by others</p>
    <p>Traditionally sociologists studied the diffusion of innovation:  Hybrid corn (Ryan and Gross, 1943)  Prescription drugs (Coleman et al. 1957)</p>
  </div>
  <div class="page">
    <p>Cascade formation process</p>
    <p>t3</p>
    <p>Time: t1 &lt; t2 &lt;  &lt; tn</p>
    <p>legend</p>
    <p>received recommendation and propagated it forward</p>
    <p>received a recommendation but didnt propagate</p>
    <p>t5</p>
    <p>t1</p>
    <p>t6</p>
    <p>t2</p>
    <p>t4</p>
  </div>
  <div class="page">
    <p>Work on information cascades  Cascades have also been studied to:</p>
    <p>Select trendsetters for viral marketing (Kempe et al. 2003, Richardson et al. 2002)</p>
    <p>Find inoculation targets in epidemiology (Newman 2002)</p>
    <p>Explain trends in blogspace (Adar and Adamic 2005, Gruhl et al. 2004)</p>
    <p>Since it is hard to obtain reliable data on cascades, previous studies were primarily focused on large-scale (coarse) analysis</p>
  </div>
  <div class="page">
    <p>Our work  We look at the fine-grained patterns of influence</p>
    <p>in a large-scale, real recommendation network</p>
    <p>Given a directed who-influences-whom graph  Find cascades  And examine their topological structure:</p>
    <p>What kinds of cascades arise frequently in real life?  Are they like trees, stars, or something else?  What is the distribution of cascade sizes (all same</p>
    <p>size / exponential tail / heavy-tailed)?</p>
  </div>
  <div class="page">
    <p>Roadmap  The recommendation network dataset  Proposed method:</p>
    <p>Indentifing cascades  Enumerating cascades  Counting cascades (approximate graph isomorphism)</p>
    <p>Experimental results:  Distribution of cascade sizes  Frequent cascade subgraphs</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>Roadmap  The recommendation network dataset  Proposed method:</p>
    <p>Indentifing cascades  Enumerating cascades  Counting cascades (approximate graph isomorphism)</p>
    <p>Experimental results:  Distribution of cascade sizes  Frequent cascade subgraphs</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>The data  recommendation network  Senders and followers of recommendations receive</p>
    <p>discounts on products</p>
    <p>Recommendations are made to any number of people at the time of purchase</p>
  </div>
  <div class="page">
    <p>The data  recommendations  For each recommendation we have:</p>
    <p>sender ID  recipient ID  recommendation time  response (buy / no buy)  purchase time</p>
  </div>
  <div class="page">
    <p>The data  description  A large online retailer (June 2001 to May 2003)  Over a gigabyte in size</p>
    <p>15,646,121 recommendations  3,943,084 distinct customers  548,523 products recommended  99% of them belonging 4 main product groups:</p>
    <p>books  DVDs  music CDs  VHS</p>
  </div>
  <div class="page">
    <p>The data  statistics</p>
    <p>Networks are very sparsely connected (low average degree)</p>
    <p>9% of DVD purchases are due to recommendations</p>
    <p>Book recommendations are influential</p>
    <p>products customers recommendations edges purchases responses</p>
    <p>Book 103,161 2,863,977 5,741,611 2,097,809 2,859,096 83,113</p>
    <p>DVD 19,829 805,285 8,180,393 962,341 837,300 75,421</p>
    <p>Music 393,598 794,148 1,443,847 585,738 721,673 10,576</p>
    <p>Video 26,131 239,583 280,270 160,683 165,109 1,376</p>
    <p>Full 542,719 3,943,084 15,646,121 3,153,676 4,574,178 170,486</p>
    <p>high</p>
    <p>low</p>
  </div>
  <div class="page">
    <p>Roadmap  The recommendation network dataset  Proposed method:</p>
    <p>Indentifing cascades  Enumerating cascades  Counting cascades (approximate graph isomorphism)</p>
    <p>Experimental results:  Distribution of cascade sizes  Frequent cascade subgraphs</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>Product recommendation network  Majority of</p>
    <p>recommendations do not cause purchases nor propagation</p>
    <p>Notice many star-like patterns</p>
    <p>Many disconnected components</p>
  </div>
  <div class="page">
    <p>Identifying cascades  Given a set of recommendations find cascades  We use the following approach</p>
    <p>Create a separate graph for each product  Delete late recommendations:</p>
    <p>Delete recommendations that happened after the first purchase of the product</p>
    <p>We get time-increasing graph  Delete no-purchase nodes:</p>
    <p>We find many star-like patterns, no propagation of influence  Delete nodes that did not purchase a product</p>
    <p>Now connected components correspond to maximal cascades</p>
  </div>
  <div class="page">
    <p>Cascade enumeration  Maximal cascades do not reveal what are the</p>
    <p>cascade building blocks (local structures)  Given a maximal cascade we want to enumerate</p>
    <p>all local cascades:  For every node we explore the cascade in the</p>
    <p>neighborhood up to 1, 2, 3, steps away  This way we capture the local structure of the</p>
    <p>cascade around the node</p>
    <p>source node</p>
  </div>
  <div class="page">
    <p>Counting cascades (graph isomorphism)  To count cascades we need to determine</p>
    <p>whether a new cascade is isomorphic to already seen one:</p>
    <p>No polynomial graph isomorphism algorithm is known, so we reside to approximate solution</p>
    <p>Graphs are isomorphic if there exists a node mapping so that nodes have same neighbors</p>
    <p>? ==</p>
  </div>
  <div class="page">
    <p>Graph isomorphism  Do not compare the graphs directly, but  For each graph we create a signature  A good signature is one where isomorphic</p>
    <p>graphs have the same signature, but few nonisomorphic graphs share the same signature</p>
    <p>Compare the graph signatures</p>
  </div>
  <div class="page">
    <p>Creating a signature  We propose multilevel approach</p>
    <p>Complexity (and accuracy) depends on the size of the graph</p>
    <p>Different levels of the signature  Number of nodes, number of edges  Sorted in- and out- degree sequence  Singular values of graph adjacency matrix  For small graphs (n &lt; 9) we perform exact</p>
    <p>isomorphism test</p>
    <p>simple (fast/inaccurate)</p>
    <p>complex (slow/accurate)</p>
  </div>
  <div class="page">
    <p>Comparing signatures  First compare simple signatures  Compare the graphs with the same simple</p>
    <p>signature using more and more complicated (expensive/accurate) signatures</p>
    <p>At the end (for small graphs) we perform exact isomorphism resolution</p>
    <p>Since we are interested in building blocks of cascades which are generally small, the precision for small graphs is more important</p>
  </div>
  <div class="page">
    <p>Comparing signatures  Example</p>
    <p>Compare simple signature (number of nodes/edges)</p>
    <p>Compare simple signature (degree sequence)</p>
    <p>Compare simple signature (Singular values)</p>
  </div>
  <div class="page">
    <p>Counting subgraphs  related work  Work on frequent subgraph mining:</p>
    <p>Apriori-based algorithm (Inokuchi et al. 2000)  G-span (Yan and Han, 2002)  Kuramochi and Karypis 2004; Pei, Jiang and Zhang 2005; and</p>
    <p>many more  It mainly focuses on richly labeled undirected graphs</p>
    <p>(e.g. chemical compounds)</p>
    <p>We are interested in enumerating subgraphs based only on their structures</p>
    <p>We have no labels on nodes and edges  So heuristics for pruning the search space using node</p>
    <p>and edge labels cannot be applied</p>
  </div>
  <div class="page">
    <p>Roadmap  The recommendation network dataset  Proposed method:</p>
    <p>Indentifing cascades  Enumerating cascades  Counting cascades (approximate graph isomorphism)</p>
    <p>Experimental results:  Distribution of cascade sizes  Frequent cascade subgraphs</p>
    <p>Conclusion</p>
  </div>
  <div class="page">
    <p>Measuring maximal cascade sizes  Count how many people are in a single cascade  We observe a heavy tailed distribution which can not</p>
    <p>be explained by a simple branching process</p>
    <p>= 1.8e6 x-4.98 R2=0.99</p>
    <p>steep drop-off</p>
    <p>very few large cascades</p>
    <p>books</p>
  </div>
  <div class="page">
    <p>= 3.4e3 x-1.56 R2=0.83</p>
    <p>Cascade sizes for DVDs  DVD cascades can grow large  possibly a product of websites where people sign up to</p>
    <p>exchange recommendations shallow drop off  fat tail</p>
    <p>a number of large cascades</p>
    <p>DVD</p>
  </div>
  <div class="page">
    <p>Music CD and VHS cascades  Music and VHS cascades dont grow large</p>
    <p>= 4.9e5 x-6.27 R2=0.97</p>
    <p>= 7.8e4 x-5.87 R2=0.97</p>
    <p>music VHS</p>
  </div>
  <div class="page">
    <p>Frequent cascade subgraphs (1)</p>
    <p>General observations:  DVDs have the richest</p>
    <p>cascades (most recommendations, most densely linked)</p>
    <p>Books have small cascades</p>
    <p>Music is 3 times larger than video but does not have much variety in cascades</p>
    <p>cascades different</p>
    <p>Book 122,657 959</p>
    <p>DVD 289,055 87,614</p>
    <p>Music 13,330 158</p>
    <p>Video 1,928 109</p>
    <p>high</p>
    <p>low</p>
    <p>number of all words</p>
    <p>vocabulary size</p>
  </div>
  <div class="page">
    <p>is the most common cascade subgraph</p>
    <p>It accounts for ~75% cascades in books, CD and VHS, only 12% of DVD cascades</p>
    <p>is 6 (1.2 for DVD) times more frequent than</p>
    <p>For DVDs is more frequent than</p>
    <p>Chains ( ) are more frequent than</p>
    <p>is more frequent than a collision ( ) (but collision has less edges)</p>
    <p>Late split ( ) is more frequent than</p>
    <p>Frequent cascade subgraphs (2)</p>
  </div>
  <div class="page">
    <p>No propagation</p>
    <p>Common friends</p>
    <p>Nodes having same friends</p>
    <p>Typical classes of cascades</p>
    <p>A complicated cascade</p>
  </div>
  <div class="page">
    <p>Conclusion (1)  Cascades are a form of collective behavior  We developed a scalable algorithm for</p>
    <p>indentifing and counting cascades (approximate graph isomorphism)</p>
    <p>We illustrate the existence of cascades, and measure their frequencies in a large real-world dataset</p>
  </div>
  <div class="page">
    <p>Conclusion (2)  From our experiments we found:</p>
    <p>Most cascades are small, but large bursts can occur  Cascade sizes follow a heavy-tailed distribution  Frequency of different cascade subgraphs depends</p>
    <p>on the product type  Cascade frequencies do not simply decrease</p>
    <p>monotonically for denser subgraphs  But reflect more subtle features of the domain in</p>
    <p>which the recommendations are operating</p>
  </div>
  <div class="page">
    <p>Thank you!</p>
    <p>Questions?</p>
    <p>jure@cs.cmu.edu</p>
  </div>
</Presentation>
