<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Managing Green Datacenters Powered by Hybrid Renewable Energy Systems</p>
    <p>Intelligent Design of Efficient Architectures Laboratory (IDEAL) Department of Electrical and Computer Engineering</p>
    <p>University of Florida</p>
    <p>Presented by Chao Li ICAC</p>
    <p>Jun 20, 2014</p>
    <p>Chao Li, Rui Wang, Tao Li, Depei Qian, Jingling Yuan</p>
  </div>
  <div class="page">
    <p>Power is a Big Issue in the Cloud Era</p>
    <p>Current global server market  30 GW power demand  Doubles every 5 years [2] Power</p>
    <p>Budget 2010</p>
    <p>Everything is in the Cloud</p>
    <p>Ever-increasing user data</p>
    <p>Endless data processing</p>
    <p>More servers are needed!</p>
    <p>[1] http://oraclestorageguy.typepad.com/</p>
    <p>Z e tt</p>
    <p>a B</p>
    <p>y te</p>
    <p>s</p>
    <p>Impending Data Explosion</p>
    <p>Structured Unstructued</p>
    <p>[1]</p>
  </div>
  <div class="page">
    <p>30</p>
  </div>
  <div class="page">
    <p>[1] C. Belady, Projecting Annual New Datacenter Construction Market Size, Global Foundation Services, 2011</p>
    <p>[2] DCD Industry Census 2012: Energy, http://www.dcd-intelligence.com/</p>
    <p>[3] http://energyalmanac.ca.gov/electricity/total_system_power.html</p>
    <p>USA</p>
    <p>China</p>
    <p>U.K.</p>
    <p>Japan</p>
    <p>Brazil</p>
    <p>France</p>
    <p>Benelux</p>
    <p>Canada</p>
    <p>Germany</p>
    <p>Russia</p>
    <p>Australia</p>
    <p>India</p>
    <p>The increase in server energy demand (2012-2013)[2]</p>
    <p>The global data center electricity usage in 2012: 300 ~ 400 TWh  2% of global electricity usage  Expected to triple by 2020 [1]</p>
    <p>Server Footprint Continues to Expand</p>
    <p>in CA in 2012 [1]</p>
  </div>
  <div class="page">
    <p>The Sustainability Issue: Energy Cost</p>
    <p>[3] https://www.gov.uk/government/organisations/department-of-energy-climate-change</p>
    <p>Escalating energy consumption drives data center cost up  Need to think alternative power provisioning solutions</p>
    <p>[1] Conference report: The Future of the Data Centre, http://www.information-age.com</p>
    <p>[2] Ken Brill, The Economic Meltdown of Moores Law and the Green Data Center</p>
    <p>The 3-Year Energy Expenditure (% of Total IT Equipment Cost)</p>
    <p>[1,2]</p>
    <p>[3]</p>
    <p>R e</p>
    <p>ta il</p>
    <p>P ri</p>
    <p>ce I</p>
    <p>n d</p>
    <p>e x</p>
    <p>Historical Electricity Prices in UK</p>
    <p>Average Compared to 2005 Benchmark for 2005</p>
  </div>
  <div class="page">
    <p>u ss</p>
    <p>ia</p>
    <p>F ra</p>
    <p>n ce</p>
    <p>It a</p>
    <p>ly</p>
    <p>B ra</p>
    <p>zi l</p>
    <p>S p</p>
    <p>a in</p>
    <p>C h</p>
    <p>in a</p>
    <p>M e</p>
    <p>x ic</p>
    <p>o</p>
    <p>N o</p>
    <p>rd ic</p>
    <p>s</p>
    <p>C a</p>
    <p>n a</p>
    <p>d a</p>
    <p>T u</p>
    <p>rk e</p>
    <p>y</p>
    <p>B e</p>
    <p>n e</p>
    <p>lu x</p>
    <p>U S</p>
    <p>A</p>
    <p>G e</p>
    <p>rm a</p>
    <p>n y</p>
    <p>In d</p>
    <p>ia</p>
    <p>U K</p>
    <p>Ja p</p>
    <p>a n</p>
    <p>% Performing Carbon Monitoring</p>
    <p>Hurricane Sandy, 2012 (Northeastern US)</p>
    <p>Typhoon Haiyan, 2013 (Southeast Asia)</p>
    <p>The greenhouse effect &amp; climate change</p>
    <p>1MW data center  10~15 Kt CO2 yearly</p>
    <p>Data centers are carbon-constrained:  They must cap carbon emissions</p>
    <p>The Sustainability Issue: CO2 Emission</p>
  </div>
  <div class="page">
    <p>Greenpeace (http://www.greenpeace.org)</p>
    <p>Regional Greenhouse Gas Initiative (http://www.rggi.org)</p>
    <p>Union of Concerned Scientists (http://ucsusa.org)</p>
    <p>[1] Energy &amp; Environment Consumer Survey , Pike Research, 2012</p>
    <p>Major Driving Power of Low-Carbon IT</p>
    <p>Non-profit organizations campaign for sustainability</p>
    <p>Government regulations and initiatives</p>
    <p>Environmental Protection Agency (http://www.epa.gov/ )</p>
    <p>EU Emission Trading Scheme (http://ec.europa.eu/clima )</p>
    <p>California's SB X 1-2 Law: requiring 33% renewables by 2020</p>
    <p>[1] The green energy concept has mass appeal among consumers</p>
    <p>Bio-fuel</p>
    <p>Wind Energy</p>
    <p>Solar Energy Favorable</p>
    <p>Very Favorable</p>
  </div>
  <div class="page">
    <p>Carbon-Conscious Computing System Design</p>
    <p>Many IT Companies start to integrate non-conventional</p>
    <p>clean energy solutions</p>
    <p>Solar Panels Wind Turbines</p>
    <p>Micro-TurbinesBio-mass</p>
    <p>Fuel Cells</p>
    <p>Batteries</p>
  </div>
  <div class="page">
    <p>Limitations of Prior Work</p>
    <p>Load management and supply management are decoupled  Must combine load management and supply management</p>
    <p>Only focus on certain specific type of renewable energy  Need to look at hybrid renewable energy systems.</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Background: Hybrid Renewable Energy System for Data Centers</p>
    <p>MinuteskT (k+1)T</p>
    <p>S p</p>
    <p>e e</p>
    <p>d P</p>
    <p>o w</p>
    <p>e r</p>
    <p>Minutes</p>
    <p>Load Power with</p>
    <p>GreenWorks</p>
  </div>
  <div class="page">
    <p>Hybrid Energy Systems</p>
    <p>Baseload Power Supply  Biomass, gas turbine, etc.  Stable and controllable</p>
    <p>Wind turbine</p>
    <p>Gas turbine</p>
    <p>Fuel cells</p>
    <p>Solar panel</p>
    <p>Energy storage</p>
    <p>Utility</p>
    <p>Power interface</p>
    <p>Circuit breaker</p>
    <p>Microgrid</p>
    <p>Biomass energy</p>
    <p>Central Controller</p>
    <p>Diesel Generator</p>
    <p>Server</p>
    <p>Cluster</p>
    <p>Transformer</p>
    <p>ATS</p>
    <p>UPS</p>
    <p>Intermittent Power Supply  Solar, wind, etc.  Time-varying output</p>
    <p>Backup Power Supply  Various batteries  Immediate response</p>
  </div>
  <div class="page">
    <p>Energy Balance Challenge</p>
    <p>Demand/Supply power mismatch problem  Requires fine-grained load and supply management</p>
    <p>Time (hour)</p>
    <p>P o</p>
    <p>w e</p>
    <p>r (K</p>
    <p>W )</p>
    <p>Coarse-grained variation</p>
    <p>Time (min)</p>
    <p>P o</p>
    <p>w e</p>
    <p>r (K</p>
    <p>W )</p>
    <p>moment-to-moment oscillation</p>
    <p>Cannot simply rely on any single type of power supply  Intermittent green power: cannot guarantee power output  Baseload power: too slow to follow the fluctuation  Battery: limited lifetime and capacity  Over-provisioning power to overcome the above issue?</p>
  </div>
  <div class="page">
    <p>GreenWorks: An Overview</p>
    <p>A synergy of various power supplies, as well as computing loads</p>
    <p>Intermittent Pwr.</p>
    <p>Baseload Pwr.</p>
    <p>PDU</p>
    <p>PDU</p>
    <p>PDU</p>
    <p>Server Racks</p>
    <p>Server Racks</p>
    <p>Server Racks</p>
    <p>UPS</p>
    <p>S w</p>
    <p>it c h</p>
    <p>g e</p>
    <p>a r</p>
    <p>Energy Source Infor.</p>
    <p>Load Following Ctrl.</p>
    <p>Load Power Infor</p>
    <p>Pwr. Interface Circuit Breaker Perf. RecorderPwr. Modulator</p>
    <p>Monitoring</p>
    <p>&amp; Ctrl. Stored Energy Infor.</p>
    <p>A T</p>
    <p>S Pwr. Meter</p>
    <p>UPS</p>
    <p>UPS</p>
    <p>Baseload</p>
    <p>Laborer</p>
    <p>Green ManagerGreenWorks</p>
    <p>M ic</p>
    <p>ro -g</p>
    <p>ri d</p>
    <p>C e</p>
    <p>n tr</p>
    <p>a l</p>
    <p>C o</p>
    <p>n tr</p>
    <p>o ll e</p>
    <p>r</p>
    <p>Energy</p>
    <p>Keepers</p>
    <p>Load</p>
    <p>Brokers</p>
  </div>
  <div class="page">
    <p>Power Management Hierarchy</p>
    <p>E</p>
    <p>:</p>
    <p>E E E</p>
    <p>L</p>
    <p>B</p>
    <p>L</p>
    <p>:</p>
    <p>:</p>
    <p>Tier-I: Datacenter Facility Level</p>
    <p>(Adjusts Baseload Pwr. Supply)</p>
    <p>G re</p>
    <p>e n</p>
    <p>M a</p>
    <p>n a</p>
    <p>g e</p>
    <p>r</p>
    <p>:</p>
    <p>Tier-II: Cluster/PDU Level</p>
    <p>(Manages Intermittent Pwr. Supply)</p>
    <p>Tier-III: Rack Level</p>
    <p>(Regulates Backup Pwr. Supply)</p>
    <p>Power flow Ctrl. signal</p>
    <p>: :</p>
    <p>A multi-layer power integration and management strategy</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Background: Hybrid Renewable Energy System for Data Centers</p>
    <p>MinuteskT (k+1)T</p>
    <p>S p</p>
    <p>e e</p>
    <p>d P</p>
    <p>o w</p>
    <p>e r</p>
    <p>Minutes</p>
    <p>Load Power with</p>
    <p>GreenWorks</p>
  </div>
  <div class="page">
    <p>VRM</p>
    <p>Core Core</p>
    <p>Core Core</p>
    <p>VRM</p>
    <p>VRM VRM  Use alternating processing speed</p>
    <p>Increase server performance with over-clocking (e.g. Turbo Boost)</p>
    <p>Give priory to jobs that are have higher anticipated ETI</p>
    <p>Maintain a lookup table, which contains  Job ID and job execution progress  Calculate anticipated execution time based</p>
    <p>on the current progress and speed  ETI: Execution Time Increase (%)</p>
    <p>ETI Job ID</p>
    <p>D V</p>
    <p>FS C</p>
    <p>trl.</p>
    <p>. . .</p>
    <p>Lookup Table</p>
    <p>I/V se</p>
    <p>n so</p>
    <p>r</p>
    <p>Opportunistically Boost System Performance</p>
    <p>Stage I: Adequate Power Supply Budget</p>
  </div>
  <div class="page">
    <p>Calculate a discharge budget  The total energy that can be cycled through a battery is fixed</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>%</p>
    <p>T h</p>
    <p>ro u</p>
    <p>g h</p>
    <p>p u</p>
    <p>t (k</p>
    <p>W h</p>
    <p>)</p>
    <p># o</p>
    <p>f C</p>
    <p>y c</p>
    <p>le s</p>
    <p>Cycles to Failure Throughput</p>
    <p>Manage solar energy usage based on</p>
    <p>t</p>
    <p>aggregated AhD D</p>
    <p>/budget ratedD T Lifetime D</p>
    <p>budget aggregatedD D</p>
    <p>Give load shedding priority if the discharge budget is low  Otherwise, use the stored energy to maintain server speed.</p>
    <p>Balancing load shedding and battery discharging</p>
    <p>Stage II: Moderate Power Supply Drop</p>
  </div>
  <div class="page">
    <p>Calculate a time budget, which evaluates:  whether a job could meet its deadline in the future with</p>
    <p>frequency boosting techniques.</p>
    <p>Time Budget = Remaining Runtime  D P  S</p>
    <p>S =  (1  1 / Frequency Speedup) ;</p>
    <p>D: the duty cycle of performing turbo boost</p>
    <p>P: likelihood of receiving adequate renewable power</p>
    <p>S: the execution time that 1s frequency boost can save</p>
    <p>Stage III: Significant Power Supply Drop</p>
    <p>Deadline Driven, Power-Aware Load Shedding</p>
    <p>Choose load shedding if the time budget is enough  Otherwise, use stored energy to handle the power shortfall.</p>
  </div>
  <div class="page">
    <p>Managing Baseload at Coarse-Grained Intervals</p>
    <p>Avg. UPS Capacity</p>
    <p>Avg. Runtime Increase</p>
    <p>Intermittent Power Infor.</p>
    <p>Green manager</p>
    <p>Baseload</p>
    <p>Systems</p>
    <p>Current Output Level</p>
    <p>++  Baseload</p>
    <p>Laborers</p>
    <p>Adjust the baseload power output based on  Moving average of the load power demand  Current power demand</p>
    <p>Can also add additional bonus power output  Based on the average battery capacity  Average performance of the workload</p>
  </div>
  <div class="page">
    <p>GreenWorks Power Management: A Summary</p>
    <p>Matching power demand to total power supply</p>
    <p>Adjust Baseload Power</p>
    <p>Coarse-grained load management</p>
    <p>Fine-grained load management</p>
    <p>Energy storage</p>
    <p>Balancer</p>
    <p>Server Cluster</p>
    <p>History Info.</p>
    <p>Capacity Controller</p>
    <p>Power cycling</p>
    <p>D G</p>
    <p>P o</p>
    <p>w e</p>
    <p>r O</p>
    <p>u tp</p>
    <p>u t New demand goal</p>
    <p>Bonus budget</p>
    <p>R a m</p>
    <p>p in</p>
    <p>g</p>
    <p>Scheduled</p>
    <p>adjustment</p>
    <p>Current generation level</p>
    <p>Green Manager</p>
  </div>
  <div class="page">
    <p>Outline</p>
    <p>Background: Hybrid Renewable Energy System for Data Centers</p>
    <p>MinuteskT (k+1)T</p>
    <p>S p</p>
    <p>e e</p>
    <p>d P</p>
    <p>o w</p>
    <p>e r</p>
    <p>Minutes</p>
    <p>Load Power with</p>
    <p>GreenWorks</p>
  </div>
  <div class="page">
    <p>Verification Platform</p>
    <p>A three-layer simulation framework  Energy systems + Server systems + Job Scheduling</p>
    <p>Power System Layer</p>
    <p>Infrastructure Layer</p>
    <p>HPC Job Scheduling Layer</p>
    <p>Batch scheduler</p>
    <p>Job queue</p>
    <p>DatacenterModel</p>
    <p>Profiler</p>
    <p>HPC Traces [ Jon ID, subTime, waitTime, startTime, endTime, cpuNum, cpuTime]</p>
    <p>Server Power Data maxFreq/staticPwr/ dynPWr/ Turbo levels...</p>
    <p>Resource Traces windTimeSeriesData</p>
    <p>Wind Turbine Model</p>
    <p>Baseload Power Model Battery Model DischargeEvents</p>
    <p>GreenWorksModulator Monitor</p>
    <p>Analyzer Power Stats.</p>
    <p>perf/pwr</p>
    <p>Ctrl</p>
    <p>Job Infor.</p>
  </div>
  <div class="page">
    <p>Evaluated HPC Data Center Traces</p>
    <p>Data center workloads traces</p>
    <p>Atlas</p>
    <p>BlueGene</p>
    <p>Thunder</p>
    <p>DataStar</p>
    <p>MetaC</p>
    <p>iDataPlex</p>
    <p>RICC</p>
    <p>Seth</p>
    <p>Short-running workloads</p>
    <p>Long-running workloads</p>
    <p>Parallel Workload Archive  http://www.cs.huji.ac.il/labs/</p>
    <p>parallel/workload/</p>
    <p>Short job Interarrival time</p>
    <p>Long job Interarrival time</p>
  </div>
  <div class="page">
    <p>Performance Comparison</p>
    <p>E T</p>
    <p>I</p>
    <p>Shedding Boosting GreenWorks</p>
    <p>Less then 3% performance degradation, on average  Very close to an ideal battery based design (2.1%)</p>
    <p>About 12% performance degradation, for the 5% worst cases  Bettery than a our baseline, Boosting</p>
  </div>
  <div class="page">
    <p>Energy Efficiency</p>
    <p>S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W S B G</p>
    <p>W</p>
    <p>Thunder DataStar Atlas BlueGene RICC MetaC Seth iDataPlex Avg.</p>
    <p>To ta</p>
    <p>l E</p>
    <p>n e</p>
    <p>rg y</p>
    <p>Lo ss Battery Loss Inverter Loss</p>
    <p>Factors that affect energy utilization  Inverter energy loss and battery round-trip energy loss  GreenWorks maintains almost the same energy utilization</p>
  </div>
  <div class="page">
    <p>Battery Lifetime</p>
    <p>Provides better battery utilization  The lifetime of GreenWorks battery is very close to its</p>
    <p>designated lifetime.</p>
  </div>
  <div class="page">
    <p>UPS Autonomy Time (Backup Time)</p>
    <p>On average, the stored energy level is 78% of rated capacity  Boosting: 70%. Shedding: 88%.</p>
    <p>Ensures a rated backup time for 20% of the time.  Better than Boosting but worse than Shedding.</p>
    <p>UPS Autonomy Time</p>
    <p>E m</p>
    <p>p ir</p>
    <p>ic a</p>
    <p>l C</p>
    <p>D F</p>
    <p>Shedding</p>
    <p>Boosting</p>
    <p>GreenW orks</p>
    <p>Under-use</p>
    <p>Over-use</p>
  </div>
  <div class="page">
    <p>Conclusions</p>
    <p>Renewable energy powered computing system design should not ignore the attributes of power supply</p>
    <p>Be very careful when boosting (e.g., over-clocking), maintaining (e.g., use batteries), or shedding (e.g., shutdown servers) the loads in data centers powered by hybrid renewable energy systems.</p>
    <p>A cross-layer and cross-component data center power management scheme could provide us much better design tradeoffs.</p>
  </div>
  <div class="page">
    <p>Thanks For Your Attention</p>
  </div>
  <div class="page">
    <p>Green Computing</p>
    <p>30</p>
  </div>
</Presentation>
