<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>InIn--Degree Dynamics of LargeDegree Dynamics of Large--Scale Scale P2P SystemsP2P Systems</p>
    <p>Zhongmei Yao (Univerity of Dayton)</p>
    <p>Daren B.H. Cline (Texas A&amp;M University)</p>
    <p>Dmitri Loguinov (Texas A&amp;M University)</p>
    <p>ACM HotMetrics 2010</p>
    <p>June 18</p>
  </div>
  <div class="page">
    <p>AgendaAgenda</p>
    <p>Motivation and background  Peer churn and Palm-Khintchine Theorem</p>
    <p>General Edge-Creation Model  Edge Arrival Process</p>
    <p>In-Degree In-Degree  Wrap-up</p>
  </div>
  <div class="page">
    <p>Dynamics of Distributed Systems</p>
    <p>System of n nodes  ON (green) and OFF (grey)</p>
    <p>states</p>
    <p>Each user selects k outgoing neighbors  Repair links upon neighbor  Repair links upon neighbor</p>
    <p>failure</p>
    <p>Want to know in-coming edges of a node  More in-links, smaller</p>
    <p>isolation probability</p>
    <p>More in-links, more likely this node will be overloaded</p>
  </div>
  <div class="page">
    <p>Decompose into Two-State Processes</p>
    <p>Each user i is either ON or OFF [Yao06]: Li,m+1Li,m</p>
    <p>i,m+1i,m</p>
    <p>ON OFF</p>
    <p>ON</p>
    <p>Di,m</p>
    <p>Zi(t) functions of user i,</p>
    <p>capturing user heterogeneity</p>
    <p>Each outlink c is ALIVE/DEAD:</p>
    <p>ALIVE</p>
    <p>DEAD</p>
    <p>ALIVE</p>
    <p>DEAD</p>
    <p>Ui c(n, t)</p>
    <p>Yi c(n, t)</p>
    <p># of selections that user i performs for link c within is ON</p>
    <p>duration</p>
    <p>Each outlink c is ALIVE/DEAD:</p>
    <p>No complete modeling framework in prior work; no rigorous results on in-degree dynamics</p>
    <p>[Leonard07]</p>
  </div>
  <div class="page">
    <p>Edge Arrival Process</p>
    <p>ALIVE</p>
    <p>DEAD</p>
    <p>ALIVE</p>
    <p>DEAD</p>
    <p>Ui c(n, t)</p>
    <p>Yi c(n, t)</p>
    <p>User v</p>
    <p>Let n,i(t) be a marked point process  Mark processes Yi</p>
    <p>c(n, t) if user i delivers edges to peer v</p>
    <p>The edge arrival process to node v is i=1 n n,i(t)</p>
    <p>Superposition of n point processes!</p>
    <p>User v</p>
  </div>
  <div class="page">
    <p>The Classic Poisson Result</p>
    <p>Let Mn,i(t) count the number of renewals in interval [0, t] with inter-arrival time distribution Fn,i(t)</p>
    <p>Under mild conditions, the superposition of n independent stationary renewal processes approaches Poisson</p>
    <p>??????</p>
    <p>with inter-arrival time distribution Fn,i(t)</p>
    <p>The Palm-Khintchine theorem [Heyman and Sobel]: Process Mn(t) := i=1</p>
    <p>n Mn,i(t) converges in distribution to a homogeneous Poisson process as n if  Processes Mn,i(t) are stationary and independent</p>
    <p>Given any  &gt; 0, for each t &gt; 0 and n sufficiently large, Fn,i(t)   for all i</p>
    <p>And the aggregate arrival rate converges to a constant: limn  i=1</p>
    <p>nn,i</p>
    <p>sparser</p>
  </div>
  <div class="page">
    <p>Focus of This Paper</p>
  </div>
  <div class="page">
    <p>AgendaAgenda</p>
    <p>Motivation and background  Peer churn and Palm-Khintchine Theorem</p>
    <p>General Edge-Creation Model  Edge Arrival Process</p>
    <p>In-Degree In-Degree  Wrap-up</p>
  </div>
  <div class="page">
    <p>Modeling Assumptions</p>
    <p>Assumption 1: The number of outlinks k a user monitors is a constant for all n</p>
    <p>Assumption 2:</p>
    <p>Li,m+1Li,m</p>
    <p>i,m+1i,m</p>
    <p>ON OFF</p>
    <p>ON</p>
    <p>Di,m</p>
    <p>Zi(t)</p>
    <p>Assumption 2: 1) Given a fixed set of user types, the user ON/OFF durations of</p>
    <p>type j respectively follow CDFs F(j)(x) and G(j)(x) with finite means</p>
    <p>mutually independent, stationary alternating renewal processes</p>
  </div>
  <div class="page">
    <p>Dependency</p>
    <p>Edge creation processes are dependent</p>
    <p>ALIVE</p>
    <p>DEAD</p>
    <p>ALIVE</p>
    <p>DEAD</p>
    <p>Ui c(n, t)</p>
    <p>Yi c(n, t)</p>
    <p>i = 1, , n c = 1, , k</p>
    <p>Edge creation processes are dependent  Multiple users may concurrently connect to the same neighbor  Each out-link may point to a peer v again after v re-appears in the</p>
    <p>system</p>
    <p>User is current selection depends on the history observed by i  As a result, the model for the number of users available at each z</p>
    <p>th selection time is intricate</p>
  </div>
  <div class="page">
    <p>Main Theorem</p>
    <p>Define n,i(t) to be the edge arrival process from i to v:</p>
    <p>user 1</p>
    <p>user n</p>
    <p>Zv(t)</p>
    <p>Define n,i(t) to be the edge arrival process from i to v:</p>
    <p>Theorem 1: Under Assumptions 1-2 and uniform selection, conditioned on Zv, the superposition i=1</p>
    <p>n n,i(t) converges in distribution as n   to a non-homogeneous Poisson process with local rate Zv(t)</p>
    <p># of edges that i generates in [0, t]</p>
    <p>indicator that i connects to v as its z-th selection</p>
    <p>constant</p>
  </div>
  <div class="page">
    <p>Proof Overview</p>
    <p>user 1</p>
    <p>user n</p>
    <p>Zv(t)</p>
    <p>Our main task is to show [Resnick87]: Our main task is to show [Resnick87]:  Continuity: the probability that no point occurs exactly at time t</p>
    <p>is 1</p>
    <p>Mean convergence:</p>
    <p>Probability convergence:</p>
  </div>
  <div class="page">
    <p>Proof Overview 2</p>
    <p>As n increase, the probability that each user i selects any other peer more than once in [0, t] becomes smaller  The edge arrival process from each i to v becomes sparser</p>
    <p>To bound the above probability, we must first show that moments of collection {Wi(n, t)}n&gt;1 exist for all n  Lemma 3 in the paper</p>
    <p>The mean number of edges created by each i</p>
    <p>The edge arrival rate  to user v when v is alive must converge</p>
    <p>arrival rate of user i</p>
    <p># of selections per link within is lifetime</p>
  </div>
  <div class="page">
    <p>Simulations</p>
    <p>t</p>
    <p>Pareto lifetimes with shape parameter = 3</p>
    <p>Pareto lifetimes with shape parameter = 1.5</p>
  </div>
  <div class="page">
    <p>AgendaAgenda</p>
    <p>Motivation and background  Peer churn and Palm-Khintchine Theorem</p>
    <p>General Edge-Creation Model  Edge Arrival Process</p>
    <p>In-Degree In-Degree  Wrap-up</p>
  </div>
  <div class="page">
    <p>Main Theorem</p>
    <p>Theorem 2: Under Assumptions 1-2 and uniform selection, given that a user is alive in the system, its expected in</p>
    <p>Zv(t)</p>
    <p>given that a user is alive in the system, its expected indegree at fixed age s &gt; 0 converges as n   to a monotonically increasing function of age:</p>
    <p># of connections that each user i builds since both i and v are alive</p>
    <p># of existing users that select v since v arrives</p>
  </div>
  <div class="page">
    <p>Simulations</p>
    <p>Exponential lifetimes Pareto lifetimes with shape parameter = 3</p>
  </div>
  <div class="page">
    <p>Wrap-up</p>
    <p>A generic modeling framework for understanding user join/departure, edge arrival, and in-degree</p>
    <p>Closed-form results on the edge-arrival process to each user and the transient in-degree user and the transient in-degree  Proofs in technical report</p>
    <p>Open problems:  Non-uniform selection</p>
    <p>Non-stationary user churn</p>
  </div>
</Presentation>
