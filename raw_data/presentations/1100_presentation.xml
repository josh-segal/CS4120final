<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Siphon: Expediting Inter-Datacenter Coflows in Wide-Area Data Analytics Shuhao Liu, Li Chen, Baochun Li University of Toronto July 12, 2018</p>
  </div>
  <div class="page">
    <p>What is a Coflow?</p>
    <p>Map 1</p>
    <p>Map 2</p>
    <p>Map 4</p>
    <p>Map 3</p>
    <p>Reduce 1</p>
    <p>Reduce 2</p>
    <p>Reduce 3</p>
    <p>Reduce 4</p>
    <p>One stage in a data analytic job</p>
  </div>
  <div class="page">
    <p>What is a Coflow?</p>
    <p>Map 1</p>
    <p>Map 2</p>
    <p>Map 4</p>
    <p>Map 3</p>
    <p>Reduce 1</p>
    <p>Reduce 2</p>
    <p>Reduce 3</p>
    <p>Reduce 4</p>
    <p>Map tasks</p>
    <p>One stage in a data analytic job</p>
  </div>
  <div class="page">
    <p>What is a Coflow?</p>
    <p>Map 1</p>
    <p>Map 2</p>
    <p>Map 4</p>
    <p>Map 3</p>
    <p>Reduce 1</p>
    <p>Reduce 2</p>
    <p>Reduce 3</p>
    <p>Reduce 4</p>
    <p>Map tasks Reduce tasks</p>
    <p>One stage in a data analytic job</p>
  </div>
  <div class="page">
    <p>What is a Coflow?</p>
    <p>Map 1</p>
    <p>Map 2</p>
    <p>Map 4</p>
    <p>Map 3</p>
    <p>Reduce 1</p>
    <p>Reduce 2</p>
    <p>Reduce 3</p>
    <p>Reduce 4</p>
    <p>One stage in a data analytic job</p>
    <p>all-to-all shuffle</p>
  </div>
  <div class="page">
    <p>What is a Coflow?</p>
    <p>Map 1</p>
    <p>Map 2</p>
    <p>Map 4</p>
    <p>Map 3</p>
    <p>Reduce 1</p>
    <p>Reduce 2</p>
    <p>Reduce 3</p>
    <p>Reduce 4</p>
    <p>One stage in a data analytic job</p>
    <p>Coflow: considered done only when all flows finish</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Network model: datacenter networking</p>
    <p>Big switch abstraction</p>
    <p>network core is congestion-free</p>
    <p>Job 1 Job 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Network model: datacenter networking</p>
    <p>Big switch abstraction</p>
    <p>network core is congestion-free</p>
    <p>Job 1 Job 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Network model: datacenter networking</p>
    <p>Big switch abstraction</p>
    <p>network core is congestion-free</p>
    <p>Job 1 Job 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Network model: datacenter networking</p>
    <p>Big switch abstraction</p>
    <p>network core is congestion-free</p>
    <p>Job 1 Job 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Network model: datacenter networking</p>
    <p>Big switch abstraction</p>
    <p>network core is congestion-free</p>
    <p>Job 1 Job 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Job 1 Job 2</p>
    <p>Switch</p>
    <p>Coflow 1 Coflow 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Job 1 Job 2</p>
    <p>Switch</p>
    <p>Coflow 1 Coflow 2</p>
  </div>
  <div class="page">
    <p>Coflow Scheduling Objective: minimizing average coflow completion time</p>
    <p>Job 1 Job 2</p>
    <p>Switch</p>
    <p>Coflow 1 Coflow 2</p>
  </div>
  <div class="page">
    <p>Wide-Area Data Analytics</p>
  </div>
  <div class="page">
    <p>Wide-Area Data Analytics</p>
    <p>Datacenter 1</p>
    <p>Map 1 Map 2 Map 3 Map 4</p>
    <p>Reduce 1 Reduce 2 Data 1</p>
    <p>Datacenter 2</p>
    <p>Data 2</p>
    <p>Datacenter 3</p>
    <p>Data 3</p>
    <p>Datacenter 4</p>
    <p>Data 4</p>
    <p>Wide Area Network</p>
  </div>
  <div class="page">
    <p>Wide-Area Data Analytics</p>
    <p>Datacenter 1</p>
    <p>Map 1</p>
    <p>Map 2 Map 3 Map 4 Reduce 1 Reduce 2</p>
    <p>Data 1</p>
    <p>Datacenter 2 Data 2</p>
    <p>Datacenter 3 Data 3</p>
    <p>Datacenter 4 Data 4</p>
    <p>Wide Area Network</p>
  </div>
  <div class="page">
    <p>With tasks placed in different datacenter, what about their generated inter-datacenter coflows?</p>
  </div>
  <div class="page">
    <p>Challenges Dumb bell network model: inter-datacenter links are the only bottleneck</p>
    <p>Datacenter A Datacenter B</p>
    <p>Inter-datacenter link</p>
  </div>
  <div class="page">
    <p>Challenges Constantly changing available bandwidth</p>
    <p>Measured Bandwidth (Mbps) in a 100s interval 55 68.75 82.5 96.25 110</p>
    <p>CA-EU US-EU</p>
  </div>
  <div class="page">
    <p>Can existing heuristics work?</p>
    <p>Link 1</p>
    <p>Estimated Flow Completion Time 0 1 2 3 4 5 6 7 8</p>
    <p>Link 2</p>
  </div>
  <div class="page">
    <p>Coflow scheduling should consider the distribution of available bandwidth.</p>
  </div>
  <div class="page">
    <p>Monte Carlo Simulation</p>
  </div>
  <div class="page">
    <p>Monte Carlo Simulation</p>
    <p>Scheduling Decision Tree</p>
  </div>
  <div class="page">
    <p>B [0/0]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [0/0]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [0/0]</p>
  </div>
  <div class="page">
    <p>B [0/0]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [0/0]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [0/0]</p>
    <p>B C A C BA</p>
  </div>
  <div class="page">
    <p>B [0/0]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [0/0]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [0/0]</p>
    <p>B C A C BA</p>
  </div>
  <div class="page">
    <p>B [0/0]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [0/0]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [0/0]</p>
    <p>B C A C BA</p>
  </div>
  <div class="page">
    <p>B [0/0]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [0/0]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [0/0]</p>
    <p>B C A C BA</p>
    <p>B [0/1]A [1/1] C [0/1]</p>
  </div>
  <div class="page">
    <p>B [68/100]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [29/100]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [3/100]</p>
    <p>B C A C BA</p>
  </div>
  <div class="page">
    <p>B [68/100]</p>
    <p>Monte Carlo Simulation</p>
    <p>A [29/100]</p>
    <p>Scheduling Decision Tree</p>
    <p>C [3/100]</p>
    <p>B C A C BA</p>
    <p>Complexity? 100 * O(n!)</p>
  </div>
  <div class="page">
    <p>Reduced Simulation Complexity</p>
  </div>
  <div class="page">
    <p>Reduced Simulation Complexity</p>
    <p>Bounded Search Depth (t  nd)</p>
  </div>
  <div class="page">
    <p>Reduced Simulation Complexity</p>
    <p>Bounded Search Depth</p>
    <p>Reduced Search Breath (Early termination)</p>
    <p>(t  nd)</p>
  </div>
  <div class="page">
    <p>Reduced Simulation Complexity</p>
    <p>Bounded Search Depth</p>
    <p>Reduced Search Breath (Early termination)</p>
    <p>(t  nd)</p>
    <p>O(t  nd) &lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;</p>
  </div>
  <div class="page">
    <p>Reduced Simulation Complexity</p>
    <p>Bounded Search Depth</p>
    <p>Reduced Search Breath (Early termination)</p>
    <p>Online Incremental Search</p>
    <p>(t  nd)</p>
    <p>O(t  nd) &lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;</p>
  </div>
  <div class="page">
    <p>Reduced Simulation Complexity</p>
    <p>Bounded Search Depth</p>
    <p>Reduced Search Breath (Early termination)</p>
    <p>Online Incremental Search</p>
    <p>(t  nd)</p>
    <p>O(t  nd) &lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;SRRO9rJSliFs1sIUx4d32DxWNFw=&quot;&gt;AAAB/XicjVDLSgNBEOz1GeMrPm5eBoMQL2FXBD0GvXgzgnlAsobZ2UkyZHZ2mekV4hL8FS8eFPHqf3jzb5w8DioKFjQUVd1UU0EihUHX/XDm5hcWl5ZzK/nVtfWNzcLWdt3EqWa8xmIZ62ZADZdC8RoKlLyZaE6jQPJGMDgf+41bro2I1TUOE+5HtKdEVzCKVuoUdi9JiSBpo4i4IeomC0fksFMoemV3AvI3KcIM1U7hvR3GLI24QiapMS3PTdDPqEbBJB/l26nhCWUD2uMtSxW1YX42+X5EDqwSkm6s7SgkE/XrRUYjY4ZRYDcjin3z0xuLv3mtFLunfiZUkiJXbBrUTSXBmIyrIKHQnKEcWkKZFvZXwvpUU4a2sPz/SqgflT237F0dFytnszpysAf7UAIPTqACF1CFGjC4gwd4gmfn3nl0XpzX6eqcM7vZgW9w3j4BRU6T0A==&lt;/latexit&gt;</p>
    <p>O(t  nd1) &lt;latexit sha1_base64=&quot;JK9yGuMiIKSIlpDMmqUtZVTT2rQ=&quot;&gt;AAAB/3icjVDLSgNBEOyNrxhfq4IXL4NBiAfDrgh6DHrxZgTzgCSG2ckkGTI7u8z0CmHNwV/x4kERr/6GN//GyeOgomBBQ1HVTTUVxFIY9LwPJzM3v7C4lF3OrayurW+4m1tVEyWa8QqLZKTrATVcCsUrKFDyeqw5DQPJa8HgfOzXbrk2IlLXOIx5K6Q9JbqCUbRS2925JAWCpIki5Iaom7Rz6I/IQdvN+0VvAvI3ycMM5bb73uxELAm5QiapMQ3fi7GVUo2CST7KNRPDY8oGtMcblipq41rp5P8R2bdKh3QjbUchmahfL1IaGjMMA7sZUuybn95Y/M1rJNg9baVCxQlyxaZB3UQSjMi4DNIRmjOUQ0so08L+SlifasrQVpb7XwnVo6LvFf2r43zpbFZHFnZhDwrgwwmU4ALKUAEGd/AAT/Ds3DuPzovzOl3NOLObbfgG5+0TKpiUQg==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;JK9yGuMiIKSIlpDMmqUtZVTT2rQ=&quot;&gt;AAAB/3icjVDLSgNBEOyNrxhfq4IXL4NBiAfDrgh6DHrxZgTzgCSG2ckkGTI7u8z0CmHNwV/x4kERr/6GN//GyeOgomBBQ1HVTTUVxFIY9LwPJzM3v7C4lF3OrayurW+4m1tVEyWa8QqLZKTrATVcCsUrKFDyeqw5DQPJa8HgfOzXbrk2IlLXOIx5K6Q9JbqCUbRS2925JAWCpIki5Iaom7Rz6I/IQdvN+0VvAvI3ycMM5bb73uxELAm5QiapMQ3fi7GVUo2CST7KNRPDY8oGtMcblipq41rp5P8R2bdKh3QjbUchmahfL1IaGjMMA7sZUuybn95Y/M1rJNg9baVCxQlyxaZB3UQSjMi4DNIRmjOUQ0so08L+SlifasrQVpb7XwnVo6LvFf2r43zpbFZHFnZhDwrgwwmU4ALKUAEGd/AAT/Ds3DuPzovzOl3NOLObbfgG5+0TKpiUQg==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;JK9yGuMiIKSIlpDMmqUtZVTT2rQ=&quot;&gt;AAAB/3icjVDLSgNBEOyNrxhfq4IXL4NBiAfDrgh6DHrxZgTzgCSG2ckkGTI7u8z0CmHNwV/x4kERr/6GN//GyeOgomBBQ1HVTTUVxFIY9LwPJzM3v7C4lF3OrayurW+4m1tVEyWa8QqLZKTrATVcCsUrKFDyeqw5DQPJa8HgfOzXbrk2IlLXOIx5K6Q9JbqCUbRS2925JAWCpIki5Iaom7Rz6I/IQdvN+0VvAvI3ycMM5bb73uxELAm5QiapMQ3fi7GVUo2CST7KNRPDY8oGtMcblipq41rp5P8R2bdKh3QjbUchmahfL1IaGjMMA7sZUuybn95Y/M1rJNg9baVCxQlyxaZB3UQSjMi4DNIRmjOUQ0so08L+SlifasrQVpb7XwnVo6LvFf2r43zpbFZHFnZhDwrgwwmU4ALKUAEGd/AAT/Ds3DuPzovzOl3NOLObbfgG5+0TKpiUQg==&lt;/latexit&gt;&lt;latexit sha1_base64=&quot;JK9yGuMiIKSIlpDMmqUtZVTT2rQ=&quot;&gt;AAAB/3icjVDLSgNBEOyNrxhfq4IXL4NBiAfDrgh6DHrxZgTzgCSG2ckkGTI7u8z0CmHNwV/x4kERr/6GN//GyeOgomBBQ1HVTTUVxFIY9LwPJzM3v7C4lF3OrayurW+4m1tVEyWa8QqLZKTrATVcCsUrKFDyeqw5DQPJa8HgfOzXbrk2IlLXOIx5K6Q9JbqCUbRS2925JAWCpIki5Iaom7Rz6I/IQdvN+0VvAvI3ycMM5bb73uxELAm5QiapMQ3fi7GVUo2CST7KNRPDY8oGtMcblipq41rp5P8R2bdKh3QjbUchmahfL1IaGjMMA7sZUuybn95Y/M1rJNg9baVCxQlyxaZB3UQSjMi4DNIRmjOUQ0so08L+SlifasrQVpb7XwnVo6LvFf2r43zpbFZHFnZhDwrgwwmU4ALKUAEGd/AAT/Ds3DuPzovzOl3NOLObbfgG5+0TKpiUQg==&lt;/latexit&gt;</p>
  </div>
  <div class="page">
    <p>How to enforce the scheduling decisions?</p>
  </div>
  <div class="page">
    <p>Siphon: System Overview Form a software-defined overlay network</p>
    <p>Aggregators: measure bandwidth, schedule coflows based on priority assignment</p>
    <p>Controller: compute priority based on Monte Carlo simulation</p>
    <p>Datacenter 1</p>
    <p>Siphon Inter-Datacenter Software-Defined Overlay</p>
    <p>Worker Process</p>
    <p>Aggregator Daemon</p>
    <p>Worker Process</p>
    <p>Aggregator Daemon</p>
    <p>Worker Process</p>
    <p>Aggregator Daemon</p>
    <p>Datacenter 2</p>
    <p>Worker Process</p>
    <p>Aggregator Daemon</p>
    <p>Worker Process</p>
    <p>Aggregator Daemon</p>
    <p>Worker Process</p>
    <p>Aggregator Daemon</p>
    <p>Controller</p>
  </div>
  <div class="page">
    <p>Performance: Coflow Scheduling</p>
    <p>T-V T-M V-T V-M M-T M-V</p>
    <p>A va</p>
    <p>ila bl</p>
    <p>e B</p>
    <p>an dw</p>
    <p>id th</p>
    <p>(M bp</p>
    <p>s)</p>
    <p>&lt;25% 25-49% 50-74% 75% All N</p>
    <p>or m</p>
    <p>al iz</p>
    <p>ed C</p>
    <p>C T</p>
    <p>(% )</p>
    <p>Average 90th Percentile</p>
  </div>
  <div class="page">
    <p>With Siphon, we can do more</p>
  </div>
  <div class="page">
    <p>Intra-Coflow Scheduling Largest Flow Group First</p>
    <p>M1</p>
    <p>M2 R2</p>
    <p>R1</p>
    <p>M3</p>
    <p>DC1 to DC2</p>
    <p>DC3 to D</p>
    <p>C2</p>
    <p>Time0 1 2 3 4</p>
    <p>Flow Group 2 ends</p>
    <p>Schedule 2</p>
    <p>R1</p>
    <p>R2</p>
    <p>Flow Group 1 ends</p>
    <p>Time0 1 2 3 4</p>
    <p>Flow Group 1 ends</p>
    <p>Schedule 1 (LFGFS)</p>
    <p>R1</p>
    <p>R2</p>
    <p>Flow Group 2 ends</p>
  </div>
  <div class="page">
    <p>Coflow Multipath Routing 35~45Mbps</p>
    <p>bps</p>
    <p>N. Carolina</p>
    <p>Taiwan</p>
    <p>S. Carolina</p>
    <p>Tokyo</p>
    <p>Taiwan</p>
    <p>Oregon Belgium</p>
    <p>Figure 13: The summary of inter-datacenter traffic in the shuffle phase of the sort application.</p>
    <p>Figure 14: Bandwidth distribution among datacenters.</p>
    <p>Figure 15: Average and 90th percentile CCT comparison.</p>
    <p>ers. We assume workers are evenly distributed in the 3 datacenters, and generate aggregated flows on interdatacenter links. To avoid overflow, the flow sizes are scaled down, with the average load on inter-datacenter links reduced by 30%.</p>
    <p>Methodology. A coflow generator, together with a Siphon aggregator, is deployed in each datacenter. All generated traffic goes through Siphon, which can enforce proper inter-coflow scheduling decisions on interdatacenter links. As a baseline, we experiment with the Minimum Remaining Time First (MRTF) policy, which is the state-of-the-art heuristic with full coflow knowledge [27]. The metrics CCTs are then normalized to the performance of the baseline algorithm.</p>
    <p>Performance. Fig. 15 shows that Monte Carlo simulation-based inter-coflow scheduling outperforms MRTF in terms of both average and tail CCTs. Considering all coflows, the average CCT is reduced by 10%. Since the coflow size in the workload follows a longtail distribution, we further categorize coflows in 4 bins, based on the total coflow size. Apparently, the performance gain mostly stems from expediting the largest bin  elephant coflows that can easily overlap with each other. Beyond MRTF, Monte Carlo simulations can carefully study all possible near-term coflow ordering with respect to the unpredictable flow completion times, and enforce a decision that is statistically optimal.</p>
    <p>Wide-Area Data Analytics. For data analytics spanning across datacenters, wide area network links easily become the performance bottleneck. To reduce the usage of inter-datacenter bandwidth, existing works either tweak applications to generate different workloads [12, 16, 23, 24], or assign input datasets and tasks to datacenters optimally [19, 22]. However, all these efforts focus on adding wide-area network awareness to the computation framework, without tackling the lowerlevel inter-datacenter data transfers directly. Orthogonal and complementary to these efforts, Siphon is designed for the inter-datacenter network optimization  it delivers the inter-datacenter traffic with better efficiency, regardless of the upper-layer decisions on task placement or execution plan.</p>
    <p>Software-Defined Networking (SDN). The concept of SDN has been proposed to facilitate the innovation in network control plane [2, 18].In the inter-datacenter wide-area network, SDN has been recently adopted to provide centralized control with elegantly designed traffic engineering strategies [11, 14, 15]. Different from these efforts, our work realizes the SDN principle in the application layer, without requiring hardware support. Moreover, our work focuses on improving performance for data analytics jobs with more complex communication patterns, controlling flows at a finer granularity.</p>
    <p>Network Optimization for Data Analytics. Accounting for the job-level semantics, coflow scheduling algorithms (e.g., [6, 8, 9]) are proposed to minimize the average coflow completion time within a datacenter network, which is assumed to be free of congestion. Without such assumptions, joint coflow scheduling and routing strategies [17, 28] are proposed in the datacenter network, where both the core and the edge are congested. Different from these models, the network in the wide area has congested core and congestion-free edge, since the inter-datacenter links have much lower bandwidth than the access links of each datacenter. Apart from the different network model, our coflow scheduling handles the uncertainty of the fluctuating bandwidth in the wide area, while the existing efforts assume that the bandwidth capacities remain unchanged.</p>
    <p>To address the performance degradation of data analytics deployed across geographically distributed datacenters, we have designed and implemented Siphon  a building block that can be seamlessly integrated with existing data parallel frameworks  to expedite coflow transfers. Following the principles of software-defined networking, a controller implements and enforces several novel coflow scheduling strategies.</p>
    <p>To evaluate the effectiveness of Siphon in expediting coflows as well as analytics jobs, we have conducted extensive experiments on real testbeds, with Siphon deployed across geo-distributed datacenters. The results have demonstrated that Siphon can effectively reduce the completion time of a single coflow by up to 76% and improve the average coflow completion time.</p>
  </div>
  <div class="page">
    <p>Performance: Intra-Coflow Scheduling</p>
    <p>Spark Naive Multipath Siphon 0</p>
    <p>R ed</p>
    <p>uc e</p>
    <p>S ta</p>
    <p>ge E</p>
    <p>xe cu</p>
    <p>tio n</p>
    <p>T im</p>
    <p>e (s</p>
    <p>)</p>
    <p>Task Execution Shuffle Read</p>
  </div>
  <div class="page">
    <p>Performance: Benchmark Workloads</p>
    <p>ALS PCA BMM Pearson W2V FG 0</p>
    <p>A pp</p>
    <p>lic at</p>
    <p>io n</p>
    <p>R un</p>
    <p>T im</p>
    <p>e (s</p>
    <p>) -26.1</p>
    <p>Siphon Spark</p>
  </div>
  <div class="page">
    <p>Takeaway</p>
    <p>Siphon is a software-defined inter-datacenter overlay that realizes:</p>
    <p>Coflow scheduling in wide-area data analytics: Monte Carlo Simulation</p>
    <p>Intra-coflow scheduling: Largest Flow Group First</p>
    <p>Coflow multipath rerouting</p>
    <p>Shorter coflow completion time leads to better job-level performance</p>
  </div>
  <div class="page">
    <p>Thank you!</p>
  </div>
</Presentation>
