<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>Mohamed Hefeeda 1</p>
    <p>School of Computing ScienceSchool of Computing Science Simon Fraser University, CanadaSimon Fraser University, Canada</p>
    <p>Optimal Partitioning of FineGrained Scalable Video Streams</p>
    <p>Mohamed Hefeeda</p>
    <p>(joint work with Cheng-Hsin Hsu)</p>
    <p>NOSSDAV 07</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 2</p>
    <p>Motivations: Internet Video ServerMotivations: Internet Video Server</p>
    <p>Video Server</p>
    <p>Ethernet</p>
    <p>Cable</p>
    <p>DSL</p>
    <p>Wireless</p>
    <p>Heterogeneous clients, even with same access technology</p>
    <p>Fine-Grained Scalable (FGS) Coding to cope with heterogeneity</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 3</p>
    <p>MPEG-4 and H.264 standards support FGS</p>
    <p>FGS CodingFGS Coding</p>
    <p>Base layer Enhancement Layer</p>
    <p>Nonscalable Scalable</p>
    <p>rb  Why FGS?</p>
    <p>- Utilization of server and client bandwidth</p>
    <p>- Efficient storage and customization of videos</p>
    <p>rmax</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 4</p>
    <p>Coding (in)efficiency gap - FGS yields lower quality compared to nonscalable at same rate</p>
    <p>Base layer rate (rb) controls this gap - Larger rb  smaller gaps</p>
    <p>- But, larger rb  disqualify clients with bandwidth &lt; rb</p>
    <p>- Trade-off that determines the quality for all clients</p>
    <p>Our Work (1) - Experimentally quantify and model quality gap between</p>
    <p>FGS and nonscalable streams</p>
    <p>FGS and Coding InefficiencyFGS and Coding Inefficiency</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 5</p>
    <p>Our Work (2): Single FGS SequenceOur Work (2): Single FGS Sequence</p>
    <p>Find the best base layer rate for a single sequence to maximize quality for given client distribution</p>
    <p>Present optimal and efficient algorithm to solve it</p>
    <p>Useful when server pre-allocates bandwidth for individual sequences</p>
    <p>Also used as a step in the general problem</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 6</p>
    <p>Our Work (3): Multiple FGS Sequences Our Work (3): Multiple FGS Sequences</p>
    <p>Find best base layer rates for multiple sequences concurrently streamed to diverse client sets to maximize quality for all clients, constrained by server bandwidth</p>
    <p>Video Server</p>
    <p>Ethernet</p>
    <p>Cable</p>
    <p>DSL</p>
    <p>Wireless</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 7</p>
    <p>Our Work (3): Multiple FGS Sequences Our Work (3): Multiple FGS Sequences</p>
    <p>We prove that it is NP-Complete</p>
    <p>Propose Branch-and-Bound algorithm that runs fast for many typical cases</p>
    <p>Propose Heuristic algorithm that produces nearoptimal results and scales to large problems</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 8</p>
    <p>Our Work in the Big PictureOur Work in the Big Picture</p>
    <p>Video Server</p>
    <p>Ethernet</p>
    <p>Cable</p>
    <p>DSL</p>
    <p>Wireless</p>
    <p>Our Algorithms FGS Encoder or</p>
    <p>Transcoder</p>
    <p>Video database Camera</p>
    <p>rb</p>
    <p>Characteristics of sequences</p>
    <p>Client bandwidth distribution</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 9</p>
    <p>Quality Gap for FGS Streams Quality Gap for FGS Streams</p>
    <p>Instrument Reference Software of H.264 - Joint Scalable Video Model (JSVM ver 8.0)</p>
    <p>Use several diverse video sequences - Mobile, City, Harbour, Soccer, Crew (4CIF)</p>
    <p>Encode with a given rb</p>
    <p>- decode at many bit rates</p>
    <p>- measure quality (PSNR) and compare to nonscalable</p>
    <p>Repeat for several rb values</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 10</p>
    <p>Quality Gap for FGS Streams: Results Quality Gap for FGS Streams: Results</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 11</p>
    <p>Quality Gap for FGS Streams: Results Quality Gap for FGS Streams: Results</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 12</p>
    <p>Quality Gap for FGS Streams: Results Quality Gap for FGS Streams: Results</p>
    <p>Gap is a decreasing function of rb</p>
    <p>Smaller gaps for sequences with higher bit rates (4CIF)</p>
    <p>Gap is due to - Less accurate motion estimation, only base layer is used in estimation</p>
    <p>- Additional header overheads</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 13</p>
    <p>Single-Sequence Formulation Single-Sequence Formulation</p>
    <p>Inputs - Clients divided into C classes, with bandwidth</p>
    <p>b1 &lt; b2 &lt;&lt; bC</p>
    <p>- Client distribution over classes: fc</p>
    <p>- Quality at a given rate (e.g., R-D function): q(r)</p>
    <p>Find rb such that</p>
    <p>],0[,)( max 1</p>
    <p>max rrwherefbq bc C</p>
    <p>c c</p>
    <p>rb</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 14</p>
    <p>Single-Sequence Formulation Single-Sequence Formulation</p>
    <p>Theorem 1</p>
    <p>An optimal solution for the base layer rate that maximizes average perceived quality for all clients can be found at one of the rates bc, where 1  c  C.</p>
    <p>Using Theorem 1, we design a simple algorithm (FGSOPT) to solve the single-sequence problem in O(C) steps.</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 15</p>
    <p>Multiple-Sequence Formulation Multiple-Sequence Formulation</p>
    <p>Generalize to S sequences, each sequence has a client distribution</p>
    <p>Find base layer rates R = {rs, 1  s  S} such that:</p>
    <p>max 1 1</p>
    <p>max</p>
    <p>;0..</p>
    <p>max</p>
    <p>BfqN</p>
    <p>RRts</p>
    <p>fqN</p>
    <p>S</p>
    <p>s</p>
    <p>C</p>
    <p>c</p>
    <p>s c</p>
    <p>s c</p>
    <p>s</p>
    <p>S</p>
    <p>s</p>
    <p>C</p>
    <p>c</p>
    <p>s c</p>
    <p>s c</p>
    <p>s</p>
    <p>R</p>
    <p>s</p>
    <p>s</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 16</p>
    <p>Multiple-Sequence Formulation Multiple-Sequence Formulation</p>
    <p>Theorem 2</p>
    <p>Determining optimal base layer rates of multiple FGS sequences concurrently streamed by bandwidth-limited server is NP-Complete.</p>
    <p>Proof - By reducing the multiple-choice knapsack problem to</p>
    <p>the above problem</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 17</p>
    <p>Multiple-Sequence: Multiple-Sequence: Branch &amp; Bound Alg.</p>
    <p>Idea of the B&amp;B Algorithm (MFGSOPT) - Incrementally construct a tree</p>
    <p>- Each level represents a sequence with its possible base layer rates (= C using Theorem 1)</p>
    <p>- Before expanding a branch use a BOUND function to compute an upper on the quality from that branch</p>
    <p>- The upper bound results in pruning many branches without sacrificing the optimal quality</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 18</p>
    <p>Multiple-Sequence: Multiple-Sequence: B&amp;B Algorithm</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 19</p>
    <p>Multiple-Sequence: Heuristic AlgorithmMultiple-Sequence: Heuristic Algorithm</p>
    <p>Idea of the Heuristic Algorithm (MFGS) - Incrementally allocate more bandwidth to sequences</p>
    <p>that are expected to increase quality by higher margins for each bandwidth unit consumed</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 20</p>
    <p>EvaluationEvaluation</p>
    <p>Setup - H.264 reference software</p>
    <p>- Several video sequences</p>
    <p>- Different client distributions</p>
    <p>- Various typical streaming scenarios</p>
  </div>
  <div class="page">
    <p>Multiple sequences</p>
    <p>Mohamed Hefeeda 21</p>
    <p>Quality ImprovementQuality Improvement</p>
    <p>Up to several dB quality improvement, on average</p>
    <p>Single sequence</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 22</p>
    <p>B&amp;B vs. HeuristicB&amp;B vs. Heuristic</p>
    <p>Heuristic algorithm produces near-optimal solutions</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 23</p>
    <p>B&amp;B vs. HeuristicB&amp;B vs. Heuristic</p>
    <p>Heuristic algorithm is much faster and scales with number of sequences</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 24</p>
    <p>ConclusionsConclusions</p>
    <p>Modelled the quality gap between FGS and nonscalable streams - Trade off between supported clients ranges and</p>
    <p>perceived quality</p>
    <p>Optimization problem to find best base layer rate: - Single sequence (optimal and efficient algorithm)</p>
    <p>- Multiple sequences (NP-Complete, B&amp;B, Heuristic)</p>
    <p>Systematic algorithms to optimize quality - Compared to rule-of-thumb methods</p>
  </div>
  <div class="page">
    <p>Mohamed Hefeeda 25</p>
    <p>Thank You!Thank You!</p>
    <p>Questions??</p>
    <p>Details are available in the extended version of the paper at:</p>
    <p>http://www.cs.sfu.ca/~mhefeeda</p>
  </div>
</Presentation>
