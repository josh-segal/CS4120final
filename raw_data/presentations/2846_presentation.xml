<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>SELFSTARTER Finding Network Misconfigurations by Automatic Template Inference</p>
    <p>Siva Kesava Reddy Kakarla1</p>
    <p>Ryan Beckett2 Karthick Jayaraman3 Todd Millstein1,4 Yuval Tamir1 George Varghese1</p>
    <p>Microsoft Research Microsoft Azure 2 3</p>
    <p>Alan Tang1</p>
  </div>
  <div class="page">
    <p>Network Misconfigurations Are Common</p>
  </div>
  <div class="page">
    <p>Network Misconfigurations Are Common</p>
    <p>How can we detect misconfigurations?</p>
  </div>
  <div class="page">
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>Router Configs</p>
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Spec</p>
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>Router Configs</p>
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Spec</p>
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>Router Configs</p>
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Spec</p>
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>Router Configs</p>
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Spec</p>
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>has an important practical limitation.</p>
    <p>Router Configs</p>
    <p>Network Verification</p>
  </div>
  <div class="page">
    <p>Spec</p>
    <p>Verifier e.g. ERA,</p>
    <p>Minesweeper</p>
    <p>Specifications Specs are mostly written in an informal way or are incomplete</p>
    <p>Hard to write a precise formal model</p>
    <p>In practice, specifications often do not exist</p>
    <p>Router Configs</p>
    <p>Limitation: Lack of Specifications</p>
  </div>
  <div class="page">
    <p>PROBLEM: How to find misconfigurations</p>
    <p>without an explicit specification?</p>
  </div>
  <div class="page">
    <p>GENERAL APPROACH: Bugs as deviant behavior!</p>
    <p>If thousands of people all do the same action, we know the majority is probably right, and any contradictory action is probably wrong without knowing the correct behavior.</p>
    <p>Bugs as Deviant Behavior: A General Approach to Inferring Errors in Systems Code - SOSP 2001</p>
    <p>PROBLEM: How to find misconfigurations</p>
    <p>without an explicit specification?</p>
  </div>
  <div class="page">
    <p>GENERAL APPROACH: Bugs as deviant behavior!</p>
    <p>If thousands of people all do the same action, we know the majority is probably right, and any contradictory action is probably wrong without knowing the correct behavior.</p>
    <p>Bugs as Deviant Behavior: A General Approach to Inferring Errors in Systems Code - SOSP 2001</p>
    <p>OUR INSIGHT: Exploit network device roles</p>
    <p>PROBLEM: How to find misconfigurations</p>
    <p>without an explicit specification?</p>
  </div>
  <div class="page">
    <p>Network Device Roles</p>
    <p>Routers in a network are generally assigned certain roles based on their use</p>
  </div>
  <div class="page">
    <p>Network Device Roles</p>
    <p>Routers in a network are generally assigned certain roles based on their use</p>
  </div>
  <div class="page">
    <p>Network Device Roles</p>
    <p>Routers in a network are generally assigned certain roles based on their use  Routers in the same role of a network are typically configured similarly</p>
  </div>
  <div class="page">
    <p>PROBLEM: How to model config similarity and define deviance ?</p>
  </div>
  <div class="page">
    <p>PROBLEM: How to model config similarity and define deviance ?</p>
    <p>NAVE APPROACH: Exact configuration equivalence</p>
    <p>Too strong an assumption! Router configurations in a role have many intentional differences (e.g., local IPs)</p>
  </div>
  <div class="page">
    <p>NAVE APPROACH: Exact configuration equivalence</p>
    <p>Too strong an assumption! Router configurations in a role have many intentional differences (e.g., local IPs)</p>
    <p>PROBLEM: How to model config similarity and define deviance ?</p>
    <p>OUR APPROACH: Infer parameterized templates to distinguish intentional</p>
    <p>differences from likely bugs</p>
  </div>
  <div class="page">
    <p>First automatic template inference algorithm for any configuration segment, e.g. ACLs, policy maps and so on</p>
    <p>Contributions</p>
  </div>
  <div class="page">
    <p>First automatic template inference algorithm for any configuration segment, e.g. ACLs, policy maps and so on</p>
    <p>Concrete instantiations of our generic algorithm for three widely used segments  ACLs, prefix lists and route policies</p>
    <p>Contributions</p>
  </div>
  <div class="page">
    <p>First automatic template inference algorithm for any configuration segment, e.g. ACLs, policy maps and so on</p>
    <p>Concrete instantiations of our generic algorithm for three widely used segments  ACLs, prefix lists and route policies</p>
    <p>SelfStarter  Tool for finding potential bugs in router configurations with actionable feedback for operators using automatic template inference</p>
    <p>Contributions</p>
  </div>
  <div class="page">
    <p>First automatic template inference algorithm for any configuration segment, e.g. ACLs, policy maps and so on</p>
    <p>Concrete instantiations of our generic algorithm for three widely used segments  ACLs, prefix lists and route policies</p>
    <p>SelfStarter  Tool for finding potential bugs in router configurations with actionable feedback for operators using automatic template inference</p>
    <p>SelfStarter found 43 previously unknown bugs in total in Microsoft networks and a large campus network.</p>
    <p>Contributions</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Self Starter</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Self Starter</p>
    <p>Network Engineer</p>
    <p>Roles Router</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Self Starter</p>
    <p>Network Engineer</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Self Starter</p>
    <p>Network Engineer</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>T1 T2 T3</p>
    <p>ACL X</p>
    <p>Templates</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Self Starter</p>
    <p>Network Engineer</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>T1 T2 T3</p>
    <p>ACL X ACL Y</p>
    <p>T1 Templates</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Self Starter</p>
    <p>Network Engineer</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>T1 T2 T3</p>
    <p>ACL X ACL Y</p>
    <p>T1</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>End-to-End Design</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates</p>
    <p>Likely Bugs!</p>
    <p>T1 T2 T3 T1</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
    <p>br 106 Configs</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
    <p>br 106 Configs</p>
    <p>aux_in</p>
    <p>aux_out</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
    <p>br 106 Configs</p>
    <p>aux_in</p>
    <p>aux_out</p>
    <p>any</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
    <p>br 106 Configs</p>
    <p>aux_in</p>
    <p>aux_out</p>
    <p>any</p>
    <p>Group Sizes 88 16 2</p>
  </div>
  <div class="page">
    <p>Router Configs</p>
    <p>Network Engineer</p>
    <p>Self Starter</p>
    <p>Roles Router</p>
    <p>Role R2 Configs</p>
    <p>Role R1 Configs</p>
    <p>ACL X ACL Y</p>
    <p>Other ACLs, prefix lists</p>
    <p>&amp; route policies</p>
    <p>Templates T1 T2 T3 T1</p>
    <p>An Example: Campus Network</p>
    <p>br 106 Configs</p>
    <p>aux_in</p>
    <p>aux_out</p>
    <p>any</p>
    <p>Group Sizes 88 16 2 Likely Bugs!</p>
  </div>
  <div class="page">
    <p>Input  106 ACL configurations from a role in the campus network</p>
    <p>SelfStarter Example Output</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Metatemplate</p>
    <p>Input  106 ACL configurations from a role in the campus network</p>
    <p>SelfStarter Example Output</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Metatemplate</p>
    <p>Input  106 ACL configurations from a role in the campus network</p>
    <p>SelfStarter Example Output</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Group 1 Template</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Group 1 Template</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Group 2 Template</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Group 3 Template</p>
  </div>
  <div class="page">
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Group 3 Template</p>
  </div>
  <div class="page">
    <p>Group Outliers</p>
    <p>Groups 2 and 3  Group 1</p>
    <p>Deviance Identification Groups 2 and 3 ACLs are potentially misconfigured</p>
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
  </div>
  <div class="page">
    <p>Group Outliers</p>
    <p>Deviance Identification Groups 2 and 3 ACLs are potentially misconfigured</p>
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Groups 2 and 3  Group 1   Metatemplate  Actionable feedback to the network engineers</p>
  </div>
  <div class="page">
    <p>Group Outliers</p>
    <p>Deviance Identification Groups 2 and 3 ACLs are potentially misconfigured</p>
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
    <p>Groups 2 and 3  Group 1   Metatemplate  Actionable feedback to the network engineers</p>
    <p>Group 1A=127  Group 1A=255  10 ACLs are potentially permitting more traffic than intended</p>
    <p>Parameter Outliers</p>
    <p>A # of ACLs in Group 1</p>
  </div>
  <div class="page">
    <p>Group Outliers</p>
    <p>Parameter Outliers</p>
    <p>Groups 2 and 3  Group 1   Metatemplate  Actionable feedback to the network engineers</p>
    <p>Group 1A=127  Group 1A=255</p>
    <p>Deviance Identification Groups 2 and 3 ACLs are potentially misconfigured</p>
    <p>Group 1 (88 ACLs)</p>
    <p>Group 2 (16 ACLs)</p>
    <p>Group 3 (2 ACLs)</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
    <p>Challenge: Non-identical lines</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
    <p>Solution: Parameterization</p>
    <p>Challenge: Non-identical lines</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
    <p>Solution: Parameterization</p>
    <p>Challenge: Non-identical lines</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
    <p>Challenge: Allow certain reorderings but not arbitrary reorderings</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
    <p>Challenge: Allow certain reorderings but not arbitrary reorderings</p>
    <p>A block is a contiguous sequence of lines that can be arbitrarily reordered but the order of blocks is important.</p>
    <p>Solution: Two-level abstraction using blocks</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>Template Inference: Key Ideas</p>
    <p>(see our paper for details)</p>
    <p>Block Alignment Sequence alignment to prevent cross-block reordering</p>
  </div>
  <div class="page">
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>(see our paper for details)</p>
    <p>Template Inference: Key Ideas</p>
    <p>Block Alignment</p>
    <p>Line Reorderings</p>
    <p>Sequence alignment to prevent cross-block reordering</p>
    <p>Minimum-weight bipartite matching to allow within-block line reorderings</p>
  </div>
  <div class="page">
    <p>Template of ACL1 and ACL2</p>
    <p>ip access-list extended ACL2</p>
    <p>ip access-list extended ACL1</p>
    <p>ip access-list extended ACL*</p>
  </div>
  <div class="page">
    <p>Triple: (segment type, role, segment name)</p>
    <p>Results  Summary</p>
  </div>
  <div class="page">
    <p>Network Segment Type Consistent Triples (only one group)</p>
    <p>Inconsistent Triples (at least 2 groups)</p>
    <p>Identified Investigated True Positives</p>
    <p>(% of investigated)</p>
    <p>Campus ACLs 0 6 3 3 (100%)</p>
    <p>Microsoft WAN</p>
    <p>Prefix lists 10042 166 138 7 (5%)</p>
    <p>Route policies 10969 56 33 33 (100%)</p>
    <p>Microsoft Data center</p>
    <p>ACLs 9700 938 400* 400 (100%)*</p>
    <p>Prefix lists 2954 0 -</p>
    <p>Route policies 11653 230 230* 230 (100%)*</p>
    <p>Triple: (segment type, role, segment name)</p>
    <p>Results  Summary</p>
    <p>* These were known inconsistencies</p>
  </div>
  <div class="page">
    <p>Network Segment Type Consistent Triples (only one group)</p>
    <p>Inconsistent Triples (at least 2 groups)</p>
    <p>Identified Investigated True Positives</p>
    <p>(% of investigated)</p>
    <p>Campus ACLs 0 6 3 3 (100%)</p>
    <p>Microsoft WAN</p>
    <p>Prefix lists 10042 166 138 7 (5%)</p>
    <p>Route policies 10969 56 33 33 (100%)</p>
    <p>Microsoft Data center</p>
    <p>ACLs 9700 938 400* 400 (100%)*</p>
    <p>Prefix lists 2954 0 -</p>
    <p>Route policies 11653 230 230* 230 (100%)*</p>
    <p>Results  Summary</p>
    <p>* These were known inconsistencies</p>
    <p>Triple: (segment type, role, segment name)</p>
  </div>
  <div class="page">
    <p>Network Segment Type Consistent Triples (only one group)</p>
    <p>Inconsistent Triples (at least 2 groups)</p>
    <p>Identified Investigated True Positives</p>
    <p>(% of investigated)</p>
    <p>Campus ACLs 0 6 3 3 (100%)</p>
    <p>Microsoft WAN</p>
    <p>Prefix lists 10042 166 138 7 (5%)</p>
    <p>Route policies 10969 56 33 33 (100%)</p>
    <p>Microsoft Data center</p>
    <p>ACLs 9700 938 400* 400 (100%)*</p>
    <p>Prefix lists 2954 0 -</p>
    <p>Route policies 11653 230 230* 230 (100%)*</p>
    <p>Results  Summary</p>
    <p>* These were known inconsistencies</p>
    <p>Triple: (segment type, role, segment name)</p>
  </div>
  <div class="page">
    <p>Network Segment Type Consistent Triples (only one group)</p>
    <p>Inconsistent Triples (at least 2 groups)</p>
    <p>Identified Investigated True Positives</p>
    <p>(% of investigated)</p>
    <p>Campus ACLs 0 6 3 3 (100%)</p>
    <p>Microsoft WAN</p>
    <p>Prefix lists 10042 166 138# 7 (5%)#</p>
    <p>Route policies 10969 56 33 33 (100%)</p>
    <p>Microsoft Data center</p>
    <p>ACLs 9700 938 400* 400 (100%)*</p>
    <p>Prefix lists 2954 0 -</p>
    <p>Route policies 11653 230 230* 230 (100%)*</p>
    <p>Results  Summary</p>
    <p>#These prefix lists dynamically expand to multiple lines * These were known inconsistencies</p>
    <p>Triple: (segment type, role, segment name)</p>
  </div>
  <div class="page">
    <p>Results  Sources of Misconfigurations</p>
    <p>Campus  Decentralized management - Central and</p>
    <p>departmental  Reference templates for operators to follow</p>
  </div>
  <div class="page">
    <p>Results  Sources of Misconfigurations</p>
    <p>Campus  Decentralized management - Central and</p>
    <p>departmental  Reference templates for operators to follow</p>
    <p>Inconsistent manual policy updates  Reference templates might be stale</p>
  </div>
  <div class="page">
    <p>Results  Sources of Misconfigurations</p>
    <p>Campus  Decentralized management - Central and</p>
    <p>departmental  Reference templates for operators to follow</p>
    <p>Inconsistent manual policy updates  Reference templates might be stale</p>
    <p>Microsoft WAN  Semi-automated via scripts  Implicit templates within scripts</p>
  </div>
  <div class="page">
    <p>Results  Sources of Misconfigurations</p>
    <p>Campus  Decentralized management - Central and</p>
    <p>departmental  Reference templates for operators to follow</p>
    <p>Inconsistent manual policy updates  Reference templates might be stale</p>
    <p>Microsoft WAN  Semi-automated via scripts  Implicit templates within scripts</p>
    <p>Bug in the scripts  Erroneous manual updates</p>
  </div>
  <div class="page">
    <p>Results  Sources of Misconfigurations</p>
    <p>Campus  Decentralized management - Central and</p>
    <p>departmental  Reference templates for operators to follow</p>
    <p>Inconsistent manual policy updates  Reference templates might be stale</p>
    <p>Microsoft WAN  Semi-automated via scripts  Implicit templates within scripts</p>
    <p>Bug in the scripts  Erroneous manual updates</p>
    <p>Microsoft Data center  Automated update service  Explicit templates for each role</p>
  </div>
  <div class="page">
    <p>Results  Sources of Misconfigurations</p>
    <p>Campus  Decentralized management - Central and</p>
    <p>departmental  Reference templates for operators to follow</p>
    <p>Inconsistent manual policy updates  Reference templates might be stale</p>
    <p>Microsoft WAN  Semi-automated via scripts  Implicit templates within scripts</p>
    <p>Bug in the scripts  Erroneous manual updates</p>
    <p>Microsoft Data center  Automated update service  Explicit templates for each role</p>
    <p>Delayed updates during automation</p>
  </div>
  <div class="page">
    <p>Bayesian Detection of Router Configuration Anomalies:</p>
    <p>Structured Bayes [2005 Khalid et al]</p>
    <p>o Misconfigurations in router data are identified as statistical anomalies within a Bayesian framework.</p>
    <p>Prior Work</p>
  </div>
  <div class="page">
    <p>Bayesian Detection of Router Configuration Anomalies:</p>
    <p>Structured Bayes [2005 Khalid et al]</p>
    <p>o Misconfigurations in router data are identified as statistical anomalies within a Bayesian framework.</p>
    <p>Detecting Network-Wide and Router-Specific Misconfigurations Through Data Mining:</p>
    <p>Minerals [2009 Le et al]</p>
    <p>o Applied association rules mining to the configuration files</p>
    <p>Prior Work</p>
  </div>
  <div class="page">
    <p>Bayesian Detection of Router Configuration Anomalies:</p>
    <p>Structured Bayes [2005 Khalid et al]</p>
    <p>o Misconfigurations in router data are identified as statistical anomalies within a Bayesian framework.</p>
    <p>Detecting Network-Wide and Router-Specific Misconfigurations Through Data Mining:</p>
    <p>Minerals [2009 Le et al]</p>
    <p>o Applied association rules mining to the configuration files</p>
    <p>Prior Work</p>
    <p>Key Limitations</p>
    <p>Exact equivalence-based similarity</p>
    <p>Do not apply to complex</p>
    <p>configuration segments like ACLs</p>
    <p>and Prefix lists</p>
    <p>Allow arbitrary reordering of lines</p>
  </div>
  <div class="page">
    <p>Conclusion</p>
    <p>First general template inference algorithm for configuration segments</p>
    <p>SelfStarter  Our tool for finding potential network misconfigurations without a specification, using automatic template inference</p>
    <p>Provides actionable feedback to the operators</p>
    <p>Found 43 unknown bugs in Microsoft networks and campus network</p>
    <p>Source Code : https://github.com/SivaKesava1/SelfStarter</p>
    <p>Reach me at: sivakesava@cs.ucla.edu</p>
  </div>
  <div class="page"/>
</Presentation>
