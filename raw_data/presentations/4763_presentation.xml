<?xml version="1.0" ?>
<Presentation>
  <div class="page">
    <p>PIQI-RCP: Design and Analysis</p>
    <p>of Rate-Based Explicit</p>
    <p>Congestion Control</p>
    <p>PIQIPIQI--RCP: Design and Analysis RCP: Design and Analysis</p>
    <p>of Rateof Rate--Based Explicit Based Explicit</p>
    <p>Congestion Control Congestion Control</p>
    <p>Saurabh JainSaurabh Jain</p>
    <p>Joint work with Dr. Dmitri Joint work with Dr. Dmitri LoguinovLoguinov</p>
    <p>June 21, 2007June 21, 2007</p>
  </div>
  <div class="page">
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Analysis of RCP</p>
    <p>QI-RCP</p>
    <p>PIQI-RCP</p>
    <p>Comparison</p>
    <p>Wrap Up</p>
  </div>
  <div class="page">
    <p>IntroductionIntroductionIntroduction</p>
    <p>Congestion control can be modeled as a delayed feedback</p>
    <p>control system</p>
    <p>Each flow i in the plant, upon receiving a congestion</p>
    <p>feedback l(t), applies a control equation to compute its sending rate xi as</p>
    <p>G(s) Plant</p>
    <p>C(s) Controller</p>
    <p>C</p>
    <p>y(t)</p>
    <p>e(t) = C  y(t)</p>
    <p>(t)</p>
    <p>Capacity Input Traffic Rate Feedback</p>
    <p>Round-Trip Time</p>
    <p>Backward delay from controller to flow i</p>
  </div>
  <div class="page">
    <p>Introduction 1Introduction 1Introduction 1</p>
    <p>Congestion feedback is a function of the input traffic rate</p>
    <p>(i.e., sending rates of individual flows), link capacity, etc.</p>
    <p>For a stable system, the sending rates of individual flows</p>
    <p>and the feedback converge to their equilibrium value</p>
    <p>It is also desirable to have efficiency and fairness</p>
    <p>Control interval</p>
  </div>
  <div class="page">
    <p>Introduction 2Introduction 2Introduction 2</p>
    <p>The problem can also be formulated in the discrete time domain as difference equations</p>
    <p>Congestion feedback can be 5 Implicit such as detection of packet loss or increase in RTT due to</p>
    <p>larger queuing delays</p>
    <p>Proposed explicit congestion control methods include XCP, MKC, JetMax, MaxNet, RCP [IWQoS 2005]</p>
  </div>
  <div class="page">
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Analysis of RCP</p>
    <p>QI-RCP</p>
    <p>PIQI-RCP</p>
    <p>Comparison</p>
    <p>Wrap Up</p>
  </div>
  <div class="page">
    <p>Analysis of RCP - DrawbacksAnalysis of RCP Analysis of RCP -- DrawbacksDrawbacks</p>
    <p>In RCP, each router l uses a control equation:</p>
    <p>Each flow i adjusts its sending rate xi(t) as:</p>
    <p>Limited Understanding of Stability: 5 Stability analysis only available for homogeneous RTTs. For</p>
    <p>heterogeneous RTTs, results only available using simulations</p>
    <p>Control rate</p>
    <p>Control interval Link capacity</p>
    <p>Queue size</p>
    <p>Average RTT of</p>
    <p>flows in the system Input rate of</p>
    <p>all flows</p>
    <p>Received feedback from router l</p>
  </div>
  <div class="page">
    <p>Analysis of RCP  Drawbacks 1Analysis of RCP Analysis of RCP  Drawbacks 1Drawbacks 1 tttt = 0,= 0,= 0,= 0, xxxx1111</p>
    <p>tttt = 30,= 30,= 30,= 30, xxxx2222----xxxx9999</p>
    <p>Oscillating bottlenecks Fixed bottlenecks</p>
    <p>We use  = 0.4 and  = 1</p>
    <p>RCP is unstable in topology T1</p>
  </div>
  <div class="page">
    <p>Analysis of RCP  Drawbacks 2Analysis of RCP Analysis of RCP  Drawbacks 2Drawbacks 2</p>
    <p>Link Overshoot: 5 Input traffic rate overshoots link capacity significantly when large</p>
    <p>number of flows join simultaneously</p>
    <p>simultaneously</p>
  </div>
  <div class="page">
    <p>Analysis of RCP - StrengthsAnalysis of RCP Analysis of RCP -- StrengthsStrengths</p>
    <p>Lower per-packet computations</p>
    <p>and 2 multiplications as against 6 additions and 3 multiplications</p>
    <p>in the case of XCP</p>
    <p>Smaller control header size</p>
    <p>bytes in MKC</p>
    <p>Steady-state rates achieve max-min fairness unlike XCP</p>
    <p>Much smaller average flow completion time (AFCT)</p>
    <p>compared to XCP and TCP</p>
  </div>
  <div class="page">
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Analysis of RCP</p>
    <p>QI-RCP</p>
    <p>PIQI-RCP</p>
    <p>Comparison</p>
    <p>Wrap Up</p>
  </div>
  <div class="page">
    <p>QI-RCPQIQI--RCPRCP</p>
    <p>Compared to RCP, QI-RCP decouples queue dynamics</p>
    <p>from router control equation</p>
    <p>Define error function el(t) at router l as:</p>
    <p>The control equation at router l is:</p>
    <p>Theorem 1: Assume N flows with heterogeneous RTTs</p>
    <p>and define D = max{D1, D2,,DN}, D  = D/T . The</p>
    <p>discrete version of QI-RCP is asymptotically stable if 0 &lt;  &lt; *, where</p>
    <p>Input Traffic Rate</p>
    <p>Scaled Link capacity</p>
    <p>Gain Parameter</p>
  </div>
  <div class="page">
    <p>QI-RCP 1QIQI--RCP 1RCP 1</p>
    <p>If flows have homogeneous RTTs (i.e., Di = D), the previous condition also becomes necessary</p>
    <p>Verification of stability condition:  = *, T = 10,  = 0.95</p>
    <p>t = 0</p>
    <p>t = 10</p>
    <p>= 0.99  = 1.01</p>
  </div>
  <div class="page">
    <p>QI-RCP 2QIQI--RCP 2RCP 2</p>
    <p>Verification of stability condition: (contd)</p>
    <p>= 0.99  = 1.80</p>
  </div>
  <div class="page">
    <p>QI-RCP 3QIQI--RCP 3RCP 3</p>
    <p>For T/D  0, * = T/(2D). This can also be derived from</p>
    <p>the continuous version of QI-RCP</p>
    <p>QI-RCP is stable in topology T1 where RCP was unstable</p>
    <p>= 0.5  = 0.99</p>
  </div>
  <div class="page">
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Analysis of RCP</p>
    <p>QI-RCP</p>
    <p>PIQI-RCP</p>
    <p>Comparison</p>
    <p>Wrap Up</p>
  </div>
  <div class="page">
    <p>PIQI-RCP (Picky-RCP)PIQIPIQI--RCP (RCP (PickyPicky--RCPRCP))</p>
    <p>Controller at the router is a Proportional-Integral (PI)</p>
    <p>controller:</p>
    <p>At the source (end-user), define:</p>
    <p>Controller at the source:</p>
  </div>
  <div class="page">
    <p>PIQI-RCP 1PIQIPIQI--RCP 1RCP 1</p>
    <p>For simplicity, we assume 1= 2=</p>
    <p>Theorem 2: Assume N flows with heterogeneous RTTs and define D = max{D1, D2,,DN}, D</p>
    <p>= D/T . The discrete version of PIQI-RCP with sufficiently small T is locally asymptotically stable if 0 &lt; 1 &lt; 1, 0 &lt; 1+22 &lt; 2 and 0 &lt;  &lt; *, where</p>
    <p>If flows have homogeneous RTTs (i.e., Di = D), the previous condition also becomes necessary</p>
    <p>Stability condition for sufficiently small T, 1, and 2 is half of that in QI-RCP</p>
  </div>
  <div class="page">
    <p>PIQI-RCP 2PIQIPIQI--RCP 2RCP 2</p>
    <p>Verification of stability condition:  = *, T = 10,  = 0.95, 1 = 0.005, 2 = 0.5</p>
    <p>= 0.99  = 1.01</p>
  </div>
  <div class="page">
    <p>PIQI-RCP 3PIQIPIQI--RCP 3RCP 3</p>
    <p>Verification of stability condition: (contd)</p>
    <p>= 0.99  = 1.01</p>
  </div>
  <div class="page">
    <p>PIQI-RCP 4PIQIPIQI--RCP 4RCP 4</p>
    <p>PIQI-RCP is stable in topology T1 where RCP was</p>
    <p>unstable</p>
    <p>= 0.50  = 0.99</p>
  </div>
  <div class="page">
    <p>AgendaAgendaAgenda</p>
    <p>Introduction</p>
    <p>Analysis of RCP</p>
    <p>QI-RCP</p>
    <p>PIQI-RCP</p>
    <p>Comparison</p>
    <p>Wrap Up</p>
  </div>
  <div class="page">
    <p>ComparisonComparisonComparison</p>
    <p>We next compare RCP and PIQI-RCP using NS-2</p>
    <p>simulations</p>
    <p>To prevent computing sine function inside routers, the upper bound * is approximated as *</p>
    <p>For RCP, we set  = 0.4,  = 1, T = 10</p>
    <p>For PIQI-RCP, we set  = 0.95*, T = 10,  = 0.95, 1 = 0.005, 2 = 0.5</p>
  </div>
  <div class="page">
    <p>Comparison 1Comparison 1Comparison 1</p>
    <p>Single Bottleneck Topology: D1=120, D2==D10=300</p>
    <p>RCP PIQI-RCP</p>
  </div>
  <div class="page">
    <p>Comparison 2Comparison 2Comparison 2</p>
    <p>Single Bottleneck Topology: (contd)</p>
    <p>RCP PIQI-RCP</p>
  </div>
  <div class="page">
    <p>Comparison 3Comparison 3Comparison 3</p>
    <p>Single Bottleneck Topology: (contd)</p>
    <p>Peak Queue Size AFCT</p>
  </div>
  <div class="page">
    <p>Comparison 4Comparison 4Comparison 4</p>
    <p>Multi-Bottleneck Topology:</p>
    <p>xxxx2222</p>
    <p>xxxx1111</p>
    <p>llll1 llll2222</p>
    <p>xxxx3333</p>
    <p>RCP</p>
    <p>x1 x2</p>
    <p>x3</p>
    <p>PIQI-RCP</p>
    <p>x1 x2 x3</p>
  </div>
  <div class="page">
    <p>Comparison - LinuxComparison Comparison -- LinuxLinux</p>
    <p>Implemented both RCP and PIQI-RCP inside Linux kernel</p>
    <p>for further comparison using real systems and gigabit</p>
    <p>network</p>
    <p>As observed in NS-2 simulations, Linux experimental</p>
    <p>results also indicate better performance of PIQI-RCP as</p>
    <p>compared to RCP</p>
    <p>Future work includes comparing PIQI-RCP with other</p>
    <p>explicit congestion control methods</p>
  </div>
  <div class="page">
    <p>Wrap UpWrap UpWrap Up</p>
    <p>Stability analysis in the presence of heterogeneous delays</p>
    <p>is of fundamental importance in the design of congestion</p>
    <p>control</p>
    <p>Use of average RTT in control equation without proper</p>
    <p>analysis and flow identification (i.e., responsive or</p>
    <p>unresponsive) may not be appropriate</p>
    <p>PIQI-RCP mitigates drawbacks of RCP with slight tradeoff in link utilization () and AFCT</p>
    <p>More in the paper:</p>
  </div>
  <div class="page">
    <p>Thank You!</p>
  </div>
</Presentation>
