<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /Users/atharsefid/Desktop/grobid-0.5.3/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<encodingDesc>
			<appInfo>
				<application version="0.5.3" ident="GROBID" when="2019-03-26T16:51+0000">
					<ref target="https://github.com/kermitt2/grobid">GROBID - A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Probabilistic Query Expansion using Query Logs</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Hang</forename><surname>Cui</surname></persName>
							<email>hang_cui@hotmail.com</email>
							<affiliation key="aff0">
								<orgName type="department">Institute of System Engineering</orgName>
								<orgName type="institution">Tianjin University Tianjin</orgName>
								<address>
									<country key="CN">P.R.China</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Ji-Rong</forename><surname>Wen</surname></persName>
							<email>jrwen@microsoft.com</email>
							<affiliation key="aff1">
								<orgName type="institution">Microsoft Research Asia 3F</orgName>
								<address>
									<addrLine>Beijing Sigma Center No.49, Zhichun Road Haidian District</addrLine>
									<settlement>Beijing</settlement>
									<country key="CN">P.R.China</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Wei-Ying</forename><surname>Ma</surname></persName>
							<email>wyma@microsoft.com</email>
							<affiliation key="aff2">
								<orgName type="institution">Microsoft Research Asia 3F</orgName>
								<address>
									<addrLine>Beijing Sigma Center No.49, Zhichun Road Haidian District</addrLine>
									<settlement>Beijing</settlement>
									<country key="CN">P.R.China</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Probabilistic Query Expansion using Query Logs</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<profileDesc>
			<textClass>
				<keywords>
					<term>H33 Information Search and Retrieval: Query Expansion</term>
					<term>Log Mining General Terms Algorithms</term>
					<term>Management</term>
					<term>Measurement</term>
					<term>Performance</term>
					<term>Design</term>
					<term>Experimentation</term>
					<term>Human Factors</term>
					<term>Theory Keywords Query expansion</term>
					<term>log mining</term>
					<term>probabilistic model</term>
					<term>information retrieval</term>
					<term>search engine</term>
				</keywords>
			</textClass>
			<abstract>
				<p>Query expansion has long been suggested as an effective way to resolve the short query and word mismatching problems. A number of query expansion methods have been proposed in the traditional information retrieval field. But these previous methods seldom take into account the characteristics of web searching. Especially, they do not take advantages of the user interaction information recorded in the web query logs. In this study, we put forward a new probabilistic method for query expansion based on query logs. The central idea of this method is to construct the probabilistic correlations between query terms and document terms through mining the query logs. Then the probabilistic correlations can be used to select high-quality expansion terms for the newly coming queries. The experimental results show that our log based probabilistic query expansion method can improve the search performance greatly and has overwhelming advantages over other existing methods. We also give the quantitative measure of the difference between query terms and document terms, which provides the experimental evidence to support the assumption that there is a big gap between the query space and the document space.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.">INTRODUCTION</head><p>With the explosive growth of information on the World Wide Web, there is an acute need for search engine technology to help users to exploit such an extremely valuable resource. Despite the fact that keywords are not always good descriptors of contents, most existing search engines still rely solely on the keywords contained in the queries to search and rank relevant documents. This is one of the key factors that affect the precision of the search engines. In many cases, the answers returned by search engines are not relevant to the user's information need, although they do contain the same keywords as . the query.</p><p>The web is not a well-organized information source and innumerous "authors" created and are creating their websites independently. Therefore, the "vocabularies" of the authors vary greatly. But users usually tend not to use the same terms appearing in the documents as search terms. This is a fundamental problem called term mismatch in information retrieval. Moreover, most words in natural language have inherent ambiguity. These reasons make accurate query formulation a rather difficult task for the web users.</p><p>It is also generally accepted that web users typically submit very short queries to the search engines and the average length of web queries is less than two words <ref type="bibr" target="#b15">[16]</ref>. Therefore, such short queries usually lack sufficient words to cover useful search terms and thus heavily decrease the performance of web search in terms of both precision and recall.</p><p>To overcome the above problems, researchers have focused on using query expansion techniques to help users formulate what information is really needed. Query expansion involves adding new words and phrases to the existing search terms to generate an expanded query. Existing state-of-the-art query expansion approaches can mainly be classified into two classes -global analysis and local analysis.</p><p>Global analysis is one of the first techniques to produce consistent and effective improvements through query expansion. Global analysis requires corpus wide statistics such as the co-occurrences of every pair of terms, which results in a similarity matrix among terms. To expand a query, terms which are most similar to the query terms are identified and added. The global analysis techniques are relatively robust in average performance. But it requires corpus wide statistical data which consumes a considerable amount of computer resources. Moreover, since it only focuses on the document part and does not take into account the query part, global analysis cannot address the term mismatch problem well.</p><p>Different from global analysis, local analysis uses only some initially retrieved documents for further query expansion. A more recent and well-known local analysis technique is relevance feedback <ref type="bibr" target="#b13">[14]</ref>, which modifies a query based on the relevance judgments of the retrieved documents, that is, only extract expansion terms from the relevant documents judged by the user. Relevant feedback can achieve very good performance only if the users afford sufficient and correct relevance judgments. Unfortunately, in a real search engine environment, users usually are reluctant to provide such relevance feedback information. Therefore, relevance feedback is seldom used by the commercial search engines.</p><p>To overcome the difficulty of lacking of sufficient relevance judgment information, pseudo relevance feedback (also known as blind feedback) is commonly used. The basic idea of pseudo feedback is to assume the top-ranked documents are relevant and then extract expansion terms from those documents. Thus actual input from the user is not required. Recent TREC results show that local feedback approaches are effective and, in some cases, outperform global analysis techniques <ref type="bibr" target="#b16">[17]</ref>. Nevertheless, this method has an obvious drawback: if a large fraction of the topranked documents is actually non-relevant, then the words added to the query (drawn mostly from these documents) are likely to be unrelated to the topic and the quality of the documents retrieved using the expanded query is likely to be poor. Thus the effects of pseudo feedback depend heavily on the quality of initial retrieval.</p><p>Recently, Xu and Croft <ref type="bibr" target="#b17">[18]</ref> proposed a local context analysis method, which aims to combine the local analysis and global analysis. First, noun groups are used as concepts which are selected based on co-occurrences with query terms. Then concepts are chosen from the top-ranked documents, similar to local feedback. Since expansion terms used here are not based on frequencies in the top-ranked documents but based on cooccurrence with terms in the query, the local context analysis method can overcome the difficulty of local analysis to some extent. To our knowledge, local context analysis is one of the expansion methods achieving the best performance so far <ref type="bibr" target="#b17">[18]</ref>. However, local context analysis is based on the hypothesis that a common term from the top-ranked relevant documents will tend to co-occur with all query terms within the top-ranked documents. This is a reasonable but not always holding hypothesis.</p><p>In this study, we put forward a new query expansion method based on query logs. Through daily usages, every search engine website accumulates a large amount of query logs. From the query logs we can extract many query sessions. A query session is defined as follows:</p><formula xml:id="formula_0">session := &lt;query text&gt; [clicked document]*</formula><p>Each session corresponds to one query and the documents the user clicked on. The central idea of our method is that if a set of documents is often selected for the same queries, then the terms in these documents are related to the terms of the queries. Thus some probabilistic correlations between query terms and document terms can be established based on the query logs. Then these probabilistic correlations can be used to select the high-quality expansion terms from the document space for the newly coming queries.</p><p>One important assumption behind this method is that the clicked documents are "relevant" to the query. Although the clicking information is not as accurate as explicit relevance judgment in traditional IR, the user's choice does suggest a certain degree of "relevance" of that document to his or her information need. In fact, users usually do not make the choice randomly. Even if some of the document clicks are erroneous, we can expect that most users do click on relevant documents. Our previous work on using query logs to cluster similar queries also strongly supports this assumption <ref type="bibr" target="#b15">[16]</ref>. Therefore, the query log can be taken as a very valuable resource containing abundant relevance feedback data. Thus we can overcome the problem of lacking sufficient relevance judgment information in traditional relevance feedback technique. On the other side, our method has obvious advantage over pseudo relevance feedback -not only are the clicked documents the topranked documents, but also there is a further selection by the user. So document clicks are more reliable indications than those used in pseudo relevance feedback. Therefore, we can only expect better results.</p><p>The log based query expansion method has another three important properties. First, since the term correlations can be precomputed offline, the initial retrieval phase is not needed anymore. Second, since the query logs contain the query sessions from different users, the term correlations can reflect the preference of most users. For example, if the majority of users use "windows" to search for information about Microsoft Windows product, the term "windows" will have much stronger correlations with the terms such as "Microsoft", "OS" and "software" rather than with the terms such as "decorate", "door" and "house". Thus the expanded query will lead to the documents about Microsoft Windows which are ranked higher than others. The similar idea has been used in several existing search engines, such as Direct Hit <ref type="bibr" target="#b4">[5]</ref>. Our query expansion approach can naturally reach the same results. Third, the term correlations may evolve with the accumulation of user logs. The query expansion process can reflect the most users' query needs at a specific time.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.">PROBABILISTIC QUERY EXPANSION BASED ON QUERY LOGS</head><p>In this section, we introduce the details of the log based query expansion method. First, we will give a formal measurement of the similarity between query terms and document terms. Such kind of measurement is not feasible until a large amount of web logs are available nowadays. Our measurement results proved that there is a big gap between the query space and document space. Therefore some mechanisms are needed to bridge the gap, that is, to build up the relationships between query terms and document terms. Then we will discuss how to construct such a kind of term correlations by mining the query logs. Finally, we will show how to use these term correlations to select high-quality expansion terms.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.1">Gap between the Query Space and the Document Space</head><p>Inconsistency between term usages in queries and documents is a well known problem in information retrieval. This is one of the very facts that motivate the use of query expansion. This problem was first observed by Furnas <ref type="bibr" target="#b5">[6]</ref> in a more general context. It is even worse when the query is very short as is the case on the web.</p><p>But till now, no one precisely measures how different between the two word sets of documents and queries. It is difficult to determine the gap without user query logs. In order to acquire such a measurement, we collected two-month query logs (about 22 GB) from the Encarta search engine (http://encarta.msn.com), as well as the 41,942 documents in the Encarta website. From these logs we extracted 4,839,704 user query sessions. Below is an excerpt of the query sessions.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Queries</head></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>IDs of clicked documents</head></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Trinidad and Tobago</head><p>Amish pacifism </p><formula xml:id="formula_1">∑ ∑ × + × + = 2 ) ( ) ( 2 ) ( ) ( ) ( ) ( ) 1 ( ln ) 1 ln( d i d i d i d i d i idf tf idf tf W (1) i d i n N idf ln ) ( = ( 2 )</formula><p>For each document, we can construct a corresponding virtual document in the query space by collecting all queries with clicks on the document. A virtual document is represented as a query vector { To measure the gap between the query space and document space, we only need to measure the similarity between the document vector and its corresponding query vector. Specially, the similarity of each pair of vectors can be measured by using the following Cosine similarity:</p><formula xml:id="formula_2">∑ ∑ ∑ = = = = n i d i n i q i n i d i q i W W W W Similarity 1 ) ( 2 1 ) ( 2 1 ) ( ) (<label>(3)</label></formula><p>We noticed that many terms in the document space never or seldom be used in the users' queries. Thus many terms in the document vector do not appear or with very small weights in its corresponding query vector. Such a kind of mismatch could dramatically decrease the similarity between the two vectors. Therefore, we use the n most important common words in both vectors for the similarity calculation, where n is determined by the number of terms in the virtual document. <ref type="figure" target="#fig_1">Figure 1</ref> illustrates the final results of similarity values on the whole document collection. This figure shows that, in most cases, the similarity values of term usages between user queries and documents are between 0.1 and 0.4. Only very few documents have similarity values above 0.8. The average similarity value across the whole document collection is 0.28, which means the average internal angle between the query vector and the document vector is 73.68 degree. This is a rather big angle and indicates that there is really a broad gap between the query space and the document space. </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.2">Correlations between Query Terms and Document Terms</head><p>Query sessions in the query logs provide an effective way to bridge the gap between the query space and the document space. <ref type="figure" target="#fig_2">Figure 2</ref> shows that the correlations between the query terms and document terms can be established through the query sessions. In general, we assume that the terms in a query are correlated to the terms in the documents that the user clicked on. If there is at least one path between one query term and one document term, a probabilistic link is established between them. Thus we can obtain the probabilistic correlations between the terms in these two spaces <ref type="figure">(Figure 3</ref>).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Query Terms</head></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Query Sessions</head><p>Document Terms  </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Figure 3 Probabilistic correlations between query terms and document terms</head><p>Now we discuss how to determine the degrees of correlations between terms. This is equal to calculating the conditional probabilities between them. In other words, the degree of the correlation between a query term and a document term is the conditional probability of a document term's appearance on condition that the query term is used. Let is defined as follows. </p><formula xml:id="formula_3">) | ( ) | ( ) ( ) ( ) | ( ) | ( ) ( ) , ( ) , | ( ) ( ) , , ( ) ( ) ( ) | , ( ) ( ) , ( ) | ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( ) ( q i k k d j S D q i q i q i k k d j S D q i k q i S D k q i d</formula><formula xml:id="formula_4">× = × × = × = = × = = ∑ ∑ ∑ ∑ ∑ ∈ ∀ ∈ ∀ ∈ ∀ ∈ ∀ ∈ ∀ ( 4 )</formula><p>S is a set of documents. A document is added into the set if and only if its document ID and the query term   By combining the formulas (4), (5) and (6), we obtain the following formula to calculate</p><formula xml:id="formula_5">) | ( ) ( ) ( q i d j w w P . ∑ ∈ ∀ × = S D q i q k q i q ik d jk q i d j k w f D w f W w w P ) ) ( ) , ( ( ) | ( ) ( ) ( ) ( ) ( ) ( ) ( ) (<label>(7)</label></formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.3">Query Expansion Based on Term Correlations</head><p>Our query expansion method is based on the probabilistic term correlations described above. When a new query comes, first, the terms in the query (with stop words being removed) are extracted. Then for every query term, all correlated document terms are selected based on the conditional probability obtained by the formula (7). By combining the probabilities of all query terms, we can get the joint probability for every document term by using the formula (8).</p><formula xml:id="formula_6">)) 1 ) | ( ( ln( ) | ( ) ( ) ( ) ( + ∏ = q i d j i d j w w P Q w P<label>(8)</label></formula><p>where Q stands for the new query.</p><p>Thus, for every query, we get a list of candidate expansion terms as well as the conditional probabilities between each term and the query. Then we can pick out the top-ranked terms as expansion terms and add them into the original query.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.">EXPERIMENTS AND RESULTS</head><p>In this section, we report the experimental results on the performance of the log based probabilistic query expansion method.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.1">Data</head><p>We collected two-month query logs (about 22 GB) from the Encarta website, from which 4,839,704 user query sessions are extracted. The documents collection is made up of 41,942 Encarta documents with various topics. In addition, the lengths of the documents vary greatly, from dozens of words to several thousand words.</p><p>Total 30 queries are used to conduct the experiments. Some queries are extracted randomly from the query logs. Some are selected from the TREC query set. Others are constructed manually. The queries in our experiments are very close to those employed by the real web users and the average length of all queries is 2.1 words. <ref type="figure">Figure 4</ref> lists the 30 queries used in the experiments.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Figure 4. The experimental query set</head><p>Relevant documents are judged according to the human assessors' manual selections. Thus, we can obtain the standard relevant document set for every query.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.2">Word and Phrase Thesaurus</head><p>Encarta has well organized manual indexes in addition to automatically extracted index terms. In order to test our techniques in a general context, we did not use manual indexes or the existing Encarta searching engine for evaluation. Instead, we implement a vector space model as the baseline method in our experiments.</p><p>We build the word thesaurus out of all documents only excluding stop words. There are over 190,000 words in total in the word thesaurus.</p><p>We do not use traditional method to extract phrases from documents because we are more interested in the phrases in the query space. Therefore, we extract all N-grams from the query logs with occurrences bigger than 5 times and treat the N-grams as candidate phrases. Then we relocate these candidate phrases in the document corpus and filter out those not appearing in the documents. In the end we get a thesaurus containing over 13,000 phrases.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.3">Quality of Expansion Terms</head><p>We examined the top 50 expansion terms for all the 30 queries to check the relevance of the expansion terms. As showed in the <ref type="table" target="#tab_4">Table 1</ref>, compared to the local context analysis (LC Analysis), our log based query expansion method (Log Based) can achieve a 32.03% improvement of the quality of the expansion terms.  <ref type="figure">Figure 5</ref> illustrates the expansion terms for the query "Steve Jobs" by our method. Some very good terms, such as "personal computer", "Apple Computer", "CEO" , "Macintosh", even "graphical user interface", "Microsoft" can be obtained by our techniques.  <ref type="figure">Figure 5</ref> Expansion terms for "Steve Jobs"</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.4">Performance Comparison</head><p>Now we compare the retrieval performance of the log based query expansion method with the baseline (without query expansion) and the local context analysis method. Interpolated 11-point average precision is employed as the main metric of retrieval performance. Statistical paired t-test <ref type="bibr" target="#b6">[7]</ref> is also used to determine significance of differences.</p><p>For the local context analysis, the default is to use 30 expansion terms, which include words and phrases, from 100 top-ranked documents for query expansion. The default δ is set to 0.1 here, as proposed in <ref type="bibr" target="#b17">[18]</ref>.</p><p>For the log based query expansion, we use 40 expansion terms. The expansion terms are extracted from top 100 relevant documents according to the query logs. Phrases appear in the query logs are assigned a parameter S , which is 10 in our experiments. The formula presented in section 4.1 is changed to:</p><formula xml:id="formula_7">∑ ∈ ∀ × × = S D q i q k q i q ik d jk q i d j k w f D w f S W w w P ) ) ( ) , ( ( ) | ( ) ( ) ( ) ( ) ( ) ( ) ( ) (<label>(9)</label></formula><p>Parameter S is a factor to promote the importance of phrases.</p><p>Since queries are mostly far shorter than articles, occurrences of phrases should be stressed here. The alternative method is to employ idf since in general occurrences of phrases are less than that of words.</p><p>We now present the comparison results in <ref type="table" target="#tab_6">Table 2</ref> and plot the result on a chart as illustrated by <ref type="figure" target="#fig_6">Figure 6</ref>.  Our log based query expansion performs well on the experiments. It has the maximum improvement of 100.82% (recall=80), and 75.42% improvement in average (p-value= 0.0000039585) over baseline, while the local context analysis achieve maximum improvement of 50.19% <ref type="formula">(recall=100</ref> our experiments are much shorter than those in the TREC. This is closer to the real scenario on the Internet. In addition, local context analysis also offers large (26.24%) improvement compared to the baseline. That is a noticeable improvement, even slightly higher than the result reported in <ref type="bibr" target="#b17">[18]</ref>, which obtains 23.3% improvement on TREC3 and 23.5% improvement on TREC4. That indicates that query expansion is extremely important for short queries.</p><p>Log based query expansion also provides an average improvement of 38.95% compared to local context analysis, which is also statistically significant (p-value= 0.000493316). Generally, log based query expansion selects expansion terms in a relatively narrower but more concentrate style. In contrast, local context analysis searches expansion terms in the top-ranked retrieved documents and is more likely to add some irrelevant terms into the original query, which have side effects on retrieval performance.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.5">Impact of Phrases</head><p>In <ref type="bibr" target="#b17">[18]</ref>, it is indicated that using noun phrases has little impact on retrieval performance. According to their experiments, the performance decreases by only 0.2% on TREC4 without using phrases. For the TREC queries, there is enough information to tradeoff the advantages of phrases since the queries are relatively long (7.5 words in average per query in TREC4). But for short queries, phrases are of crucial importance. It is reasonable because users often use phrases to represent their intentions. Without phrases, separate words in the query may lead to bad results. For example, "search engine" is a widely used phrase. But when we load word thesaurus only, it is parsed as "search" and "engine". Then few of the retrieved documents are related to search engine, while most of them pertain to engines installed on motors, planes or vessels, etc. Our experiments show that the performance can be improved greatly when phrases are introduced into the query expansion and retrieval phases. On average, an 11.37% improvement can be obtained (see <ref type="table" target="#tab_8">Table 3</ref>). </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.6">Impact of Number of Expansion Terms</head><p>In general, there is a peak point for a certain number of expansion terms to reach the best performance. Too many expansion terms not only consume more time in retrieval process, but also have side effects on retrieval performance.</p><p>We examine performance by using 10, 20, 30, 40, 50, 60, 70, 80, 90 and 100 expansion terms for retrieval. <ref type="table" target="#tab_9">Table 4</ref> and <ref type="figure" target="#fig_7">Figure 7</ref> show the average precision obtained by different number of expansion terms. The best performances are obtained within the range of 40 and 60 terms. The performance drops when the number of expansion terms is larger than 70, which indicates that the terms beyond 70 are less relevant to the original query.  </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.">RELATED WORK</head><p>One of the earliest global analysis techniques is term clustering <ref type="bibr" target="#b14">[15]</ref>, which groups document words into clusters based on their co-occurrences and then uses these groups to do query expansion. Other well-known global techniques include Latent Semantic Indexing <ref type="bibr" target="#b3">[4]</ref>, similarity thesauri <ref type="bibr" target="#b10">[11]</ref>, and PhraseFinder <ref type="bibr" target="#b7">[8]</ref>, etc.</p><p>The idea of local analysis can be traced back at least to a 1977 paper <ref type="bibr" target="#b0">[1]</ref>. A more recent and well-known local analysis technique is relevance feedback <ref type="bibr" target="#b11">[12,</ref><ref type="bibr" target="#b13">14]</ref>. Local feedback mimics relevance feedback by assuming the top-ranked documents are relevant <ref type="bibr" target="#b2">[3,</ref><ref type="bibr" target="#b12">13]</ref>. In recent years, many improvements have been obtained on the basis of local feedback, including re-ranking the retrieved documents using automatically constructed fuzzy Boolean filters <ref type="bibr" target="#b9">[10]</ref>, clustering the top-ranked documents and removing the singleton clusters <ref type="bibr" target="#b8">[9]</ref>, clustering the retrieved documents but using the terms that best match the original query for expansion <ref type="bibr" target="#b1">[2]</ref>. Local context analysis was proposed by Xu and Croft <ref type="bibr" target="#b17">[18]</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="5.">CONCLUSION</head><p>The proliferation of the World Wide Web prompts the wide application of search engines. However, short queries and inconsistency between users' query terms and document terms heavily affect the performance of existing search engines. Many automatic query expansion techniques have been proposed. These previous methods can solve the short query and term mismatch problem to some extent but they do not take into account exploiting the query logs, which widely reside in various websites, to involve users' accumulated interaction information in query expansion.</p><p>In this article, we present a novel method for automatic query expansion based on the query logs. The main thrust of this method is to establish probabilistic correlations between query terms and document terms through mining the query logs, which is an effective way to bridge the gap between the query space and the document space. Then for the newly coming queries, high-quality expansion terms can be selected from the document space on the basis of these probabilistic correlations. We tested this method on a data set which is similar to the real web environment. A series of experiments show that the log based method can achieve substantial improvement on performance, not only over the baseline method without expansion, but also the local context analysis which is one of the best query expansion methods.</p><p>Query expansion using query logs is only one application of web log mining. Other useful knowledge can be obtained through analyzing the users' behaviors recorded in the logs. We believe this is a very promising research direction.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head></head><label></label><figDesc>is the weight of the th i term in a document and is defined by the traditional TF-IDF measure:</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Figure 1 Similarity between the query terms and document terms</head><label>1</label><figDesc>Figure 1 Similarity between the query terms and document terms</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head>Figure 2 Query sessions, query terms and document</head><label>2</label><figDesc>Figure 2 Query sessions, query terms and document terms</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_4"><head></head><label></label><figDesc>co-occur in at least one query session (that is, there is at least one user using the query term ) (q i w has clicked on the document).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_5"><head>)</head><label></label><figDesc></figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_6"><head>Figure 6 Average precision for Baseline, LC Exp and On Log Exp (with phrases)</head><label>6</label><figDesc>Figure 6 Average precision for Baseline, LC Exp and On Log Exp (with phrases)</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_7"><head>Figure 7 Impact of various number of expansion terms</head><label>7</label><figDesc>Figure 7 Impact of various number of expansion terms</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_3" validated="false"><head>w in the document k D , as well as the occurrences of the term ) ( d j w in the whole document collection.</head><label></label><figDesc></figDesc><table>| 
( 

) 
(q 
i 

k w 
D 
P 

is the 

conditional probability of the document k 

D being clicked in case 

that 

) 
( q 
i 

w appears in the user query. 

) 
| 
( ) 

( 
k 

d 
j 

D 
w 
P 

is the conditional 

probability of occurrence of 

) 
( d 
j 

w 
if the document k 

D is selected. 

It is noted that 
) 
| 
( 
) 
, 
| 
( 

) 
( 
) 
( 
) 
( 
k 

d 
j 
k 

q 
i 

d 
j 

D 
w 
P 
D 
w 
w 
P 
= 
because the document 

k 

D separates the query term 

) 
( q 
i 

w 

from the document term 

) 
( d 
j 

w 
. 

Obviously, 
) 
| 
( 

) 
( q 
i 

k w 
D 
P 
can be statistically obtained from the 

query logs. 
) 
| 
( ) 

( 
k 

d 
j 

D 
w 
P 
depends on the occurrences of 

) 
( d 
j 

So we use the following 
formulas to approximate 
) 
| 
( 

) 
( q 
i 

k w 
D 
P 
and 
) 
| 
( 

) 
( 
k 

d 
j 

D 
w 
P 
: 

) 
( 

) 
, 
( 
) 
| 
( 

) 
( 
) 
( 

) 
( 
) 
( 
) 
( 
q 
i 

q 

k 

q 
i 

q 
ik 
q 
i 
k 

w 
f 

D 
w 
f 
w 
D 
P 
= 
( 5 ) 

) 
( 
max 
) 
| 
( 

) 
( 

) 
( 
) 
( 
d 
tk 
D 
t 

d 
jk 
k 

d 
j 

W 

W 
D 
w 
P 

k 

∈ 
∀ 

= 
(6) 

Where 

) 
, 
( ) 

( 
) 
( 
k 

q 
i 

q 
ik 

D 
w 
f 

is the number of the query sessions in 

which the query word 

) 
( q 
i 

w 

and the document 

k 

D appear 
together. 

) 
( ) 

( 
) 
( 
q 
i 

q w 
f 

is the number of the query sessions that contain 

the term 

) 
( q 
i 

w 

. 

) 
( d 
jk 

W 

is the normalized weight of the term 

) 
( d 
j 

w 
in the 

document 

k 

D , which is divided by the maximum value of term 
weights in the document 

k 

D . 

</table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_4" validated="false"><head>Table 1 Comparison</head><label>1</label><figDesc></figDesc><table>on relevant percentage of expansion 
terms (Top 50 terms) 

LC Analysis 
(base) 

Log Based 
Improvement 
(%) 

Relevant 
Terms (%) 

23.27 
30.73 
+32.03 

</table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_6" validated="false"><head>Table 2 A</head><label>2</label><figDesc></figDesc><table>comparison of retrieval performance of Baseline, 
query expansion base on local context analysis (LC Exp), and 
log based query expansion (On Log Exp). All experiments are 
done with phrases included. 

Recall 
Baseline 
LC Exp 
On Log Exp 

10 
40.67 
40.33(-0.82) 
62.00(+52.46) 

20 
26.83 
33.33(+24.22) 
44.67(+66.46) 

30 
21.56 
27.00(+25.26) 
37.00(+71.65) 

40 
17.75 
23.08(+30.05) 
31.50(+77.46) 

50 
15.07 
20.40(+35.40) 
27.67(+83.63) 

60 
13.00 
17.89(+37.61) 
24.56(+88.89) 

70 
11.43 
16.29(+42.50) 
22.24(+94.58) 

80 
10.17 
15.08(+48.36) 
20.42(+100.82) 

90 
9.44 
13.96(+47.84) 
18.89(+100.00) 

100 
8.70 
13.07(+50.19) 
17.37(+99.62) 

Average 
17.46 
22.04(+26.24) 
30.63(+75.42) 

</table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_8" validated="false"><head>Table 3 Comparison</head><label>3</label><figDesc></figDesc><table>of query expansion with phrases (Phrase) 
and without phrases (None Phrase) 

Average Precision 

Recall 
None 
Phrase 

Phrase Improvements 
(%) 

10 
53.00 
62.00 
16.98 

20 
40.67 
44.67 
9.84 

30 
32.56 
37.00 
13.65 

40 
28.67 
31.50 
9.88 

50 
25.47 
27.67 
8.64 

60 
22.78 
24.56 
7.81 

70 
20.43 
22.24 
8.86 

80 
18.63 
20.42 
9.62 

90 
17.04 
18.89 
10.87 

</table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_9" validated="true"><head>Table 4 Comparison of various number of expansion terms</head><label>4</label><figDesc></figDesc><table>Average 11-point Precision 

Exp Terms Count 
Precision 

10 
0.271 

20 
0.294 

30 
0.303 

40 
0.306 

50 
0.306 

60 
0.308 

70 
0.304 

80 
0.304 

90 
0.302 

100 
0.296 

Average Precision for Various Number of 
Expansion Terms 

0.25 

0.26 

0.27 

0.28 

0.29 

0.3 

0.31 

0.32 

10 
20 
30 
40 
50 
60 
70 
80 
90 
100 

Number of Expansion Terms 
Average Precision 

</table></figure>
		</body>
		<back>

			<div type="acknowledgement">
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="6.">ACKNOWLEDGEMENTS</head><p>We would like to thank Jian-Yun Nie for his kind review and Encarta group for the data set.</p></div>
			</div>

			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<analytic>
		<title level="a" type="main">Local feedback in full-text retrieval systems</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Attar</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><forename type="middle">S</forename><surname>Fraenkel</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">J. ACM</title>
		<imprint>
			<biblScope unit="volume">24</biblScope>
			<biblScope unit="page" from="397" to="417" />
			<date type="published" when="1977-07" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<analytic>
		<title level="a" type="main">Using clustering and superconcepts within SMART</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Buckley</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Mitra</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Walz</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Cardie</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the 6th text retrieval conference (TREC-6), E. Voorhees</title>
		<meeting>the 6th text retrieval conference (TREC-6), E. Voorhees</meeting>
		<imprint>
			<date type="published" when="1998" />
			<biblScope unit="page" from="500" to="240" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<monogr>
		<title level="m" type="main">Automatic query expansion using SMART</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Buckley</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><surname>Salton</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Allan</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Singhal</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1995" />
		</imprint>
	</monogr>
<note type="report_type">TREC-3</note>
</biblStruct>

<biblStruct xml:id="b3">
	<analytic>
		<title level="a" type="main">Indexing by latent semantic analysis</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Deerwester</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">T</forename><surname>Dumai</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><forename type="middle">W</forename><surname>Furnas</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><forename type="middle">K</forename><surname>Landauer</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Harshman</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">J. Am. Soc. Inf. Sci</title>
		<imprint>
			<biblScope unit="volume">41</biblScope>
			<biblScope unit="page" from="391" to="407" />
			<date type="published" when="1990" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<monogr>
				<ptr target="http://www.directhit.com/" />
		<title level="m">Direct Hit website</title>
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<analytic>
		<title level="a" type="main">The vocabulary problem in human-system communication</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><forename type="middle">W</forename><surname>Furnas</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><forename type="middle">K</forename><surname>Landauer</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><forename type="middle">M</forename><surname>Gomez</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">T</forename><surname>Dumais</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Commun. ACM</title>
		<imprint>
			<biblScope unit="volume">30</biblScope>
			<biblScope unit="page" from="964" to="971" />
			<date type="published" when="1987-11" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b6">
	<monogr>
		<title level="m" type="main">Using statistical testing in the evaluation of retrieval experiments</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Hull</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1993" />
			<biblScope unit="volume">93</biblScope>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<monogr>
		<title level="m" type="main">An association thesaurus for information retrieval. RIAO&apos;94</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Jing</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><forename type="middle">B</forename><surname>Croft</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1994" />
			<pubPlace>New York, NY</pubPlace>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b8">
	<monogr>
		<title level="m" type="main">Ad hoc experiments using EUREKA. TREC-5</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Lu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Ayoub</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Dong</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1997" />
			<biblScope unit="page" from="229" to="240" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title level="a" type="main">Improving automatic query expansion</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Mitra</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Singhal</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Buckley</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">SIGIR&apos;98</title>
		<imprint>
			<date type="published" when="1998" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<monogr>
				<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Qiu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H</forename><surname>Frei</surname></persName>
		</author>
		<title level="m">Concept based query expansion. SIGIR&apos;93</title>
		<meeting><address><addrLine>Pittsburgh, PA</addrLine></address></meeting>
		<imprint>
			<date type="published" when="1993" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b11">
	<monogr>
		<title level="m" type="main">Relevance feedback in information retrieval. The Smart Retrieval system---Experiments in Automatic Document Processing</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="middle">J</forename><surname>Rocchio</surname></persName>
		</author>
		<editor>G. Salton. Ed. PrenticeHall</editor>
		<imprint>
			<date type="published" when="1971" />
			<biblScope unit="page" from="313" to="323" />
			<pubPlace>Englewood Cliffs. NJ</pubPlace>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b12">
	<monogr>
		<title level="m" type="main">Modern Information Retrieval</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Ricardo</forename><surname>Baeza</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">-Yates</forename></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Berthier</forename><surname>Ribeiro-Neto</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1999" />
			<publisher>Pearson Education Limited</publisher>
			<pubPlace>England</pubPlace>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b13">
	<analytic>
		<title level="a" type="main">Improving retrieval performance by relevance feedback</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><surname>Salton</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Buckley</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Journal of the American Society for Information Science</title>
		<imprint>
			<biblScope unit="volume">41</biblScope>
			<biblScope unit="issue">4</biblScope>
			<biblScope unit="page" from="288" to="297" />
			<date type="published" when="1990" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b14">
	<monogr>
		<title level="m" type="main">Automatic keyword classification for information retrieval</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">K</forename><surname>Sparck Jones</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1971" />
			<pubPlace>Butterworths, London, UK</pubPlace>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b15">
	<monogr>
		<title level="m" type="main">Clustering User Queries of a Search Engine</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">R</forename><surname>Wen</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">Y</forename><surname>Nie</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H</forename><forename type="middle">J</forename><surname>Zhang</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2000-05-01" />
			<biblScope unit="volume">10</biblScope>
			<pubPlace>Hong Kong</pubPlace>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b16">
	<analytic>
		<title level="a" type="main">Query expansion using local and global document analysis</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Xu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><forename type="middle">B</forename><surname>Croft</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">SIGIR&apos;96</title>
		<imprint>
			<date type="published" when="1996" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b17">
	<analytic>
		<title level="a" type="main">Improving the effectiveness of information retrieval with local context analysis</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Xu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><forename type="middle">B</forename><surname>Croft</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">ACM Transactions on Information Systems</title>
		<imprint>
			<biblScope unit="volume">18</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="79" to="112" />
			<date type="published" when="2000-01" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
