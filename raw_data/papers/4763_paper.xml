<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /Users/atharsefid/Desktop/grobid-0.5.3/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<encodingDesc>
			<appInfo>
				<application version="0.5.3" ident="GROBID" when="2019-03-26T17:00+0000">
					<ref target="https://github.com/kermitt2/grobid">GROBID - A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">PIQI-RCP: Design and Analysis of Rate-Based Explicit Congestion Control</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Saurabh</forename><surname>Jain</surname></persName>
							<email>saujain@tamu.edu</email>
							<affiliation key="aff0">
								<orgName type="institution">Texas A&amp;M University</orgName>
								<address>
									<postCode>77843</postCode>
									<settlement>College Station</settlement>
									<region>TX</region>
								</address>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Dmitri</forename><surname>Loguinov</surname></persName>
							<email>dmitri@cs.tamu.edu</email>
							<affiliation key="aff0">
								<orgName type="institution">Texas A&amp;M University</orgName>
								<address>
									<postCode>77843</postCode>
									<settlement>College Station</settlement>
									<region>TX</region>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">PIQI-RCP: Design and Analysis of Rate-Based Explicit Congestion Control</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<profileDesc>
			<abstract>
				<p>Recent research has created a significant interest [18], [19] in the design and development of a new global-scale communication network that can overcome the limitations of the current Internet. Among the many directions for improving networking technology, recent pursuit to design better flow control has led to the emergence of explicit congestion control methods that solicit active feedback from intermediate routers [5], [11], [22], [25], [26]. As a step towards understanding these methods, we analyze stability and transient performance of Rate Control Protocol (RCP) [5], which is a recent method that aims to emulate processor sharing and achieve quick flow completion. However, we find that RCP can become unstable in certain topologies and may exhibit very high buffering requirements at routers. To address these limitations, we propose a new controller called Proportional Integral Queue Independent RCP (PIQI-RCP), prove its stability under heterogeneous delay, and use ns2 simulations, as well as Linux experiments, to show that the new method has significantly better transient dynamics (i.e., much smaller link-capacity overshoot) and better stability properties in single-and multi-bottleneck scenarios.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>I. INTRODUCTION</head><p>The enormous growth and success of the Internet has recently raised questions about the ability of existing network algorithms to maintain the same level of performance as the Internet continues to change. One specific area of concern is congestion control in high-speed networks, where theoretical, simulation, and experimental results <ref type="bibr" target="#b8">[9]</ref>, <ref type="bibr" target="#b11">[12]</ref> suggest that the current version of TCP may experience serious scalability problems as the bandwidth-delay product of network links continues to increase. One approach to solving this issue is to develop more aggressive end-to-end algorithms <ref type="bibr" target="#b2">[3]</ref>, <ref type="bibr" target="#b8">[9]</ref>, <ref type="bibr" target="#b9">[10]</ref>, <ref type="bibr" target="#b11">[12]</ref>, <ref type="bibr" target="#b12">[13]</ref>, <ref type="bibr" target="#b19">[20]</ref>, <ref type="bibr" target="#b23">[24]</ref>, while another direction <ref type="bibr" target="#b17">[18]</ref>, <ref type="bibr" target="#b18">[19]</ref> is to re-design the Internet to utilize explicit network feedback from Internet routers <ref type="bibr" target="#b4">[5]</ref>, <ref type="bibr" target="#b10">[11]</ref>, <ref type="bibr" target="#b21">[22]</ref>, <ref type="bibr" target="#b22">[23]</ref>, <ref type="bibr" target="#b24">[25]</ref>, <ref type="bibr" target="#b25">[26]</ref> to achieve faster convergence, smaller packet loss, and better fairness between end-users. Analysis and improvement of protocols in the latter category is the focus of this paper.</p><p>Explicit congestion control algorithms require network devices in each path to send feedback to end-hosts indicating the actual degree of congestion rather than just a binary signal (e.g., packet loss or ECN bits) stating whether congestion is present or not. To generate feedback p l (t), each router l performs certain processing of incoming data and executes a controller whose input is the aggregate rate of all flows observed within a certain time-interval. This feedback is then * Supported by NSF grants CCR-0306246, ANI-0312461, CNS-0434940, and CNS-0519442. inserted into headers of all passing packets and later communicated to sources in acknowledgments. Explicit feedback provides more accurate congestion information to end-hosts and allows them to adjust their congestion window size or sending rate with much better results, often leading to high link utilization, max-min fairness, and zero packet loss.</p><p>Among several recent proposals, Rate Control Protocol (RCP) <ref type="bibr" target="#b4">[5]</ref> is a simple method that achieves max-min fairness in the steady-state and maintains close-to-optimal average flow completion time (AFCT). RCP requires lower per-packet computation overhead compared to some of the traditional methods (such as XCP <ref type="bibr" target="#b10">[11]</ref>) and has a smaller control header size compared to most other schemes (including JetMax <ref type="bibr" target="#b25">[26]</ref>, MKC <ref type="bibr" target="#b24">[25]</ref>, and XCP <ref type="bibr" target="#b10">[11]</ref>). However, the existing literature lacks thorough analysis of RCP regarding its stability in general networks and transient dynamics.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Our Contributions</head><p>In this work, we aim to fill the void in understanding RCP and study its vulnerabilities in practice. Our results show that RCP can behave in an unstable manner in certain topologies under highly heterogeneous delays. We also find that in the pursuit of achieving lower AFCT, end-hosts in RCP use an overly aggressive controller that in certain cases drastically overshoots link capacity and requires huge buffers inside routers. To overcome the former drawback, we first investigate a method called Queue Independent RCP (QI-RCP) that addresses stability issues in RCP by removing the queue term from the router controller and properly normalizing its gain parameter. We derive stability conditions for QI-RCP under heterogeneous RTTs and show ns2 <ref type="bibr" target="#b16">[17]</ref> simulations that confirm the tightness of the obtained bounds.</p><p>Even though QI-RCP is stable in topologies where the original RCP was unstable, the new method still requires the same huge buffers inside routers. To address this issue, we next propose Proportional Integral Queue Independent RCP (PIQI-RCP) <ref type="bibr" target="#b0">1</ref> , which consists of a PI controller inside routers and an EWMA-type controller at end-users. We establish stability conditions for PIQI-RCP under heterogeneous RTTs and mild assumptions on the router control interval. Simulations show that PIQI-RCP's stability bounds derived from a theoretical model are tight in real networks and that the protocol remains stable in single-and multi-bottleneck topologies. We also show using Linux experiments that PIQI-RCP significantly outperforms RCP in terms of transient capacity overshoot, peak queue size, and buffer space requirements. Since PIQI-RCP has stability conditions that can be easily satisfied inside routers, incurs small overhead inside routers, and exhibits smaller AFCT than TCP or XCP, it poses an appealing alternative to existing methods. The rest of the paper is organized as follows. In Section II, we briefly review RCP and introduce common terminology. In Section III, we discuss RCP's strengths and weaknesses. Section IV focuses on the design and analysis of QI-RCP and PIQI-RCP. In Section V, we compare RCP and PIQI-RCP using ns2 simulations and in Section VI using Linux experiments. We conclude the paper and suggest directions for future work in Section VII.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>II. BACKGROUND</head><p>Assume N flows in the network whose sending rates at time t are x 1 (t), . . . , x N (t). For max-min fairness, each flow responds only to feedback p l (t) of the most-congested router l of its path, which we call the bottleneck link of the flow. The forward/backward delays of flow i to/from its bottleneck link are denoted by D → i and D ← i , respectively. Then the RTT of each flow can be written as</p><formula xml:id="formula_0">D i = D → i + D ← i</formula><p>and the aggregate traffic arrival rate at router l can be expressed as</p><formula xml:id="formula_1">y l (t) = i∈l x i (t − D → i )</formula><p>, where notation i ∈ l denotes the set of flows passing through link l <ref type="bibr" target="#b14">[15]</ref>.</p><p>Rate Control Protocol (RCP) <ref type="bibr" target="#b4">[5]</ref> is an explicit congestion control method based on max-min fairness. Each router l computes the desired sending rate R l (t) for flows bottlenecked at l using the following non-linear controller</p><formula xml:id="formula_2">R l (t) = R l (t − T ) 1 + T d l C l α(C l − y l (t)) − β q l (t) d l ,</formula><p>(1) where α and β are constants, d l is a moving average of flow RTTs sampled by router l, C l is its link capacity, q l (t) is its instantaneous queue size at time t, and T is its control interval.</p><p>The goal of controller (1) is to converge the input traffic rate y l (t) to link capacity C l and set the queue length q l (t) to zero. To accomplish this, rate R l (t) is fed back to end-flows that adjust their sending rates x i (t) by setting them to the smallest suggested rate of their paths where l ∈ i is the set of routers along the path of flow i <ref type="bibr" target="#b14">[15]</ref>. Since all flows bottlenecked at l set their sending rate to the same received feedback R l (t), (2) ensures fairness among flows. Assuming infinite queues, (2) also guarantees that completion time of each flow is close to the minimum possible.</p><formula xml:id="formula_3">x i (t) = min l∈i R l (t − D ← i ),<label>(2)</label></formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>III. ANALYSIS OF RCP</head><p>In this section, we first demonstrate several drawbacks associated with RCP and then summarize its known strengths.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Limited Understanding of Stability</head><p>In <ref type="bibr" target="#b5">[6]</ref>, RCP has been analyzed for stability assuming all flows have homogeneous RTTs (i.e., D i = D for all i). For users with heterogeneous RTTs, stability results of RCP are available only using simulations for several choices of delays. The presence of the queue term q l (t) in the router control equation (1) makes rigorous stability analysis difficult, because the stationary queue size q * = 0 lies in the region where q l (t) cannot be linearized. It is therefore unknown how to select parameters for arbitrary choices of flow delay and whether the RCP equation is stable in general networks. We next show one example where RCP behaves in an unstable manner and then explain what causes it.</p><p>Consider a multi-link topology T 1 in <ref type="figure" target="#fig_0">Fig. 1</ref>, where flow x 1 with RTT 710 ms is bottlenecked at link l 1 and flows x 2 − x 10 with RTT 20 ms are bottlenecked at link l 3 . Flow x 1 starts at time t = 0 and converges to 155 mb/s after a short delay. Then at time t = 30, the other nine flows join the system and instantly become unstable as demonstrated in <ref type="figure" target="#fig_1">Fig.  2</ref>(a) using ns2 simulations. Similar unstable behavior of RCP has been observed in <ref type="bibr" target="#b0">[1]</ref>; however, it was attributed to the oscillation of the bottleneck of flows x 2 − x 10 between links l 1 and l 3 . As we discuss below, oscillating bottlenecks are the effect of a destabilized RCP equation rather than its cause. This is confirmed in <ref type="figure" target="#fig_1">Fig. 2(b)</ref> after fixing the bottleneck of flow x 1 to l 1 and that of the remaining flows to l 3 . As seen in the figure, the system remains unstable even though the assignment of bottlenecks is correct and time-invariant. We next elaborate on how this unstable scenario arises and what causes it. Recall that in the Internet, routers may carry a mix of flows some of which are bottlenecked locally (i.e., at the current router) and some remotely (i.e., at other routers). In such cases, the average RTT d l computed by router l may not reflect the correct delay of flows that are being controlled by the router. To simplify discussion, define flows to be responsive with respect to router l if they adapt their rates based on feedback R l (t) (i.e., link l is their bottleneck). Further define flows to be unresponsive with respect to l if they are being controlled by some other router r = l. It then follows from common sense that metric d l must include the RTTs of only responsive flows at l rather than all flows passing through it. In topology T 1 , link l 1 is controlling only flow x 1 since the other nine flows are bottlenecked at l 3 ; however, all 10 flows contribute to the computation of d l . This leads to a large discrepancy between the flow response time at link l 1 and the average delay computed by the router (i.e., d l = 89 ms instead of 710 ms) and causes instability.</p><p>As the rate of x 1 starts to oscillate, the queue in l 1 responds by fluctuating with each overshoot and undershoot of link capacity. This causes the RTT of flows x 2 − x 10 to fluctuate as well, which in turn destabilizes the controller in l 3 since it is closely coupled with flow delays, all of which leads to the result in <ref type="figure" target="#fig_1">Fig. 2</ref>. Note that a similar problem surfaces in other explicit-feedback controllers that rely on average delay, one notable example being XCP <ref type="bibr" target="#b10">[11]</ref>. We omit simulations showing this result for brevity, but note that analysis of congestion control under heterogeneous delay is of fundamental importance in diverse networks such as the Internet.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Link Overshoot</head><p>Besides unknown stability conditions in certain cases, RCP is very aggressive during flow join and can significantly overshoot link capacity in the transient phase. Recall that RCP's source controller (2) sets the sending rate x i (t) of each joining flow i to the feedback received from the router. As a result, new flows entering the system directly use the current router control rate as their sending rate. For a router that is already in its steady state (i.e., C l = y l (t)), this causes the input traffic rate to overflow the link and create a sudden surge in queue size. The problem becomes severe when a large number of flows join the system simultaneously. This is illustrated by the ns2 simulations we show next.</p><p>Consider a dumb-bell topology with a 100 mb/s bottleneck link and delay 50 ms. At t = 0, flow x 1 enters the system and quickly saturates the bottleneck link as shown in <ref type="figure" target="#fig_2">Fig. 3</ref>(a). At t = 15, flows x 2 − x 51 enter the system and obtain the current control rate R l (t) = 100 mb/s from the router. For at least one RTT following the join, all 51 flows use the latest rate provided to them (i.e., x i (t) = C l ) and produce a combined input load on the router equal to 5.1 gb/s. Assuming unlimited buffer space, this aggressive behavior increases the queue length to 80, 868 packets (i.e., 81 MB) as shown in <ref type="figure" target="#fig_2">Fig. 3(b)</ref>, which takes the router 7.5 seconds to drain. Considering that the commonly deployed <ref type="bibr" target="#b1">[2]</ref> rule is to allocate buffers equal to the bandwidth-delay product of the link (i.e., 1.25 MB in this case), RCP's overshoot requires 64 times more buffer space than used today in most commercial routers <ref type="bibr" target="#b3">[4]</ref>, <ref type="bibr" target="#b20">[21]</ref>.</p><p>Hence, unless unrealistically large buffers are provisioned inside routers, RCP will sustain significant packet loss, which may result in drastic rate reductions 2 , retransmissions, slow convergence, and even instability. As we show later in this paper, RCP's buffering requirement increases proportionally to the number of flows entering the system and the delay to drain the queue increases dramatically with flow RTT. In highly dynamic scenarios where flows constantly join and depart the system, RCP may require more buffer space or even offer lower performance than the traditional TCP, which is highly undesirable in practice.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Strengths</head><p>Apart from the drawbacks identified above, RCP has certain strengths as well. First, RCP requires lower per-packet computation to compute the feedback signal inside routers than some of its counterparts (e.g., 2 additions and 2 multiplications compared to 6 additions and 3 multiplications in XCP <ref type="bibr" target="#b10">[11]</ref>). Second, RCP has a smaller control header size (i.e., 16 bytes) compared to XCP's 20 bytes <ref type="bibr" target="#b7">[8]</ref>, JetMax's 32 bytes <ref type="bibr" target="#b25">[26]</ref>, and MKC's 20 bytes <ref type="bibr" target="#b24">[25]</ref>. Third, unlike XCP <ref type="bibr" target="#b13">[14]</ref>, RCP's steady-state rates achieve max-min fairness in general network topologies. Finally, RCP <ref type="bibr" target="#b4">[5]</ref> has a much smaller average flow completion time than XCP or TCP, which allows short flows to quickly utilize available bandwidth and finish their transfers. Considering these strengths, we next strive to improve upon the drawbacks of RCP.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>IV. IMPROVING RCP</head><p>In this section, we propose several modifications to RCP's router and user control equations (1)-(2) to address its stability and link-overshoot issues.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. QI-RCP</head><p>We next introduce a simple modification to RCP, which we call Queue Independent RCP (QI-RCP), that decouples queue dynamics from the feedback computed by the router. This allows us to prove heterogeneous stability of the new controller and therefore achieve good performance in topology T 1 . We then improve QI-RCP by reducing its overshoot of link capacity and lowering buffering requirements at routers.</p><p>Define the error function of link l at time t to be</p><formula xml:id="formula_4">e l (t) = 1 − y l (t) γ l C l ,<label>(3)</label></formula><p>where y l (t) is the combined input rate of all flows at router l, C l is its capacity, and 0 &lt; γ l &lt; 1 is the desired link utilization in the steady-state. Then, the router controller of QI-RCP is given by</p><formula xml:id="formula_5">R l (t) = R l (t − T )[1 + κe l (t)],<label>(4)</label></formula><p>where R l (t) is the control rate, T is the control interval, and κ is a constant whose range we determine below. Control equation <ref type="formula" target="#formula_5">(4)</ref> is similar to RCP's version (1), but does not include the queue term inside the error function. In order to drain any possible queue build-up, the QI-RCP controller operates with a virtual link capacity γ l C l instead of the physical capacity C l . End-flow rates are still adjusted using (2), which coupled with (4) represents an integral controller that tries to converge the input traffic rate y l (t) to the virtual link capacity γ l C l (see <ref type="bibr" target="#b15">[16]</ref> for more discussion of integral controllers). Hence, in the steady state y l (t) = γ l C l and any packets buffered due to transient affects in the system are drained using spare bandwidth</p><formula xml:id="formula_6">(1 − γ l )C l .</formula><p>We next analyze QI-RCP's stability. Although multiple packets may carry the same feedback value computed by the router during the last control interval, each end-user in QI-RCP responds to each feedback no more than once and may be viewed as operating on the time-scale of T units even if its RTT is smaller than T . Keeping this in mind and converting the delayed feedback loop of <ref type="formula" target="#formula_5">(4)</ref> to</p><formula xml:id="formula_7">R l (t) = R l (t − T ) 1 + κ 1 − 1 γ l C l N i=1 R i (t − D i )</formula><p>, <ref type="formula">(5)</ref> we arrive at the following result.</p><p>Theorem 1: Assume N flows with heterogeneous RTTs and define</p><formula xml:id="formula_8">D = max{D 1 , . . . , D N }, D = D/T .</formula><p>Then, the discrete version (5) of QI-RCP is locally asymptotically stable if 0 &lt; κ &lt; κ * , where</p><formula xml:id="formula_9">κ * = 2 sin π 2(2D − 1) .<label>(6)</label></formula><p>Furthermore, if flow RTTs are homogeneous (i.e., D i = D for all i), the above condition is also necessary.</p><p>Proof: The z-transform of the linearized system (5) is given by</p><formula xml:id="formula_10">R l (z) = R l (z) z −T − κ N N i=1 z −D i + K,<label>(7)</label></formula><p>where K is a constant. The system transfer function is then</p><formula xml:id="formula_11">R l (z) = K/(1 − z −T ) 1 + G(z) ,<label>(8)</label></formula><p>where</p><formula xml:id="formula_12">G(z) = κ N N i=1 z −D i 1 − z −T .<label>(9)</label></formula><p>The transfer function G(z) in the frequency domain can be written as</p><formula xml:id="formula_13">G(e jω ) = κ N N i=1 e −jω(D i −T ) e jωT − 1 .<label>(10)</label></formula><p>After expanding the exponentials, (10) can also be written as</p><formula xml:id="formula_14">G(e jω ) = − κ 2N sin(ωT /2) N i=1 sin ω(2D i − T ) 2 +j cos ω(2D i − T ) 2 .<label>(11)</label></formula><p>Most discrete controllers inside a router must operate every T time steps, keeping the rate constant between the control intervals. This can be converted to the case of T = 1 by normalizing each delay using </p><formula xml:id="formula_15">D i = D i /T ,</formula><formula xml:id="formula_16">G(e jω ) = − κ 2 sin(ω/2) sin ω(2D − 1) 2 +j cos ω(2D − 1) 2 .<label>(12)</label></formula><p>It can be seen that G(e jω ) crosses the real axis (i.e., Im[G(e jω )] = 0) for ω i = (2i + 1)π/(2D − 1), where i is an integer. For i = 0, we have ω 0 = π/(2D − 1) and the real part of</p><formula xml:id="formula_17">G(e jω 0 ) is Re[G(e jω0 )] = −κ 2 sin(ω 0 /2) = −κ 2 sin π 2(2D −1) .<label>(13)</label></formula><p>Applying Nyquist stability criterion, it can be seen that stability is ensured if and only if</p><formula xml:id="formula_18">0 &lt; κ &lt; 2 sin π 2(2D − 1) .<label>(14)</label></formula><p>However, when delays are heterogeneous G(e jω ) crosses the real axis (i.e.,</p><formula xml:id="formula_19">Im[G(e jω )] = 0) when N i=1 cos ω(2D i − 1) 2 = 0.<label>(15)</label></formula><p>It can be seen that none of the roots ω i of the above equation have absolute value smaller than ω 0 = π/(2D − 1). We prove this by contradiction. Assume that 0 ≤ ω 0 &lt; ω 0 is the smallest root of <ref type="bibr" target="#b14">(15)</ref>. Then, 0 ≤ ω 0 D i &lt; π/2, which means that all cosine terms in the summation are strictly positive, which contradicts the assumption that ω 0 is a root of (15). Since cosine is a symmetric function, we immediately obtain the same contradiction for −ω 0 ≤ ω 0 &lt; 0. Therefore, it follows that |ω 0 | ≥ ω 0 . Also, due to the periodic nature (with period 2π) of the frequency domain of a discrete-time system, we can limit our attention to</p><formula xml:id="formula_20">ω i ∈ [−π, π]. Again, π is a solution to (15) since (2D i −1) is odd for any integer D i .</formula><p>Based on these arguments, the smallest root ω 0 of <ref type="formula" target="#formula_19">(15)</ref> should satisfy 0 &lt; ω 0 ≤ π and ω 0 &gt; ω 0 . Again, because of the monotonicity of the sine function between 0 and π/2, the condition sin</p><formula xml:id="formula_21">(ω 0 /2) &gt; sin(ω 0 /2) holds. For ω 0 , the real part of G(e jω 0 ) is Re[G(e jω 0 )] = − κ 2N sin(ω 0 /2) N i=1 sin ω 0 (2D i − 1) 2 ≥ − κ 2 sin(ω 0 /2) ≥ − κ 2 sin(ω 0 /2) = − κ 2 sin π 2(2D −1) .<label>(16)</label></formula><p>The above inequality is obtained by bounding the sines with 1, using sin(ω 0 /2) &gt; sin(ω 0 /2), and remains valid even if ω 0 &lt; 0. Therefore, the magnitude of the point at which the real axis is crossed can only be reduced (i.e., moved closer to zero) in the heterogeneous case compared to that in the homogeneous case. Finally, noticing that the remaining ω i are larger than ω 0 , it follows that they can only shift (16) further toward zero and thus lead to looser bounds on κ. Hence, using Nyquist stability criterion, a sufficient condition to ensure stability is</p><formula xml:id="formula_22">0 &lt; κ &lt; 2 sin π 2(2D − 1) ,<label>(17)</label></formula><p>which leads to the desired result. Note that in the synchronized case (i.e., D i = T for all i), κ * is simply 2. Furthermore, for small T /D ≈ 0, stability margin κ * ≈ πT /(2D), which can be directly obtained using continuous-time analysis of (5); however, in cases when flow  RTTs are close to T , the two expressions are different. <ref type="bibr" target="#b2">3</ref> Furthermore, as a rule of thumb, upper bound (6) can be considered necessary when delays are close to each other (i.e., V ar[D i ] ≈ 0); however, for highly varying delays, the system may be stable even when κ exceeds κ * as we show below.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Tightness of the QI-RCP Stability Condition</head><p>We next examine QI-RCP's stability in ns2 and investigate how good the derived bounds on κ are. <ref type="figure" target="#fig_3">Fig. 4</ref> shows the sending rate of QI-RCP in a single-link network with two flows, both having steady-state RTT equal to 120 ms. The router adjusts its κ by keeping it equal to ηκ * , where η is a scale parameter and κ * is the upper bound in (6). Observe in the figure that η = 0.99 keeps the system stable and η = 1.01 makes it unstable, confirming the sufficiency and necessity of condition κ &lt; κ * . In <ref type="figure" target="#fig_4">Fig. 5</ref>, we show an example of a system with heterogeneous RTTs. Observe that the system is stable for η = 0.99 and only becomes unstable when η reaches 1.8. This confirms that when delays are highly variable, κ &lt; κ * is sufficient, but not necessary.</p><p>We finish our ns2 simulations with QI-RCP by showing in <ref type="figure" target="#fig_5">Fig. 6</ref> its performance in topology T 1 where RCP was unstable. As seen in the figure, at t = 0 flow x 1 enters the system and quickly saturates its bottleneck link l 1 . At t = 30, nine additional flows x 2 − x 10 join the system, which causes small oscillations from which the network quickly recovers and converges to a stable steady state. Note that QI-RCP remains stable for η as high as 0.99 (see <ref type="figure" target="#fig_5">Fig. 6(b)</ref>), where larger η actually speeds up convergence since routers make more aggressive changes to their R l (t).</p><p>QI-RCP has mathematically tractable stability conditions that can be easily satisfied since routers have access to the RTT of each flow using QI-RCP packet headers, which are similar to those in RCP. Knowing the maximum flow RTT D in every control interval, QI-RCP dynamically tunes the control parameter κ so as to comply with the stability condition κ &lt; κ * . This keeps the system stable even when D is timevarying due to the changes in the queuing delay as seen in simulations above. However, the main drawback of QI-RCP is that it uses the same aggressive source controller (2), which leads to similar queue build-up as in RCP. We next focus on modifying the user controller to eliminate this drawback.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. PIQI-RCP</head><p>In this section, we propose a new congestion control framework called Proportional Integral Queue Independent RCP (PIQI-RCP) that significantly improves the transient behavior of the methods studied earlier in this paper. We start with the router controller of the form</p><formula xml:id="formula_23">R l (t) = R l (t − T )[1 + κ 1 e l (t) + κ 2 e l (t − T )],<label>(18)</label></formula><p>where error e l (t) is given by (3) and κ 1 , κ 2 are some constants. It can be seen from the equation that (18) is a simple PI controller <ref type="bibr" target="#b15">[16]</ref>, where the proportional component helps improve system response time and limit the queue to lower levels (see simulations below). We next discuss the rationale for the new source controller. The user equation in RCP and QI-RCP causes the input traffic rate to significantly overshoot link capacity and skyrocket the queue size when a flash crowd of flows joins the system. Instead, we desire a controller that does not immediately jump to the current fair bandwidth share in the network and uses caution during rate increase. To achieve this, new flows joining the system should gradually increase their sending rate towards the feedback provided by their bottleneck router.</p><p>For the discussion that follows, define e i (t) = R l (t−D ← i )− x i (t − T ) to be the error between the previous rate of user i and the last rate suggested by the network, assuming the current bottleneck of user i is router l. Also denote by</p><formula xml:id="formula_24">δ i (t) = R l (t − D ← i ) − R l (t − T − D ← i )</formula><p>the difference between the two most-recent rates provided by the network to flow i. Then, the PIQI-RCP source controller is given by</p><formula xml:id="formula_25">x i (t) = x i (t − T ) + τ 1 e i (t) + τ 2 δ i (t),<label>(19)</label></formula><p>where τ 1 and τ 2 are constants that we determine below. The first two terms in <ref type="bibr" target="#b18">(19)</ref> constitute an Exponentially Weighted Moving Average (EWMA) controller. Rather than directly setting the sending rate x i (t) to the received feedback <ref type="formula" target="#formula_3">(2)</ref>, this controller changes the current <ref type="figure">Fig. 7</ref>. Feedback control system model of explicit congestion control sending rate in steps that take x i (t) toward R l (t). The δ i (t) term performs a comparison of two successive feedback values to understand what the bottleneck router wants flows to do: if δ i (t) &gt; 0, then the router is under-utilized and wants to encourage the flows to increase their sending rate; if δ i (t) &lt; 0, then the router is over-utilized and wants the flows to decrease their sending rate. Including this information in the source controller makes it more responsive and reduces queue overshoot in the transient state.</p><formula xml:id="formula_26">R(t − D ← i ) as in</formula><formula xml:id="formula_27">C(z) G(z) y(n) R(n) e(n) = C -y(n) C - Controller Plant +</formula><p>It should be noted that comparison of successive feedback values is achieved by simply saving the last received feedback from the bottleneck and does not incur any network overhead. Also note that τ 2 affects the behavior of the system when the bottleneck link is in a transient state, i.e., when the successive feedback values are different. After the bottleneck controller has reached its steady state, δ i (t) = 0 and the performance of the source is governed only by τ 1 .</p><p>Using the Nyquist stability criterion, we next show that PIQI-RCP can be easily stabilized assuming the maximum RTT D is known at the router. We also replace the general router controller with a simpler version that we use in practice by setting κ 1 = κ 2 = κ.</p><p>Theorem 2: Assume N flows with heterogeneous RTTs and define D = max{D 1 , . . . , D N }, D = D/T . Then, the discrete PIQI-RCP system (18)-(19) with sufficiently small T is locally asymptotically stable if 0 &lt; τ 1 &lt; 1, 0 &lt; τ 1 + 2τ 2 &lt; 2, and 0 &lt; κ &lt; κ * , where</p><formula xml:id="formula_28">κ * = sin π 2(2D − 1) .<label>(20)</label></formula><p>Furthermore, if flow RTTs are homogeneous (i.e., D i = D for all i), condition 0 &lt; κ &lt; κ * is also necessary. Proof: We first develop a linear control-theoretic model of PIQI-RCP and then analyze the model for stability using Nyquist stability criterion. Consider the feedback control system model of explicit congestion control as shown in <ref type="figure">Fig. 7</ref>. Let G(z) be the plant consisting of N flows each with sending rate x i (t) and round-trip time <ref type="bibr">(RTT)</ref> </p><formula xml:id="formula_29">D i = D → i + D ← i .</formula><p>Let C(z) be the router controller whose goal is to operate the closed loop system in a stable manner. The output of the plant is the total sending rate y(n) arriving at the router controller and the input being the per-flow sending rate R(n) generated by the router. The individual blocks, i.e., the controller and the plant, are analyzed below.</p><p>The linearized controller <ref type="bibr" target="#b17">(18)</ref> in the discrete-time domain can be written as</p><formula xml:id="formula_30">R(n) = R(n − T ) + κe l (n) N + κe l (n − T ) N .<label>(21)</label></formula><p>Taking the z-transform of both sides of the equation, we get</p><formula xml:id="formula_31">R(z)[1 − z −T ] = κ N 1 + z −T e(z).<label>(22)</label></formula><p>After re-arranging the terms in the above equation, the transfer function</p><formula xml:id="formula_32">C(z) = R(z)/e(z) is C(z) = κ(1 + z −T ) N (1 − z −T ) ,<label>(23)</label></formula><p>The plant consists of N flows, each of which adjusts its sending rate using <ref type="bibr" target="#b18">(19)</ref>. In the discrete-time domain and after expanding the error terms, (19) can be written as</p><formula xml:id="formula_33">x i (n) = x i (n − T ) − τ 1 [x i (n − T ) − R l (n − D ← i )] + τ 2 [R l (n − D ← i ) − R l (n − T − D ← i )] = (1 − τ 1 )x i (n − T ) + (τ 1 + τ 2 )R l (n − D ← i ) − τ 2 R l (n − T − D ← i ).<label>(24)</label></formula><p>The total input traffic rate y l (n) observed at the router is given by</p><formula xml:id="formula_34">y l (n) = N i=1 x i (n − D → i ) = N i=1 [x i (n − T − D → i )(1 − τ 1 ) + (τ 1 + τ 2 )R l (n − D i ) − τ 2 R l (n − T − D i )] = (1 − τ 1 )y(n − T ) + (τ 1 + τ 2 ) N i=1 R l (n − D i ) − τ 2 N i=1 R l (n − T − D i ).<label>(25)</label></formula><p>Taking the z-transform of both sides of the above equation, the transfer function G(z) = Y (z)/R(z) of the plant can be written as</p><formula xml:id="formula_35">G(z) = (τ 1 + τ 2 ) − τ 2 z −T 1 − (1 − τ 1 )z −T N i=1 z −D i .<label>(26)</label></formula><p>The overall open loop transfer function T f (z) = C(z)G(z) combining the controller and the plant can be obtained from (23) and <ref type="formula" target="#formula_3">(26)</ref> as</p><formula xml:id="formula_36">T f (z) = τ 1 + τ 2 + τ 1 z −T − τ 2 z −2T 1 − (1 − τ 1 )z −T N i=1 κ N z −Di 1 − z −T = T (z)T D (z),<label>(27)</label></formula><p>where</p><formula xml:id="formula_37">T (z) = τ 1 + τ 2 + τ 1 z −T − τ 2 z −2T 1 − (1 − τ 1 )z −T ,<label>(28)</label></formula><formula xml:id="formula_38">T D (z) = N i=1 κ N z −D i 1 − z −T .<label>(29)</label></formula><p>In the frequency domain, we have Function T (e jω ) crosses the real axis when ω = ω 1 = 0 or ω = ω 2 given by</p><formula xml:id="formula_39">T f (e jω ) = T D (e jω )T (e jω ),<label>(30)</label></formula><formula xml:id="formula_40">T (e jω ) = τ 1 + τ 2 + τ 1 e −jωT − τ 2 e −jω2T 1 − (1 − τ 1 )e −jωT ,<label>(31)</label></formula><formula xml:id="formula_41">T D (e jω ) = N i=1 κ N e −jωD i 1 − e −jωT .<label>(32)</label></formula><formula xml:id="formula_42">ω 2 = τ 2 1 − 2τ 1 + 2τ 1 τ 2 T 2 τ 2 (1 − τ 1 ) 1 2 .<label>(33)</label></formula><p>In the former case, Re[T (e jω 1 )] = 2κτ 1 /τ 1 = 2κ. In the latter case, for 0 &lt; τ 1 &lt; 1 and τ 1 +2τ 2 &lt; 2, the value of ω 2 is imaginary, which ensures that for this set of constants T (e jω 2 ) does not cross the real axis. Hence, selecting sufficiently small values of τ 1 and τ 2 that satisfy both inequalities above, one can enforce that T (e jω ) crosses the real axis only when ω equals</p><formula xml:id="formula_43">ω 1 . Further assuming small ωT (i.e., T /D ≈ 0), T f (e jω ) can be reduced to T f (e jω ) = N i=1 2κτ 1 N τ 1 e −jωDi 1 − e −jωT = N i=1 2κ N e −jωDi 1 − e −jωT , (34)</formula><p>which using the analysis in the proof of Theorem 1 gives the upper bound on the stability region in <ref type="bibr" target="#b19">(20)</ref>.</p><p>Note that <ref type="formula" target="#formula_3">(20)</ref> is very similar to the condition on QI-RCP. The reduction by a factor of two is easy to explain since (18) has two error terms rather than one. The result in Theorem 2 shows that with τ 1 , τ 2 sufficiently small, stability of PIQI-RCP can be reduced to that of the bottleneck controller <ref type="bibr" target="#b17">(18)</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>D. Tightness of the PIQI-RCP Stability Condition</head><p>We next use ns2 simulations to study how well the discrete model (18)-(19) of PIQI-RCP resembles the actual system. As before, each router keeps track of the maximum RTT in every control interval and sets κ = ηκ * , where κ * is given by <ref type="bibr" target="#b19">(20)</ref>. As we discuss in the next section, the sine function in κ * can be approximated with a much simpler equation and in our implementation none of the routers have to compute <ref type="bibr" target="#b19">(20)</ref>. However, to verify that the derived stability condition is accurate, this section uses the exact value of κ * .</p><p>We start with the homogeneous case. Consider a dumbbell topology with a 100-mb/s bottleneck, delay 50 ms, and 1-gb/s access links. A new flow enters the system every 10 seconds and remains in the system for the entire duration of the simulation. The steady-state RTT of each flow is 120   ms. <ref type="figure" target="#fig_6">Fig. 8</ref> shows that PIQI-RCP is stable for η = 0.99 and unstable for η = 1.01, just as predicted by Theorem 2. For the heterogeneous case, access links have different delays such that D 1 = 120 ms and the other nine flows have RTT 300 ms. The corresponding plots are shown in <ref type="figure" target="#fig_7">Fig. 9</ref> where the condition κ &lt; κ * is both sufficient and necessary. This confirms our earlier observation that if RTTs are clustered close to D, the derived stability conditions become necessary.</p><p>We finally examine whether PIQI-RCP is stable in topology T 1 . <ref type="figure" target="#fig_0">Fig. 10</ref> shows the sending rates of PIQI-RCP flows in T 1 for both η = 0.5 and η = 0.99, where the former case is slower in convergence, but much smoother in terms of sending-rate dynamics.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>V. SIMULATIONS</head><p>In this section, we compare the performance of RCP and PIQI-RCP in various simulation setups using ns-2. In most cases, RCP's parameters are set as in the default implementation (i.e., α = 0.4, β = 1), all router intervals T are 10 ms, and PIQI-RCP's κ 1 = κ 2 . In order to avoid computing the sine function inside routers, we replace the upper bound κ * with a much simpler upper bound</p><formula xml:id="formula_44">κ * = T 2(T + D) ≤ κ * ,<label>(35)</label></formula><p>where D is the maximum RTT of end flows. </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Single-Bottleneck Topology</head><p>Consider a dumb-bell topology with heterogeneous flows discussed in the previous section. The performance of RCP and PIQI-RCP with κ = 0.95κ * is shown in <ref type="figure" target="#fig_0">Fig. 11</ref>. In the steady state, all flows share the bottleneck link fairly regardless of their RTTs. For RCP, new flows join the system with a sending rate equal to the current control rate at the router, which leads to an overshoot of link capacity for every new flow entering the system. This in turn results in often drastic reductions in rate as seen in <ref type="figure" target="#fig_0">Fig. 11(a)</ref>. The peak queue size for RCP is nearly 3, 500 packets, while that for PIQI-RCP is only 550 packets as shown in <ref type="figure" target="#fig_0">Fig. 12</ref>. Also observe that PIQI-RCP keeps the queue close to zero after the second flow has joined the system. Similar behavior is observed for bottleneck capacity of 1 and 10 gb/s (not shown for brevity).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Peak Queue Size</head><p>In this section, we compare the peak queue size of RCP with that of PIQI-RCP in the same simulation setup, except a single join event at t = 15 has N flows entering the system simultaneously. <ref type="figure" target="#fig_0">Fig. 13(a)</ref> shows that RCP performs significantly worse than PIQI-RCP, reaching over 501, 000 queued packets for N = 250 and scaling its buffer requirement super-linearly (note the log-scale of the y-axis). On the other hand, PIQI-RCP scales much better and stabilizes the queue at 10, 000 packets after N = 25. This implies that as N increases beyond 250, the difference between RCP and PIQI-RCP will be more noticeable.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Average Flow Completion Time</head><p>We next compare RCP, PIQI-RCP, TCP, and XCP using average flow completion time (AFCT) as the main performance metric. AFCT is often compared to the smallest achievable average flow completion time known as Processor Sharing (PS) <ref type="bibr" target="#b5">[6]</ref>. Intuitively, RCP will fare better in this scenario since new flows entering the system directly use the current control rate at the router, while new flows in PIQI-RCP, TCP, and XCP gradually increase their sending rate and hence require more time to complete. We confirm this in a simulation scenario from <ref type="bibr" target="#b4">[5]</ref> consisting of a single-bottleneck link of capacity 2.4 gb/s and delay of 50 ms. New flows enter the system as Poisson arrivals with Pareto-distributed flow sizes with mean 30 packets (1000 bytes/pkt) and shape 1.4. The offered load is 90% of link capacity.</p><p>The corresponding AFCT for all studied methods are shown in <ref type="figure" target="#fig_0">Fig. 13(b)</ref>, where the results are obtained from ns2 simulations with infinite buffers. <ref type="bibr" target="#b3">4</ref> Observe in the figure that PIQI-RCP is indeed slower than RCP, but nevertheless is faster than TCP and XCP. The difference between RCP and PIQI-RCP can be bridged by selecting a higher value of τ 1 , which can be viewed as a tuning knob that controls the tradeoff between AFCT and the buffering requirement.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>D. Multi-Bottleneck Link Topology</head><p>We finish simulations with a parking-lot topology in <ref type="figure" target="#fig_0">Fig.  14</ref>, where flow x 1 traverses two links of capacity 970 and 800 mb/s, respectively, and delay 50 ms each. Flow x 2 only traverses the first link and flow x 3 only the second. The three flows enter the system at t = 0, 15, 30 seconds, respectively. The sending rate of all flows for RCP and PIQI-RCP is shown in <ref type="figure" target="#fig_0">Fig. 15</ref>. Until t = 15, flow x 1 is bottlenecked at link l 2 . At t = 15 when x 2 enters the system, the bottleneck of flow x 1 switches to link l 1 and both x 1 and x 2 have identical sending rates equal to 485 mb/s. At t = 30 when x 3 enters the system, x 1 switches its bottleneck to l 2 again, after which x 1 and 4 RCP with finite buffers loses a lot of packets and performs much worse in terms of AFCT, which we do not show for brevity. x 3 equally share link l 2 (i.e., rate 400 mb/s each). Flow x 2 captures the remaining bandwidth at link l 1 , which is the maxmin allocation of rates for this topology. As seen from the figures, the magnitude of transient oscillations is much smaller in PIQI-RCP compared to RCP, while the convergence time is almost the same.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>VI. LINUX EXPERIMENTS</head><p>We also compare RCP and PIQI-RCP using our own Linux implementation in a gigabit Emulab <ref type="bibr" target="#b6">[7]</ref> network. We use Linux kernel 2.6.12 to develop the end-host and router functionality of both RCP and PIQI-RCP, where each protocol is implemented as a module that can be dynamically plugged in/out of the running kernel without rebooting the system. We modify the TCP/IP stack to convert its original windowbased data transfer to rate-based operation required by these protocols. We tune the default kernel parameters in order to support gigabit throughput for a wide-range of RTTs and fairly evaluate the limitations of each protocol. Specifically, we increase the maximum size of socket read/write buffers, per-connection memory space, backlog queue in the receive path, transmit queue in the forward path, and transmit/receive ring buffers of the network interface card. We set control parameters α = 0.1, β = 1 for RCP and κ = κ * , τ 1 = 0.01, τ 2 = 0.1, γ = 0.95 for PIQI-RCP. All routers use T = 10 ms for their control equations.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Single-bottleneck Topology</head><p>Consider a scenario where three flows pass through a singlebottleneck link of capacity 1 gb/s and round-trip propagation delay of 50 ms. Each flow is connected to the bottleneck link through a different access link of capacity 1 gb/s and negligible delay. These flows start with a 30-second delay and each lasts for 90 seconds. The sending rates 5 of the flows are illustrated in <ref type="figure" target="#fig_0">Fig. 16</ref>, where both methods are able to maintain high throughput and keep CPU utilization below 30% at the router. During the experiment, we also monitor the IP layer queue size inside the bottleneck router. As shown in <ref type="figure" target="#fig_0">Fig. 17(a)</ref>, RCP experiences significant queue buildup (up to 9, 415 packets) whenever a new flow joins the system. In contrast, PIQI-RCP maintains queue size of at most 1 packet (not shown in the <ref type="figure">figure)</ref>, which can be explained by the gradual increase of user rates in the source controller. This allows the router enough time to converge to a new steady state without significantly overshooting link capacity.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Abrupt Change in Traffic Demand</head><p>In this experiment, we examine the performance of RCP and PIQI-RCP with an abrupt increase or decrease in traffic demand. We use a dumb-bell topology with gigabit access links and a bottleneck link with capacity 100 mb/s and delay 25 ms. At t = 0, one long flow is started for a duration of 120 seconds. At t = 30, another 10 flows abruptly join the network and continue to remain in the system until t = 113, at which time they all suddenly exit.</p><p>In RCP, at time t = 30 the average input traffic increases to 300 mb/s and the queue size jumps to around 11, 000 packets as shown in <ref type="figure" target="#fig_0">Fig. 17(b)</ref>, which is very similar to the behavior of RCP in ns2. Next, with the rise in both the input traffic rate and queue size, the router's control equation overcompensates and drives the combined sending rate to 10 mb/s as shown in 18(a). This explains the drop in link utilization at t = 30. The system remains in this transient state for about 7 seconds before eventually recovering. As can be seen from <ref type="figure" target="#fig_0">Fig. 18(b)</ref>, PIQI-RCP has a very small overshoot of C l and all excess traffic gets absorbed in network device queues without increasing the router queue (i.e., the peak IPlayer queue is again 1 packet).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Performance with Mice Traffic</head><p>In this section, we study RCP and PIQI-RCP when the input traffic is a combination of both short-lived (i.e., mice) and long-lived flows. We start the long flow at t = 0 from one of the two sender machines and generate mice traffic starting at t = 30 from the other machine. All flows pass through a common bottleneck link of capacity 1 gb/s and delay of 25 ms. The pattern of mice traffic follows Poisson arrivals with the mean inter-arrival time of 0.2 seconds and Paretodistributed duration (i.e., number of transferred packets) with shape parameter 1.4 and mean 100 packets.</p><p>The results of this experiment are shown in <ref type="figure" target="#fig_0">Fig. 19</ref>. In RCP, link utilization remains generally very high, but experiences occasional overshoots by 40% and undershoots by 25%. PIQI-RCP, on the other hand, demonstrates much less rate fluctuation, a virtually non-existent queue, and the same high link utilization as in RCP. This shows that PIQI-RCP is not only a stable protocol with good transient properties in theory, but also a practical approach suitable for GENI-style <ref type="bibr" target="#b18">[19]</ref> networks of the future.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>VII. CONCLUSION AND FUTURE WORK</head><p>In this work, we found that RCP could become unstable in certain cases and required unrealistically large buffers to absorb transient overshoots of link capacity. As an alternative to RCP, we proposed a new controller called PIQI-RCP and showed that its heterogeneous stability could be easily established using common control-theory tools. We further demonstrated in simulations and experiments that PIQI-RCP required much smaller buffers at routers and had a lower average flow completion time compared to TCP and XCP.</p><p>Future work involves analysis of multi-link stability of maxmin congestion control and deployment of explicit-feedback methods in large-scale testbeds with millions of flows.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head>Fig. 1 .</head><label>1</label><figDesc>Fig. 1. Topology T 1 .</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Fig. 2 .</head><label>2</label><figDesc>Fig. 2. Unstable rates of RCP flows in topology T 1 (default router control interval T = 10 ms).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head>Fig. 3 .</head><label>3</label><figDesc>Fig. 3. Performance of RCP after abrupt increase in traffic demand at t = 15.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_3"><head>Fig. 4 .</head><label>4</label><figDesc>Fig. 4. Flow rate of QI-RCP for κ = ηκ * in a single-link network with T = 10 ms and two flows with homogeneous RTTs D 1 = D 2 = 120 ms (T = 10 ms, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_4"><head>Fig. 5 .</head><label>5</label><figDesc>Fig. 5. Flow rate of QI-RCP for κ = ηκ * in a single-link network with T = 10 ms and two flows with heterogeneous RTTs D 1 = 122, D 2 = 306 ms (T = 10 ms, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_5"><head>Fig. 6 .</head><label>6</label><figDesc>Fig. 6. Sending rate of QI-RCP in topology T 1 for κ = ηκ * (T = 10 ms, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_6"><head>Fig. 8 .</head><label>8</label><figDesc>Fig. 8. Verification of stability of PIQI-RCP for flows with homogeneous RTT D = 120 ms and κ = ηκ * (T = 10 ms, τ 1 = 0.005, τ 2 = 0.5, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_7"><head>Fig. 9 .</head><label>9</label><figDesc>Fig. 9. Verification of stability of PIQI-RCP under heterogeneous RTTs D 1 = 120, D 2 = . . . = D 9 = 300 ms and κ = ηκ * (T = 10 ms, τ 1 = 0.005, τ 2 = 0.5, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_9"><head>Fig. 10 .</head><label>10</label><figDesc>Fig. 10. Sending rate of PIQI-RCP in topology T 1 for κ = ηκ * (T = 10 ms, τ 1 = 0.005, τ 2 = 0.5, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_10"><head>Fig. 11 .Fig. 12 .</head><label>1112</label><figDesc>Fig. 11. Sending rate of RCP and PIQI-RCP in a single-bottleneck network with heterogeneous RTTs D 1 = 120, D 2 = . . . = D 9 = 300 ms and κ = 0.95κ * (T = 10 ms, τ 1 = 0.005, τ 2 = 0.5, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_11"><head>Fig. 13 .</head><label>13</label><figDesc>Fig. 13. Comparison of PIQI-RCP to other methods (T = 10 ms, τ 1 = 0.005, τ 2 = 0.5, γ = 0.95).</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_12"><head>Fig. 15 .</head><label>15</label><figDesc>Fig. 14. Topology T 2 .</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_13"><head>Fig. 16 .</head><label>16</label><figDesc>Fig. 16. Linux performance of three flows sharing a single-bottleneck link of capacity 1 gb/s and RTT 50 ms.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_14"><head>Fig. 19 .</head><label>19</label><figDesc>Fig. 18. Linux performance with abrupt change in traffic demand.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_0" validated="false"><head>where T and D i are given in time units, while D i in router control-steps. For D i = D and T = 1, (11) can be written as</head><label>where</label><figDesc></figDesc><table></table></figure>

			<note place="foot" n="1"> Pronounced &quot;Picky-RCP.&quot;</note>

			<note place="foot" n="2"> Note that RCP does not specify how flows should react to packet loss or recover dropped packets ([5] uses infinite buffers for all simulations). However, a common technique [11] is to use TCP&apos;s recovery mechanisms (i.e., reduction of the rate in half) until all lost packets are recovered.</note>

			<note place="foot" n="3"> Note that RCP&apos;s stability for homogeneous RTT has been established only for the continuous approximation to (1). While gain parameters used in [5] are conservative enough to keep the discrete system (1) stable, the exact stability region of discrete RCP even for homogeneous delays is unknown.</note>

			<note place="foot" n="5"> The reported sending rate is the throughput at the IP layer using packet size of 1500 bytes.</note>
		</body>
		<back>
			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<analytic>
		<title level="a" type="main">MaxNet: Theory and Implementation</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><forename type="middle">H</forename><surname>Andrew</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">K</forename><surname>Jacobsson</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">H</forename><surname>Low</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Suchara</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Witt</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><forename type="middle">P</forename><surname>Wydrowski</surname></persName>
		</author>
		<ptr target="http://netlab.caltech.edu/maxnet/MaxNetImplementationTechReport.pdf" />
	</analytic>
	<monogr>
		<title level="j">Netlab, Caltech, Tech. Rep</title>
		<imprint>
			<date type="published" when="2006" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<analytic>
		<title level="a" type="main">Sizing Router Buffers</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><surname>Appenseller</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><surname>Keslassy</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Mckeown</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. ACM SIGCOMM</title>
		<meeting>ACM SIGCOMM</meeting>
		<imprint>
			<date type="published" when="2004-08" />
			<biblScope unit="page" from="281" to="292" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<analytic>
		<title level="a" type="main">Improving TCP Performance in High Bandwidth High RTT Links Using Layered Congestion Control</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Bhandarkar</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Jain</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><forename type="middle">L N</forename><surname>Reddy</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. PFLDnet</title>
		<meeting>PFLDnet</meeting>
		<imprint>
			<date type="published" when="2005-02" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b3">
	<monogr>
				<ptr target="http://www.cisco.com/en/US/products/hw/modules/ps2710/ps186/" />
		<title level="m">Cisco 12000 Series Gigabit Ethernet Line Cards</title>
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<analytic>
		<title level="a" type="main">Processor Sharing Flows in the Internet</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Dukkipati</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Kobayashi</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Zhang-Shen</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Mckeown</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. IEEE IWQoS</title>
		<meeting>IEEE IWQoS</meeting>
		<imprint>
			<date type="published" when="2005-06" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<monogr>
		<title level="m" type="main">Processor Sharing Flows in the Internet</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Dukkipati</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Mckeown</surname></persName>
		</author>
		<idno>TR04-HPNG-061604</idno>
		<imprint>
			<date type="published" when="2004-06" />
		</imprint>
		<respStmt>
			<orgName>Stanford Univ.</orgName>
		</respStmt>
	</monogr>
<note type="report_type">Tech. Rep.</note>
	<note>High Performance Networking Group</note>
</biblStruct>

<biblStruct xml:id="b6">
	<monogr>
		<title/>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><surname>Emulab</surname></persName>
		</author>
		<ptr target="http://www.emulab.net/" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<monogr>
		<title level="m" type="main">Specification for the Explicit Control Protocol (XCP)</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Falk</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Pryadkin</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Katabi</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2005-10" />
		</imprint>
	</monogr>
<note type="report_type">IETF Internet-draft</note>
</biblStruct>

<biblStruct xml:id="b8">
	<analytic>
		<title level="a" type="main">High-speed TCP for Large Congestion Windows</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Floyd</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IETF RFC</title>
		<imprint>
			<biblScope unit="volume">3649</biblScope>
			<date type="published" when="2003-12" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title level="a" type="main">FAST TCP: Motivation, Architecture, Algorithms, Performance</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Jin</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Wei</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">H</forename><surname>Low</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. IEEE INFOCOM</title>
		<meeting>IEEE INFOCOM</meeting>
		<imprint>
			<date type="published" when="2004-03" />
			<biblScope unit="page" from="2490" to="2501" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<analytic>
		<title level="a" type="main">Congestion Control for High Bandwidth Delay Product Networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Katabi</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Handley</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Rohrs</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. ACM SIGCOMM</title>
		<meeting>ACM SIGCOMM</meeting>
		<imprint>
			<date type="published" when="2002-08" />
			<biblScope unit="page" from="89" to="102" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b11">
	<analytic>
		<title level="a" type="main">Scalable TCP: Improving Performance in High-speed Wide Area Networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><surname>Kelly</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Computer Communication Review</title>
		<imprint>
			<biblScope unit="volume">33</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="83" to="91" />
			<date type="published" when="2003-04" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b12">
	<analytic>
		<title level="a" type="main">H-TCP Protocol for High-Speed Long Distance Networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Leith</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Shorten</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. PFLDnet</title>
		<meeting>PFLDnet</meeting>
		<imprint>
			<date type="published" when="2004-02" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b13">
	<analytic>
		<title level="a" type="main">Understanding XCP: Equilibrium and Fairness</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">H</forename><surname>Low</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><forename type="middle">L H</forename><surname>Andrew</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><forename type="middle">P</forename><surname>Wydrowski</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. IEEE INFOCOM</title>
		<meeting>IEEE INFOCOM</meeting>
		<imprint>
			<date type="published" when="2005-03" />
			<biblScope unit="page" from="1025" to="1036" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b14">
	<analytic>
		<title level="a" type="main">Stability of Distributed Congestion Control with Heterogeneous Feedback Delays</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Massoulié</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Trans. Automat. Contr</title>
		<imprint>
			<biblScope unit="volume">47</biblScope>
			<biblScope unit="issue">6</biblScope>
			<biblScope unit="page" from="895" to="902" />
			<date type="published" when="2002-06" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b15">
	<monogr>
				<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><forename type="middle">J</forename><surname>Nagrath</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Gopal</surname></persName>
		</author>
		<title level="m">Control Systems Engineering</title>
		<imprint>
			<publisher>John Wiley &amp; Sons</publisher>
			<date type="published" when="2004" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b16">
	<monogr>
		<title level="m" type="main">Network Simulator</title>
		<ptr target="http://www.isi.edu/nsnam/ns/" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b17">
	<monogr>
		<title level="m" type="main">Future INternet Design</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Nsf</forename><surname>Find</surname></persName>
		</author>
		<ptr target="http://www.nsf.gov/funding/pgmsumm.jsp?pimsid=12765&amp;org=CNS" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b18">
	<monogr>
		<title level="m" type="main">Global Environment for Network Innovations</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Nsf</forename><surname>Geni</surname></persName>
		</author>
		<ptr target="http://www.nsf.gov/cise/cns/geni/" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b19">
	<analytic>
		<title level="a" type="main">CUBIC: A New TCP-Friendly High-Speed TCP Variant</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><surname>Rhee</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Xu</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. PFLDnet</title>
		<meeting>PFLDnet</meeting>
		<imprint>
			<date type="published" when="2005-02" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b20">
	<monogr>
		<title level="m" type="main">Juniper M Series Multiservice Edge Routers</title>
		<ptr target="http://www.juniper.net/productsandservices/mseriesroutingportfolio/" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b21">
	<monogr>
		<title level="m" type="main">MaxNet: Faster Flow Control Convergence</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><forename type="middle">P</forename><surname>Wydrowski</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><forename type="middle">L H</forename><surname>Andrew</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><forename type="middle">M Y</forename><surname>Mareels</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2004-05" />
			<biblScope unit="volume">3042</biblScope>
			<biblScope unit="page" from="588" to="599" />
		</imprint>
	</monogr>
<note type="report_type">Networking</note>
</biblStruct>

<biblStruct xml:id="b22">
	<analytic>
		<title level="a" type="main">One More Bit Is Enough</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Xia</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Subramanian</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><surname>Stoica</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Kalyanaraman</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. ACM SIGCOMM</title>
		<meeting>ACM SIGCOMM</meeting>
		<imprint>
			<date type="published" when="2005-08" />
			<biblScope unit="page" from="37" to="48" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b23">
	<analytic>
		<title level="a" type="main">Binary Increase Congestion Control (BIC) for Fast, Long Distance Networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Xu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">K</forename><surname>Harfoush</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><surname>Rhee</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. IEEE INFOCOM</title>
		<meeting>IEEE INFOCOM</meeting>
		<imprint>
			<date type="published" when="2004-03" />
			<biblScope unit="page" from="2514" to="2524" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b24">
	<analytic>
		<title level="a" type="main">Delayed Stability and Performance of Distributed Congestion Control</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Zhang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S.-R</forename><surname>Kang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Loguinov</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. ACM SIGCOMM</title>
		<meeting>ACM SIGCOMM</meeting>
		<imprint>
			<date type="published" when="2004-08" />
			<biblScope unit="page" from="307" to="318" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b25">
	<analytic>
		<title level="a" type="main">JetMax: Scalable Max-Min Congestion Control for High-Speed Heterogeneous Networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Zhang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Leonard</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Loguinov</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proc. IEEE INFOCOM</title>
		<meeting>IEEE INFOCOM</meeting>
		<imprint>
			<date type="published" when="2006-04" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
