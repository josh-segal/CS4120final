<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /Users/atharsefid/Desktop/grobid-0.5.3/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<encodingDesc>
			<appInfo>
				<application version="0.5.3" ident="GROBID" when="2019-03-26T16:35+0000">
					<ref target="https://github.com/kermitt2/grobid">GROBID - A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Optimal Capacity Sharing of Networks with Multiple Overlays</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Zheng</forename><surname>Ma</surname></persName>
							<email>zhengma@cs.yale.edu</email>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Jiang</forename><surname>Chen</surname></persName>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Yang</forename><forename type="middle">Richard</forename><surname>Yang</surname></persName>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Arvind</forename><surname>Krishnamurthy</surname></persName>
							<email>arvind@cs.washington.edu</email>
							<affiliation key="aff1">
								<orgName type="department">Computer Science and Engineering</orgName>
								<orgName type="institution">University of Washington</orgName>
								<address>
									<postCode>98195</postCode>
									<settlement>Seattle</settlement>
									<region>WA</region>
								</address>
							</affiliation>
						</author>
						<author>
							<affiliation key="aff0">
								<orgName type="department">Department of Computer Science</orgName>
								<orgName type="institution">Yale University</orgName>
								<address>
									<postCode>06511</postCode>
									<settlement>New Haven</settlement>
									<region>CT</region>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Optimal Capacity Sharing of Networks with Multiple Overlays</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<profileDesc>
			<abstract>
				<p>Overlay networks have emerged as a generic networking paradigm to improve network performance and construct new applications. Although many overlay algorithms have been proposed lately, they tend to focus on a single overlay, without considering how to share network capacity with other traffic and other overlays. In this paper, we study optimal capacity sharing of network with multiple overlays. We first formulate the problem of optimal capacity sharing of networks with multiple overlays as a nonlinear optimization problem. We show that traditional flow-level rate controllers result in sub-optimal sharing results between the different overlays. We design efficient and distributed overlay flows control algorithms and demonstrate the effectiveness of our design.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>I. INTRODUCTION</head><p>Overlay networks are emerging as a new paradigm for constructing new distributed applications and improving network performance. In the last few years, many overlay networks have been proposed, evaluated, and deployed. For instance, many large-scale, overlay-style content-delivery networks such as Akamai have been deployed. Various large-scale testbed networks such as PlanetLab <ref type="bibr" target="#b0">[1]</ref> and Emulab <ref type="bibr" target="#b1">[2]</ref> are also structured as overlay networks. The traffic generated by peerto-peer file-sharing applications such as BitTorrent, and VoIP applications such as Skype, is continuously on the rise. In some networks, the traffic generated by such overlays is becoming the dominant traffic.</p><p>However, there are serious concerns about the wide deployment of overlay networks. One particular concern is that current overlay algorithms tend to focus on a single overlay, without considering the co-existence of other traffic and other overlays. An overlay network may make resource allocation decisions too aggressively to utilize all available network resources without consideration of others, resulting in sub-optimal resource allocation, unfairness, and/or wild oscillations <ref type="bibr" target="#b2">[3]</ref>, <ref type="bibr" target="#b3">[4]</ref>. Thus, a serious concern is that overlays improve their performance at the expense of others, and wide deployment of overlays may lead to overall degradation of the performance of the entire network.</p><p>One way to regulate the behavior of overlays is to implement network congestion control. While many traditional network congestion control schemes have been successfully proposed (e.g., <ref type="bibr" target="#b4">[5]</ref>, <ref type="bibr" target="#b5">[6]</ref>, <ref type="bibr" target="#b6">[7]</ref>, <ref type="bibr" target="#b7">[8]</ref>) they work for point-to-point connections as opposed to the many-to-many connectivity seen in the world of overlays. For example, under a widely used framework introduced by <ref type="bibr">Kelly et al. in [9]</ref>, the basic congestion control unit is a single unicast flow from one specific source to a specific destination. However, an overlay network typically consists of many unicast flows belonging to multiple source-destination pairs. If we view each overlay link as a single unicast flow, the whole overlay network could be treated as a collection of end-to-end flows. We call them flowlevel rate controllers if the flows are controlled individually. If they coordinate with each other, we call them overlaylevel rate controllers. As we will show in Sec. II, flow-level rate controllers may result in unfair and sub-optimal share of network resource between overlays. Thus, a new overlaylevel rate control scheme is needed to share network resources efficiently, fairly, and distributedly in the emerging world of overlay networks.</p><p>In this paper, we present a systematic framework to study the resource allocation and congestion control for networks with adaptive traffic generated by multiple overlays. Specifically, we first formulate the optimal capacity sharing problem among multiple overlays using nonlinear optimization theory. By modeling a traditional end-to-end flow as an overlay with only two nodes, our formulation is more general than existing models and considers both current adaptive point-to-point traffic and general overlay traffic.</p><p>A technical challenge we need to address is how to solve the nonlinear optimization problem where an overlay may consist of multiple logical links in a distributed and efficient way. In this paper, inspired by recent advances in optimization based congestion control, we derive general overlay-level congestion control algorithms to achieve optimal capacity sharing among overlays using queuing delay dynamics as a feedback from underlay networks. Similar to many delay-based approaches, such as TCP Vegas <ref type="bibr" target="#b6">[7]</ref> and FAST TCP <ref type="bibr" target="#b9">[10]</ref>, our solution can be implemented at each overlay node to adjust the traffic rate in a distributed way.</p><p>We demonstrate the effectiveness of our algorithm using a case study of heterogeneous networks where multiple overlays try to find the maximum low from its sender to receiver. We illustrate that overlays can share network capacity more efficiently by implementing our algorithms. Overlays can improve overall network performance by probing for available network resources in a controlled manner, instead of by being unfair to other adaptive flows.</p><p>The rest of the paper is organized as follows. In Section II, we present our problem formulation and the sub-optimal results of capacity sharing among overlays. In Section III, we derive a primal-dual algorithm to optimally share network capacity among multiple overlays. We propose a distributed protocol to implement the algorithm. In Section IV, we use overlay maximum flow as a case study to show the effectiveness of our algorithms by simulations. Related work is discussed in Section V and Section VI concludes the paper.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>II. PROBLEM FORMULATION</head><p>We begin this section by defining the physical network and multiple overlays on top of it. After that we formulate the optimal capacity sharing of multiple overlays as a constrained nonlinear optimization problem. Then, we illustrate that the resource allocation could be sub-optimal if one uses only the flow-level rate control in this scenario.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Network and Flow Model</head><p>Our underlay physical network is a graph G = (V, L, c), where V is the set of physical nodes, and L is the set of undirected physical links. We assume each physical link has capacity c l . Thus c = (c l ), l ∈ L is the vector representation of all link capacities. The physical network resources are shared by multiple overlays.</p><p>We represent each overlay network O i as a graph</p><formula xml:id="formula_0">G i = (H i , E i )</formula><p>, where H i is the set of hosts, and E i is the set of directed overlay links. The union of all overlay nodes is H = 񮽙 n i=1 H i and the union of all overlay links is E = 񮽙 n i=1 E i . The end-to-end flow rate of each overlay link e ∈ E is x e . If an overlay link belongs to E i , it is controlled by overlay O i . We define overlay flows, x i = (x i e ) = (x i uv ), e = (h iu , h iv ) ∈ E i , as a vector of all end-to-end flows controlled by O i . Generalizing traditional flow-level rate control, which regulates the flow rate of a single sender to a single receiver, overlay flows rate control adjusts a vector of flow rates among multiple participants. Note that a traditional end-to-end flow is an overlay with just two nodes.</p><p>Each overlay link e ∈ E corresponds to a physical path consisting of multiple physical links. We use L(e) ⊆ L to represent this set of physical links. We also define a L × E i routing indicator matrix A i = (A i le ), l ∈ L, e ∈ E i for each overlay O i , where A i le = 1 if l ∈ L(e) and A i le = 0 otherwise. Each physical link l can be used by multiple overlay links. We define E(l) ⊆ E as the set of overlay links that uses l.</p><p>When multiple overlays co-exist in the same physical network, the physical constraints will place a limit on the combined traffic of all overlays. This is where multiple overlays interact with each other. Let A = (A i ), x = (x i ). The physical capacity constraint can be represented as</p><formula xml:id="formula_1">A · x ≤ c.<label>(1)</label></formula><p>Many overlay networks are application specific. While physical constraints specify the capacity limit on the physical network, application constraints preserve the relationship between different x e within an overlay. For instance, flow conservation at each overlay node in many overlay applications is one such constraint. Specifically, the flow conservation constraint can be represented as the follows. Let e = (u, v). For overlay O i , we can define a H i × E i matrix F i = (F i he ), h ∈ H i , e ∈ E i as following:</p><formula xml:id="formula_2">F i he = ⎧ ⎨ ⎩ 1 if h = v −1 if h = u 0 otherwise.</formula><p>Thus, a compact representation of the flow conservation constraint is</p><formula xml:id="formula_3">F i · x i = 0.<label>(2)</label></formula><p>For the general case, F i specifies the data relaying relationship in application level. It is determined by application level topology, which is under control of the overlay topology construction algorithms.</p><p>Note that in the preceding problem formulation, the same physical node is considered to be different in different overlays. This is also true for overlay links that connect the same pairs of physical nodes. This representation allows different overlay flows to use different control algorithms. <ref type="table" target="#tab_0">Table I</ref>  </p><formula xml:id="formula_4">⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ · ⎛ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎝ x 1 13 x 1 32 x 1 34 x 1 25 x 1 45 x 2 25 ⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ ≤ ⎛ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎝ 2 1 1 2 2 2 ⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ .</formula><p>Equation <ref type="formula" target="#formula_3">(2)</ref> is application-specific. For instance, in <ref type="figure">Fig. 1</ref>, we assume the objective of O 1 is to find the maximum flow from node 1 to node 5. Since the source and destination node of maximum flow will not have any flow conservation constraints, the equality constraint for</p><formula xml:id="formula_5">O i is ⎛ ⎜ ⎜ ⎜ ⎜ ⎝ 0 0 0 0 0 1 −1 −1 0 0 0 1 0 −1 0 0 0 1 0 −1 0 0 0 0 0 ⎞ ⎟ ⎟ ⎟ ⎟ ⎠ · ⎛ ⎜ ⎜ ⎜ ⎜ ⎝ x 1 13 x 1 32 x 1 34 x 1 25 x 1 45 ⎞ ⎟ ⎟ ⎟ ⎟ ⎠ = 0.</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Optimal Capacity Sharing of Multiple Overlays</head><p>Each overlay can have its own objective. The objective of overlay network O i can be represented by a utility function U i , which overlay O i tries to maximize. The input to U i is an aggregation function applied to x i . We use f i (x i ) to represent </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Notation</head><p>Definition</p><formula xml:id="formula_6">O i ∈ {1, 2, ..., n}</formula><p>Overlay Network Session i.</p><formula xml:id="formula_7">H i = {h i1 , h i2 , ..., h ij },|H i | = H i End hosts in session i. h ∈ H = S n i=1 H i , |H| = H</formula><p>Set of all overlay nodes.</p><formula xml:id="formula_8">E i = {e i1 , e i2 , ..., e ik } Overlay links in session i. e = (u, v) ∈ E = S n i=1 E i , |E| = E</formula><p>Set of all overlay links.</p><formula xml:id="formula_9">x i = (x i uv ), e = (h iu , h iv ) ∈ E i</formula><p>Flow rate vector in session i.</p><formula xml:id="formula_10">f i (x i ) : x i → R Aggregation function for session i. l ∈ L = {1, .., L} Set of physical links. c = (c l , l ∈ L)</formula><p>The capacity constraint vector.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>u, v, w</head><p>Overlay nodes.</p><formula xml:id="formula_11">A i = (A i le ) L×E i</formula><p>Routing matrix for session i.</p><formula xml:id="formula_12">F i = (F i he ) H i ×E i Application constraint matrix for i.</formula><p>this aggregation function. Thus, the objective of overlay</p><formula xml:id="formula_13">O i is to maximize U i (f i (x i ))</formula><p>, under physical and application constraints. Let F = (F i ). If the system design objective is to maximize the sum of the utilities of all overlays, we can write the system problem as:</p><formula xml:id="formula_14">P : Maximize: n 񮽙 i=1 U i (f i (x i ))<label>(3)</label></formula><p>Subject to:</p><formula xml:id="formula_15">A · x ≤ c (4) F · x = 0 (5)</formula><p>over:</p><formula xml:id="formula_16">x e ≥ 0, ∀e ∈ E.<label>(6)</label></formula><p>As a special case when all overlays are single end-to-end flows, f i (x) = x, F does not exist, and the above formulation is reduced to that of Kelly's framework in <ref type="bibr" target="#b8">[9]</ref>. U i and f i are application specific. We assume that U i is strictly concave. For f i , we assume that it is differentiable but does not need to be strictly concave. As an example,</p><formula xml:id="formula_17">f i (x i ) = 񮽙 e∈Ei x e .</formula><p>Many overlays <ref type="bibr" target="#b10">[11]</ref> use periodical probing for available bandwidth and adjusting the flow rates to achieve the overall performance goal. By formulating the overlay's objective in the optimization framework, we can have a better understanding of its behavior when they share the network resource with others.</p><p>To solve the system problem P requires centralized computation and global knowledge of the network including each overlay's utility function, routing and capacity information in the underlay, and flow conservation information of each application. Those make it almost impossible to solve in practice. We will show a distributed algorithm that decouples the computation in a scalable way in Section III. </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Sub-optimality of using only flow-level rate control</head><p>Before we solve the system problem P, we first show the necessity of solving P. Since we are concerned with rate control and resource sharing, one possibility to do is to ignore the structure of overlays. Thus, each overlay link will be considered as an individual flow. The rate of each overlay link then is determined by traditional transport mechanism. We call such a scheme flow-level rate control. We will show that flowlevel rate control is inefficient for overlays. We illustrate our points using two examples.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>1) Example 1: Unfair sharing when overlays interact with TCP:</head><p>The first example consists of an overlay network O 1 and a competing TCP flow. The physical network is shown in <ref type="figure">Fig. 1</ref>(a). The overlay network and the TCP flow are shown in <ref type="figure">Fig. 1(b)</ref>.</p><p>Let x tcp be the throughput of the TCP flow. We write down the overlay flows of x 1 as</p><formula xml:id="formula_18">x 1 = (x 1 13 , x 1 32 , x 1 34 , x 1 25 , x 1 45 ).</formula><p>We assume the objective of O 1 is to find the maximum flow from node 1 and node 5. Thus the aggregation function</p><formula xml:id="formula_19">f 1 (x 1 ) = x 1 25 + x 1 45 .</formula><p>Since TCP is a single flow, f tcp (x tcp ) = x tcp . Now we can write down the optimization objectives of both. We consider proportional fairness among overlays. So both overlays will use a log like utility function. We have that</p><formula xml:id="formula_20">U tcp (f tcp (x tcp )) = log(x tcp ) U 1 (f 1 (x 1 )) = log(x 1 25 + x 1 45 ).</formula><p>Thus any rate allocation which maximizes total utility U 1 + U tcp = log(x 1 25 + x 1 45 ) + log(x tcp ) under physical and application constraints achieves system optimum. In particular, x 1 = (1, 0, 1, 0, 1), x tcp = 1 is a system optimal solution with a total utility value being 0.</p><p>However, if we use only flow-level control, then we may reach the following equilibrium: x 1 = (1, 1/3, 2/3, 1/3, 2/3), and x tcp = 1/3, when the network implements flow level fair sharing. This is because when the overlay O 1 and the TCP flow saturate the bottleneck link c 2 = 1, each flow will get 1/3 of the link capacity. No one can further increase its utility because the probing for available bandwidth will return 0 for x <ref type="bibr" target="#b0">1</ref> 25 ,x 1 32 and x tcp . Although overlay O 1 achieves its optimum (U 1 (f 1 (x 1 )) = 0), the TCP flow does not (U tcp (x tcp ) = −0.48 ). The total utility is only −0.48.</p><p>This simple example shows that we may not be able to achieve system optimum if we use only flow-level rate control. Since overlays generally use more flows than a single TCP flow, they may improve performance at the expense of other TCP flows.</p><p>2) Example 2: Sub-optimal capacity sharing of multiple overlays: In our second example, we will show that using flow-level rate control may lead to sub-optimal performance for overlays. Thus overlays will have incentives to adopt new overlay flow control algorithms to achieve their optimum as well as system optimum. The example consists of two overlays O 1 and O 2 . The physical network is shown in <ref type="figure" target="#fig_2">Fig. 2(a)</ref>. The topology of O 1 is the same as the preceding example, and the topology of O 2 is shown in <ref type="figure" target="#fig_2">Fig 2(b)</ref>. The overlay flows of x 2 is</p><formula xml:id="formula_21">x 2 = (x 2 31 , x 2 32 , x 2 14 , x 2 24 , x 2 45 ).</formula><p>The objective of O 1 is still to find the maximum flow from node 1 to node 5. The objective of O 2 is to find maximum flow from node 3 to node 5. So the aggregation functions are</p><formula xml:id="formula_22">f 1 (x 1 ) = x 1 25 + x 1 45 , f 2 (x 2 ) = x 2 45</formula><p>. Consider the case when both overlays use linear utility functions. Thus</p><formula xml:id="formula_23">U 1 (f 1 (x 1 )) = x 1 25 + x 1 45 U 2 (f 2 (x 2 )) = x 2 45 .</formula><p>The system optimization objective is</p><formula xml:id="formula_24">U 1 + U 2 = x 1 25 + x 1 45 + x 2 45 .</formula><p>We can see that x 1 = (1, 1, 0, 1, 0), x 2 = (0, 1, 0, 1, 1) is a system optimal solution with total utility value being 2. However, if we use only fair sharing at flow level, then we may have the following sub-optimal equilibrium, in which O 1 and O 2 saturate the capacity of c 1 and c 4 : Equilibrium</p><formula xml:id="formula_25">x 1 = (1/3, 0, 1/3, 0, 1/3) U 1 (f 1 (x 1 )) = 1/3. Bottleneck: c 1 ,c 4 x 2 = (1/3, 1/3, 1/3, 1/3, 2/3) U 2 (f 2 (x 2 )) = 2/3.</formula><p>At this equilibrium, both overlays get lower utilities compared with system optimum. The total system utility value is only 1. The example shows that if the overlay O 1 or O 2 uses only flow-level control it may reach sub-optimal solutions as it does not take into account the presence of other overlays.</p><p>Given the preceding two examples, a natural question to ask then is whether it is possible to design an overlay flows control algorithm to make overlays friendly to TCP flows and to share network resource optimally among multiple overlays. We address both questions in the next section.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>III. ALGORITHM DESIGN FOR OPTIMAL CAPACITY SHARING OF OVERLAYS</head><p>In this section, we show a systematic framework to design algorithms for solving the problem P formulated in the preceding section. To be scalable, we focus on distributed algorithms. The distributed algorithms should have low communications overhead and shouldn not require explicit support from the underlay network. Inspired by recent developments in optimization based Internet congestion control <ref type="bibr" target="#b5">[6]</ref>, <ref type="bibr" target="#b7">[8]</ref>, <ref type="bibr" target="#b11">[12]</ref>, we design a distributed overlay flows control algorithm to achieve the above goals. Since different overlays may be formulated differently in P (e.g., with different f i and application constraints), our presentation is a generic framework. In the next section, we will present a concrete instance.</p><p>Below we first discuss the technical challenges. Then we present primal-dual algorithms with convergence guarantees.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Difficulties Due to Lack of Strict Concavity</head><p>In problem P, although U i , the utility functions of overlays, are strictly concave, the final objective function U i (f i (x)) may not be strictly concave on x if f i is not strictly concave on x. This would pose problems since the dual of the problem may not be differentiable at every point <ref type="bibr" target="#b12">[13]</ref>. Some existing techniques based on duality (e.g., <ref type="bibr" target="#b5">[6]</ref>, <ref type="bibr" target="#b11">[12]</ref>) can only deal with strictly concave objective functions.</p><p>We address this problem by making the objective function in P strictly concave. In particular, we use the Proximal Minimization method ( <ref type="bibr" target="#b12">[13]</ref>, Chapter 8) which enforces strict concavity by adding a quadratic term to the objective function and then iterates to eliminate the effects of the term. Specifically, we introduce the vector</p><formula xml:id="formula_26">b = (b e ), ∀e ∈ E, b e ≥ 0 and define U e (x e ) = − 1 2κ (x e − b e ) 2 ,</formula><p>where κ is a positive scalar parameter. Now consider the optimization problem P1 under the same constraints in (4)-(6), with objective function as</p><formula xml:id="formula_27">P1 : Maximize: n 񮽙 i=1 U i (f i (x)) − n 񮽙 i=1 񮽙 e∈Ei 1 2κ (x e − b e ) 2</formula><p>Subject to:</p><formula xml:id="formula_28">A · x ≤ c F · x = 0 over: x e ≥ 0, ∀e ∈ E.<label>(7)</label></formula><p>If b = x * , where x * is the optimal solution to P, then the optimal solution to P1 is optimal to P as well. Consider the iterative proximal minimization algorithm in <ref type="figure" target="#fig_3">Fig. 3</ref>, where x (0) is any feasible point and b (0) = x (0) .</p><p>for n = 1, 2, ... do: step 1. Solve problem P1, with b = b (n−1) , obtain the optimal solution x (n) . step 2. Set b (n) = x (n) . We show that the algorithm in <ref type="figure" target="#fig_3">Fig. 3</ref> converges to the optimal solution of problem P as n → ∞ ( <ref type="bibr" target="#b13">[14]</ref>, pp 233). Note that the preceding algorithm is a two-level optimization procedure.</p><p>Step 2 in the algorithm is executed only when the procedure of solving Step 1 converges. When κ is large, the objective function of P1 is close to the one in P.</p><p>Step 1 may converge to a value close to the optimum with less iterations. More detailed discussions on choosing κ and step size could be found in ( <ref type="bibr" target="#b13">[14]</ref>, pp234).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Problem Decomposition and Algorithm Design</head><p>The preceding algorithm requires us to solve P1. The Lagrangian of P1 can be derived as follows (b is constant in each iteration):</p><formula xml:id="formula_29">L(x, p, μ) = n 񮽙 i=1 {U i (f i (x)) − 񮽙 e∈Ei 1 2κ (x e − b e ) 2 } 񮽙 񮽙񮽙 񮽙 Ψi(xi) − p(A · x − c) − μ(F · x) = n 񮽙 i=1 Ψ i (x i ) − 񮽙 l∈L p l ( 񮽙 e∈E A le x e − c l ) − μ(F · x) = n 񮽙 i=1 Ψ i (x i ) − 񮽙 e∈E x e 񮽙 l∈L p l A le − 񮽙 e∈E x e 񮽙 h∈H μ h F he + 񮽙 l∈L p l c l = n 񮽙 i=1 Ψ i (x i ) − 񮽙 e∈E x e q e − 񮽙 e∈E x e λ e + 񮽙 l∈L p l c l = n 񮽙 i=1 (Ψ i (x i ) − 񮽙 e∈Ei (q e + λ e )x e ) + 񮽙 l∈L p l c l = n 񮽙 i=1 Φ i (x i ) + 񮽙 l∈L p l c l .<label>(8)</label></formula><p>Here p = (p l , l ∈ L) represents the price vector of the physical links. Let</p><formula xml:id="formula_30">q e = 񮽙 l∈L p l A le = 񮽙 l∈L(e) p l</formula><p>be the price of an overlay link. Let</p><formula xml:id="formula_31">λ e = 񮽙 h∈H μ h F he</formula><p>be the application specified price. The interpretation of the prices will vary in different applications depending on the format of F.</p><p>Since the objective function of P1 is a strictly concave function of x, there exist a unique maximizing solution in Equation <ref type="formula" target="#formula_28">(7)</ref>, say x * , and Lagrange multipliers p * and μ * , which satisfy the following Karush-Kuhn-Tucker conditions.</p><formula xml:id="formula_32">∂L ∂x e = 0 ⇒ ∀i, e ∈ E i , ∂Ψ i (x i ) ∂x e − (q * e + λ * e ) = 0 ⇒ U 񮽙 i (f i (x * )) · ∂f i ∂x e − 1 κ (x * e − b e ) − (q * e + λ * e ) = 0; p * (A · x * − c) = 0 A · x * ≤ c (9) F · x * = 0 ∀l ∈ L p * l ≥ 0.</formula><p>To find the unique solution to P1 in a decentralized fashion, we can use either dual algorithms like <ref type="bibr" target="#b5">[6]</ref>, <ref type="bibr" target="#b11">[12]</ref> or primaldual algorithms like <ref type="bibr" target="#b7">[8]</ref>, <ref type="bibr" target="#b14">[15]</ref>, <ref type="bibr" target="#b15">[16]</ref>. Here, we consider primaldual algorithms, which solve convex programming problems by computing the primal and dual variables simultaneously and moving towards the saddle point at each step.</p><p>Let</p><formula xml:id="formula_33">y = A · x = (y l ), l ∈ L, z = F · x = (z h ), h ∈ {1, 2, ..., H} . Also, define (y) + x for x ≥ 0 as follows (y) + x = 񮽙 y if x&gt;0 max(y, 0) if x = 0.<label>(10)</label></formula><p>The primal-dual algorithm is described in <ref type="figure" target="#fig_4">Fig. 4</ref>. Here, k e (x e ) &gt; 0, h l (p l ) &gt; 0, and m h (μ h ) &gt; 0 are nondecreasing continuous functions. We can see that in this algorithm, the dual variable p l is determined by the queuing process at physical links. μ h could be updated by overlay flows control algorithms at each overlay node by comparing its total incoming flow rate with total outgoing flow rate. x e will be updated by each flow controller using the shared information within its overlay (the aggregation function) and the feedback price information from q e and λ e . All those updates are fully distributed like the updates discussed in <ref type="bibr" target="#b4">[5]</ref>, <ref type="bibr" target="#b5">[6]</ref>. In addition, we have the following theorem: Theorem 3.1: The algorithm presented in <ref type="table">Table 4</ref> is globally asymptotically stable. Proof: Please see appendix . The global, asymptotic stability of the algorithm guarantees that starting from any initial condition, the primal-dual algorithm will converge to the unique solution of problem P1. In the next section, we will use overlay maximum flow problem as a case study to show a detailed protocol implementation of the above algorithm.</p><formula xml:id="formula_34">∀e ∈ E ˙ x e = k e (x e )(U 񮽙 i (f i (x)) · ∂fi ∂xe − 1 κ (x e − b e ) − (q e + λ e )). ∀l ∈ L ˙ p l = h l (p l )(y l − c l ) + p l . ∀h ∈ H ˙ μ h = m h (μ h )(z h ).</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>IV. CASE STUDY: OVERLAY MAXIMUM FLOW</head><p>In this section, we use overlay maximum flow as a case study to illustrate how to apply the algorithms in Section III to a specific problem. The overlay maximum flow problem was also studied in <ref type="bibr" target="#b10">[11]</ref> to demonstrate the importance of correlated link capacity constraints on overlay quality. We will use the example in <ref type="figure" target="#fig_2">Fig.1 and Fig.2</ref> to show the formulation and the resulting algorithm design.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Overlay Maximum Flow Problem Formulation</head><p>We continue using the notation in <ref type="table" target="#tab_0">Table I</ref> to formulate the problem. We use h is and h ir to represent the sender and receiver in each overlay O i . Overlay maximum flow problem is to find the maximum flow rate between h is and h ir .</p><p>For each node in an overlay network, we have the following flow conservation constraints.</p><formula xml:id="formula_35">∀i, ∀v ∈ H, v 񮽙 = h ir , v 񮽙 = h is 񮽙 (u,v)∈Ei x i uv = 񮽙 (v,w)∈Ei x i vw (11) ∀i, ∀v ∈ H, h ir , 񮽙 (hir,v)∈Ei x i rv = 0 (12) ∀i, ∀u ∈ H, h is , 񮽙 (u,his)∈Ei x i us = 0.<label>(13)</label></formula><p>In this problem, ∀u, v ∈ H, x uv ≥ 0, so from equation <ref type="formula" target="#formula_1">(12)</ref> and <ref type="formula" target="#formula_1">(13)</ref>, we know that ∀h ir , h is , v ∈ H, x i rv = 0, x i vs = 0. For simplicity, we remove such variables from x and remove constraints in equation <ref type="formula" target="#formula_1">(12)</ref> and <ref type="formula" target="#formula_1">(13)</ref> as well. Let e = (u, v), the flow conservation constraints matrix F is:</p><formula xml:id="formula_36">F i he = ⎧ ⎨ ⎩ 1 if h = v, h 񮽙 = h ir −1 if h = u, h 񮽙 = h is 0 otherwise.</formula><p>Then all the flow conservation constraints can be written as F · x = 0. We define the aggregation function f i for overlay maximum flow problem as</p><formula xml:id="formula_37">f i (x) = 񮽙 (u,hir)∈Ei x i ur = M i · x.<label>(14)</label></formula><p>Here, M i is a 1 × E row vector where M i (e) = 1 when e = (u, h ir ), otherwise M i (e) = 0. Then the objective of optimal capacity sharing among multiple overlays is</p><formula xml:id="formula_38">n 񮽙 i=1 U i (M i · x).</formula><p>We assume each overlay network has a strictly concave utility function U i .</p><p>In the physical network of <ref type="figure" target="#fig_2">Fig. 2(a)</ref>, there are two overlay networks (n = 2).  </p><formula xml:id="formula_39">⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ · ⎛ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜</formula><formula xml:id="formula_40">⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ ≤ ⎛ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎝ 2 1 4 3 2 2 ⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ . Matrix F in eqaution (5) becomes ⎛ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎝ 0 0 0 0 0 0 0 0 0 0 1 −1 −1 0 0 0 0 0 0 0 0 1 0 −1 0 0 0 0 0 0 0 0 1 0 −1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 −1 0 0 0 0 0 0 0 0 1 0 −1 0 0 0 0 0 0 0 0 1 1 −1 0 0 0 0 0 0 0 0 0 0 ⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠ .</formula><p>In this example,</p><formula xml:id="formula_41">M 1 = (0 0 0 1 1 0 0 0 0 0) f 1 (x) = x 1 25 + x 1 45 .</formula><p>Also,</p><formula xml:id="formula_42">M 2 = (0 0 0 0 0 0 0 0 0 1) f 2 (x) = x 2 45 . Let q e = 񮽙 l∈L(e) p l , λ e = 񮽙 h∈Hi μ h F he = μ v − μ u when e = (u, v), assume ∀i, μ his = 0, μ hir = 0.</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Protocol Design and Implementation</head><p>With the preceding formulation, the overlay flows control for the overlay maximum flow problem can be implemented using the proximal minimization and primal-dual algorithm. In this section, we describe the assumptions, measurements and messages exchanged in implementing them in practice. We focus on the requirements of the primal-dual algorithm.</p><p>First, we assume that a flow rate x e is controlled and adjusted by the end host, denoted as the flow owner, O e . The flow rate adaptation could be receiver based or sender based. We use sender based approach similar to TCP: try and backoff from the sender.</p><p>Since the algorithm is designed for overlay applications, we make no assumptions on the knowledge of the physical network. The end hosts do not know the physical topology and capacity information, i.e., A and c in equation <ref type="formula" target="#formula_1">(1)</ref>. Instead, the overlays use natural accumulative path feedback metrics such as queuing delay dynamics from the underlay network as an indication of network congestion price. In particular, end hosts measures the end to end delay of each virtual link periodically and thus infer the queuing delay on it. This can be done in a way similar to TCP Vegas <ref type="bibr" target="#b6">[7]</ref> and FAST <ref type="bibr" target="#b9">[10]</ref>. Note that the information between the same pair of hosts can be shared among different overlays who are using it. This can save the measurement overhead.</p><p>We have two types of price: network price p l at each physical link; node price μ h at each overlay node, which indicates the flow conservation violation at that node. Each flow owner will try to send the traffic at a certain rate and then observe the resulting prices of those two. Then the flow owner will update the flow rate based on the received prices and current sending rate. The protocol is presented in <ref type="figure" target="#fig_6">Fig. 5</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Simulation Results</head><p>We implement the algorithm in <ref type="figure" target="#fig_6">Fig. 5</ref> and study its effectiveness by extensive simulations using example topologies in <ref type="figure">Fig. 1</ref> and <ref type="figure" target="#fig_2">Fig. 2</ref> and topologies generated by the BRITE <ref type="bibr" target="#b16">[17]</ref> topology generator. Here we show the simulation results for the two examples discussed in Section II-C. The utility function we used in the simulation is u(x) = log(x) for all users. The results are summarized as follows.</p><p>For the first example in Section II, as we can see in <ref type="figure">Fig. 6</ref>, the TCP flow converges to its optimal throughput 1 within 5 seconds. O 1 converges to its optimal maximum flow rate 1 with 10 seconds. Because overlay flows control need to adjust the flow rates on all of its links in a distributed manner, it generally converges slower than point-to-point flows. The At time t = 1, 2, ...</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Link Price Update (by link l):</head><p>1. Receive flow rate x e(t) from all overlay flows e ∈ E(l). 2. Update price:</p><formula xml:id="formula_43">p l (t + 1) = [p l (t) + γ( P e∈E(l) xe(t) − c l )] + . 3.</formula><p>Send p l (t + 1) to all overlay unicast flows e ∈ E(l) . The above process is approximated by queuing process at physical network. The p l is the queuing delay at each physical link.</p><p>Node Price Update (by overlay node h):</p><p>1. Receive flow rate x e(t) from all adjacent links in its session. 2.Update price:</p><formula xml:id="formula_44">μ h (t + 1) = μ h (t) + γ( P e=(u,h) xe(t) − P e=(h,v) xe(t)). 3.</formula><p>Send the updated price μ h (t + 1) to the senders who is connected to this node.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Flow Rate Adaptation</head><p>(by each overlay link e = (u, v)'s sender O e):</p><formula xml:id="formula_45">1. Measure qe(t) = P l∈L(e) p l (t)</formula><p>. This is the end to end queuing delay at the overlay link e. 2. Receive node prices μ h (t) from node u and v.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.">Receive the aggregated flow rate Mi(x(t))</head><p>at the overlay receiver.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.">Calculate:</head><p>λ e(t) = μv(t) − μu(t) . 5.Adjust rate:</p><formula xml:id="formula_46">xe(t + 1) = ke(xe(t))(U 񮽙 i (Mi(x(t))) · ∂f i ∂xe . − 1 κ (xe(t) − be) − (qe(t) + λe(t))) . 6</formula><p>. Send x e(t + 1) to all links l ∈ L(e) and all neighbors. time-varying values of the link prices and relay prices are plotted in <ref type="figure">Fig. 6</ref> For the second example, from <ref type="figure" target="#fig_7">Fig. 7</ref>, we can see both overlays are able to converge to the system optimum with maximum flow rate 1 for each within 10 seconds. By using an algorithm which considers other flows in the network, both overlays avoid the sub-optimal equilibria.</p><p>From these examples, we can see that the primal-dual algorithm presented in <ref type="figure" target="#fig_6">Fig. 5</ref> achieves optimality by requiring both unicast flows and overlay traffic to cooperate. The algorithm converges to the optimal rate starting from different initial values. One could consider our proposed framework as a generalization of protocol compliance requirements, such as TCP friendliness. We also note that our framework solves the system optimization problem effectively without requiring explicit support from underlay routers.</p><p>We also study the convergence of the flow rate in a dynamic environment. In example 1, we add more TCP flows between node 2 and 5 at different time and observe the reaction of TCP flow 1. The result is shown in <ref type="figure" target="#fig_8">Fig. 8</ref>. We can see that our algorithm can react to the network changes quickly. The rate of TCP flow 1 converges to the new optimal rate within 3 seconds when new members join in the physical network.  </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>V. RELATED WORK</head><p>Overlay networks have been used to improve reliability (e.g., <ref type="bibr" target="#b17">[18]</ref>) and provide better QoS support (e.g., <ref type="bibr" target="#b18">[19]</ref>). As selforganizing networks, they provide opportunities for end users to explore all available resources in a network. Many overlay algorithms have been proposed lately. However, they tend to focus on designing protocols for a single overlay network without considering sharing network resource with others.</p><p>The aggressive use of network resources by overlays raises concerns to Internet users, designers and researchers. In a recent work <ref type="bibr" target="#b2">[3]</ref>, Jiang et. al propose the concept of overlay optimal routing, as a contrast to selfish routing <ref type="bibr" target="#b19">[20]</ref>. In particular, they study the "interactions" among multiple overlays. They show that when overlays optimize for performance in a selfish manner, the resulting equilibrium is inefficient and unfair. Our work can be regarded as a study of what happens when the overlay networks play by the rules; we show that global optimality can be achieved if each overlay is wellbehaved and reacts to feedback from the physical network.</p><p>Co-existing overlays have also been studied recently by <ref type="bibr">Keralapura et al. in [4]</ref>. They investigate potential causes of race conditions and oscillations. Overlapping routes and periodic path probing processes are some of the causes. Coordination among overlays could alleviate this problem. In our study, we realize that overlays interact with each other at saturated physical links. Thus congestion control can be used to achieve the resource allocation goal and potentially help to reduce oscillations.</p><p>Our work is also inspired by the study of correlations of overlay links <ref type="bibr" target="#b10">[11]</ref>. In particular, <ref type="bibr">Zhu et al.</ref> show that even a single overlay can benefit from finding the correlation among its links due to physical constraints, which means overlays not only interact with each other at bottleneck links but also have self-interference at those links. Our design addresses both issues.</p><p>Optimization based rate control (e.g., <ref type="bibr" target="#b20">[21]</ref>, <ref type="bibr" target="#b5">[6]</ref>, <ref type="bibr" target="#b6">[7]</ref>, <ref type="bibr" target="#b21">[22]</ref>) provides us a powerful tool to solve system optimization problem in an efficient and distributed way. In our model, each overlay network is a user, which extends the traditional flow based formulation.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>VI. CONCLUSION</head><p>In this paper, we study optimal capacity sharing of multiple overlays when each overlay network maximizes its own utility function. We first show that using traditional flow-level rate control may not achieve system-wide optimality. Then we provide a framework to solve the problem systematically. We use congestion control mechanisms to allocate resources so that overlays can interact with other adaptive traffic, generated by unicast TCP flows or other overlays, in a friendly way. We generalize traditional point-to-point congestion control mechanisms to work in multi-point, multi-overlay settings. We then use our proposed framework to study the overlay maximum flow problem and provide simulation results to show the effectiveness of our distributed algorithm. We hope this work can lead to further discussions on how to model and control the interactions among overlays, before overlay networks gain further traction in the Internet.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>VII. ACKNOWLEDGEMENT</head><p>We thank Hao Wang and Haiyong Xie for their valuable discussions. We also thank the anonymous reviewers for their helpful comments and suggestions. Zheng Ma is supported by NSF grants ANI-0238038 and CNS-0435201. Yang Richard Yang is supported in part by NSF grants ANI-0238038 and CNS-0435201.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>APPENDIX PROOF OF THE STABILITY OF PRIMAL-DUAL ALGORITHM</head><p>Proof: We prove the stability of the primal-dual algorithm in <ref type="table">Table 4</ref> by using Lyapunov stability theory. For more details on this, we refer interested readers to <ref type="bibr">[8, Section 3.10]</ref>. Let's assume the unique solution of the optimization problem P1 is (x * , p * , μ * ). It's easy to verify that it is an equilibrium point of the primal-dual algorithm. We now prove that this point is globally asymptotically stable. We will construct a continuously differentiable function V (x, p, μ) such that</p><formula xml:id="formula_47">V (x, p, μ) &gt; 0, ∀ (x, p, μ) 񮽙 = (x * , p * , μ * ),</formula><p>and also</p><formula xml:id="formula_48">˙ V (x, p, μ) ≤ 0, ∀ (x, p, μ) (15) ˙ V (x, p, μ) &lt; 0, ∀ (x, p, μ) 񮽙 = (x * , p * , μ * ) (16) V (x, p, μ) → ∞, when 񮽙(x, p, μ)񮽙 → ∞.<label>(17)</label></formula><p>Consider the following function as a candidate for the Lyapunov function:</p><formula xml:id="formula_49">V (x, p, μ) = n 񮽙 i=1 񮽙 e∈Ei 񮽙 xe x * e 1 k e (α) (α − x * e )dα + 񮽙 l∈L 񮽙 p l p * l 1 h l (β) (β − p * l )dβ + 񮽙 h∈H 񮽙 μ h μ * h 1 m h (γ) (γ − μ * h )dγ.<label>(18)</label></formula><p>Note that V (x * , p * , μ * ) = 0. Since k e (α) &gt; 0, when x e 񮽙 = x * e , we have the following 񮽙 xe</p><formula xml:id="formula_50">x * e 1 k e (α) (α − x * e )dα &gt; 0.</formula><p>This argument can be extended to other terms as well. So when (x, p, μ) 񮽙 = (x * , p * , μ * ), we have V (x, p, μ) &gt; 0 and unbounded when 񮽙(x, p, μ)񮽙 → ∞. We only need to show Eq. 15 and Eq. 16 are true. Now, using the primal-dual algorithm in <ref type="table">Table 4</ref>, we have</p><formula xml:id="formula_51">˙ V = n 񮽙 i=1 񮽙 e∈Ei ( ∂Ψ i (x) ∂x e − q e − λ e ) · (x e − x * e ) + 񮽙 l∈L (p l − p * l )(y l − c l ) + p l + 񮽙 h∈H (μ h − μ * h ) · z h .<label>(19)</label></formula><p>Note that </p><formula xml:id="formula_52">(p l − p * l )(y l − c l ) + p l ≤ (p l − p * l )(y l − c l ).<label>(20)</label></formula><formula xml:id="formula_53">* l ≥ 0, 0 ≤ (p l − p * l )(y l − c l ). Therefore, ˙ V ≤ n 񮽙 i=1 񮽙 e∈Ei ( ∂Ψ i (x) ∂x e − q e − λ e ) · (x e − x * e ) + 񮽙 l∈L (p l − p * l )(y l − c l ) + 񮽙 h∈H (μ h − μ * h ) · z h = n 񮽙 i=1 񮽙 e∈Ei ( ∂Ψ i (x) ∂x e − q * e − λ * e ) · (x e − x * e ) + 񮽙 l∈L (p l − p * l )(y * l − c l ) + 񮽙 h∈H (μ h − μ * h ) · z * h + n 񮽙 i=1 񮽙 e∈Ei (−q e − λ e + q * e + λ * e ) · (x e − x * e ) + 񮽙 l∈L (p l − p * l )(y l − y * l ) + 񮽙 h∈H (μ h − μ * h ) · (z h − z * h ).<label>(21)</label></formula><p>From the Karush-Kuhn-Tucker conditions in Eq. 9, we have</p><formula xml:id="formula_54">˙ V ≤ n 񮽙 i=1 񮽙 e∈Ei ( ∂Ψ i (x) ∂x e − ∂Ψ i (x * ) ∂x e ) · (x e − x * e ) + 񮽙 l∈L p l (y * l − c l ) + 0 − n 񮽙 i=1 񮽙 e∈Ei (q e − q * e ) · (x e − x * e ) − n 񮽙 i=1 񮽙 e∈Ei (λ e − λ * e ) · (x e − x * e ) + 񮽙 l∈L (p l − p * l )(y l − y * l ) + 񮽙 h∈H (μ h − μ * h ) · (z h − z * h )<label>(22)</label></formula><p>For q e , x e , y l , λ e , p l , μ h , z h , we have the following relationship</p><formula xml:id="formula_55">q e = 񮽙 l∈L p l A le = 񮽙 l∈L(e) p l y l = 񮽙 e∈E A le x e = n 񮽙 i=1 񮽙 e∈Ei A le x e λ e = 񮽙 h∈H μ h F he z h = 񮽙 e∈E F he x e = n 񮽙 i=1 񮽙 e∈Ei F he x e . So n 񮽙 i=1 񮽙 e∈Ei q e · x e = n 񮽙 i=1 񮽙 e∈Ei 񮽙 l∈L p l A le x e = 񮽙 l∈L p l n 񮽙 i=1 񮽙 e∈Ei A le x e = 񮽙 l∈L p l y l . (23) n 񮽙 i=1 񮽙 e∈Ei λ e · x e = n 񮽙 i=1 񮽙 e∈Ei 񮽙 h∈H μ h F he x e = 񮽙 h∈H μ h n 񮽙 i=1 񮽙 e∈Ei F he x e = 񮽙 h∈H μ h z h .<label>(24)</label></formula><p>With the above equations, Eq. 22 becomes</p><formula xml:id="formula_56">˙ V ≤ n 񮽙 i=1 񮽙 e∈Ei ( ∂Ψ i (x) ∂x e − ∂Ψ i (x * ) ∂x e ) · (x e − x * e ) + 񮽙 l∈L p l (y * l − c l ).<label>(25)</label></formula><p>Because of the strict concavity of Ψ i (x), when x e ↑, ∂Ψi(x) ∂xe ↓. So</p><formula xml:id="formula_57">˙ V ≤ 񮽙 l∈L p l (y * l − c l ),<label>(26)</label></formula><p>with equality if and only if x = x * . So it follows that ˙ V ≤ 0 for all p l ≥ 0 since y * l − c l ≤ 0. Further, ˙ V = 0 only when x = x * and for each link l, either p l = p * l or y * l = c l . Thus, it follows by the theory of Lyapunov stability theory that the primal-dual algorithm is globally asymptotically stable.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head></head><label></label><figDesc>summarizes the notations. In the example by Fig.1, there are 6 physical links (L=6). Overlay network O 1 has 5 nodes (H 1 = 5) and 5 overlay links (E 1 = 5). Overlay network O 2 is a TCP flow from 2 to 5. Assume shortest path routing by number of hops at physical network. Inequality (</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head></head><label></label><figDesc>Fig. 1. Sub-optimality TCP performance when using only flow level rate control.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head>Fig. 2 .</head><label>2</label><figDesc>Fig. 2. Sub-optimality overlay performance when using flow-level rate control only.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_3"><head>Fig. 3 .</head><label>3</label><figDesc>Fig. 3. Proximal Minimization Algorithm .</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_4"><head>Fig. 4 .</head><label>4</label><figDesc>Fig. 4. Primal-Dual Algorithm .</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_5"><head></head><label></label><figDesc>The total number of overlay nodes is 10 (H = 10), and there are six physical links (L = 6). Assume h 1s = h 11 , h 1r = h 15 , h 2s = h 23 , h 2r = h 25 .</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_6"><head>Fig. 5 .</head><label>5</label><figDesc>Fig. 5. Protocol for finding maximum-flow in overlay networks.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_7"><head>Fig. 7 .</head><label>7</label><figDesc>Fig. 6. Simulation result for example 1.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_8"><head>Fig. 8 .</head><label>8</label><figDesc>Fig. 8. Convergence of flow rate in a dynamic environment.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_9"><head></head><label></label><figDesc>This is true because the inequality is an equality if either p l &gt; 0 or y l − c l &gt; 0. When p l = 0 and y − c l ≤ 0, (y l − c l ) + p l = 0 and since p</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_0" validated="false"><head>TABLE I NOTATION FOR OVERLAY FLOWS CONTROL FORMULATION.</head><label>I</label><figDesc></figDesc><table></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_1" validated="false"><head>⎝ x 1 13 x 1 32 x 1 34 x 1 25 x 1 45 x 2 31 x 2 32 x 2 14 x 2 24 x 2 45</head><label></label><figDesc></figDesc><table></table></figure>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>

			<note place="foot" n="1">-4244-0476-2/06/$20.00 ©2006 IEEE.</note>
		</body>
		<back>
			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<monogr>
		<title level="m" type="main">PlanetLab</title>
		<ptr target="http://www.planet-lab.org" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<monogr>
		<title level="m" type="main">Emulab</title>
		<ptr target="http://www.emulab.net/" />
		<imprint/>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<analytic>
		<title level="a" type="main">Interaction of overlay networks: properties and implications</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">W</forename><surname>Jiang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">C S</forename><surname>Lui</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D.-M</forename><surname>Chiu</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Eval. Rev</title>
		<imprint>
			<biblScope unit="volume">33</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="27" to="29" />
			<date type="published" when="2005" />
		</imprint>
	</monogr>
	<note>SIGMETRICS Perform</note>
</biblStruct>

<biblStruct xml:id="b3">
	<analytic>
		<title level="a" type="main">Can coexisting overlays inadvertently step on each other</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Keralapura</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C.-N</forename><surname>Chuah</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">N</forename><surname>Taft</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">G</forename><surname>Qiannacco</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of 13th IEEE International Conference on Network Procotols (ICNP)</title>
		<meeting>13th IEEE International Conference on Network Procotols (ICNP)</meeting>
		<imprint>
			<date type="published" when="2005" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<analytic>
		<title level="a" type="main">Controlling the Internet: A survey and some new results</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Liu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><surname>Basar</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Srikant</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the 42nd IEEE Conference on Decision and Control</title>
		<meeting>the 42nd IEEE Conference on Decision and Control</meeting>
		<imprint>
			<date type="published" when="2003" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<analytic>
		<title level="a" type="main">Optimization flow control -I: basic algorithm and convergence</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">H</forename><surname>Low</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">E</forename><surname>Lapsley</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE/ACM Transactions on Networking</title>
		<imprint>
			<biblScope unit="volume">7</biblScope>
			<biblScope unit="issue">6</biblScope>
			<biblScope unit="page" from="861" to="874" />
			<date type="published" when="1999" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b6">
	<analytic>
		<title level="a" type="main">Understanding TCP Vegas: a duality model</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">H</forename><surname>Low</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><forename type="middle">L</forename><surname>Peterson</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Wang</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">J. ACM</title>
		<imprint>
			<biblScope unit="volume">49</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="207" to="235" />
			<date type="published" when="2002" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<monogr>
		<title level="m" type="main">The Mathematics of Internet Congestion Control</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Srikant</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2004" />
			<publisher>Birkhauser</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b8">
	<analytic>
		<title level="a" type="main">Rate control in communication networks: shadow prices, proportional fairness and stability</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">F</forename><surname>Kelly</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Maulloo</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Tan</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Journal of the Operational Research Society</title>
		<imprint>
			<biblScope unit="volume">49</biblScope>
			<biblScope unit="page" from="237" to="252" />
			<date type="published" when="1998" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title level="a" type="main">FAST TCP: motivation, architecture, algorithms, performance</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">X</forename><surname>Wei</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Jin</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">H</forename><surname>Low</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Hegde</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE/ACM Transactions on Networking</title>
		<imprint>
			<date type="published" when="2007" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<analytic>
		<title level="a" type="main">Overlay networks with linear capacity constraints</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Li</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the 13th International Workshop on Quality of Service</title>
		<meeting>the 13th International Workshop on Quality of Service</meeting>
		<imprint>
			<date type="published" when="2005" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b11">
	<analytic>
		<title level="a" type="main">Optimal resource allocation in overlay multicast</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Cui</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Xue</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">K</forename><surname>Nahrstedt</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the 11th IEEE International Conference on Network Procotols (ICNP)</title>
		<meeting>the 11th IEEE International Conference on Network Procotols (ICNP)</meeting>
		<imprint>
			<date type="published" when="2003" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b12">
	<monogr>
				<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">P</forename><surname>Bertsekas</surname></persName>
		</author>
		<title level="m">Network Optimization: continuous and discrete methods</title>
		<imprint>
			<date type="published" when="1998" />
		</imprint>
	</monogr>
	<note>1st ed. Athena Scientific</note>
</biblStruct>

<biblStruct xml:id="b13">
	<monogr>
		<title level="m" type="main">Parallel and distributed computation : numerical methods</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">P</forename><surname>Bertsekas</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><forename type="middle">N</forename><surname>Tsitsiklis</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1989" />
			<publisher>Prentice Hall</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b14">
	<analytic>
		<title level="a" type="main">A global stability result for primal-dual congestion control algorithms with routing</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">T</forename><surname>Voice</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">SIGCOMM Comput. Commun. Rev</title>
		<imprint>
			<biblScope unit="volume">34</biblScope>
			<biblScope unit="issue">3</biblScope>
			<biblScope unit="page" from="35" to="41" />
			<date type="published" when="2004" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b15">
	<analytic>
		<title level="a" type="main">A unifying passivity framework for network flow control</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Wen</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><surname>Arcak</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">ECSE Dept</title>
		<imprint>
			<date type="published" when="2002-08" />
			<publisher>Rensselaer Polytechnic Institute</publisher>
		</imprint>
	</monogr>
<note type="report_type">Technical Report</note>
</biblStruct>

<biblStruct xml:id="b16">
	<monogr>
		<title level="m" type="main">BRITE: Universal Topology Generation from a User&apos;s Perspective (User Manual)</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Medina</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">A</forename><surname>Lakhina</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">I</forename><surname>Matta</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">J</forename><surname>Byers</surname></persName>
		</author>
		<idno>BU-CS-2001-003</idno>
		<imprint>
			<date type="published" when="2001-05" />
			<pubPlace>Boston, MA 02215</pubPlace>
		</imprint>
		<respStmt>
			<orgName>Boston University, Computer Science Department</orgName>
		</respStmt>
	</monogr>
<note type="report_type">Tech. Rep.</note>
</biblStruct>

<biblStruct xml:id="b17">
	<analytic>
		<title level="a" type="main">Resilient overlay networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">G</forename><surname>Andersen</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H</forename><surname>Balakrishnan</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><forename type="middle">F</forename><surname>Kaashoek</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Morris</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the Symposium on Operating Systems Principles</title>
		<meeting>the Symposium on Operating Systems Principles</meeting>
		<imprint>
			<date type="published" when="2001" />
			<biblScope unit="page" from="131" to="145" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b18">
	<analytic>
		<title level="a" type="main">A new multi-path selection scheme for video streaming on overlay networks</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Z</forename><surname>Ma</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H.-R</forename><surname>Shao</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><surname>Shen</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the IEEE International Conference on Communications (ICC)</title>
		<meeting>the IEEE International Conference on Communications (ICC)<address><addrLine>Paris, France</addrLine></address></meeting>
		<imprint>
			<date type="published" when="2004-06" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b19">
	<analytic>
		<title level="a" type="main">On selfish routing in internet-like environments</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">L</forename><surname>Qiu</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><forename type="middle">R</forename><surname>Yang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Zhang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Shenker</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the ACM SIGCOMM &apos;03</title>
		<meeting>the ACM SIGCOMM &apos;03<address><addrLine>Karlsruhe, Germany</addrLine></address></meeting>
		<imprint>
			<date type="published" when="2003-08" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b20">
	<analytic>
		<title level="a" type="main">On achieving optimized capacity utilization in application overlay networks with multiple competing sessions</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Y</forename><surname>Cui</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">B</forename><surname>Li</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">K</forename><surname>Nahrstedt</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the 16th annual ACM symposium on parallelism in algorithms and architectures</title>
		<meeting>the 16th annual ACM symposium on parallelism in algorithms and architectures<address><addrLine>New York, NY, USA</addrLine></address></meeting>
		<imprint>
			<publisher>ACM Press</publisher>
			<date type="published" when="2004" />
			<biblScope unit="page" from="160" to="169" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b21">
	<analytic>
		<title level="a" type="main">Multipath TCP: A joint congestion control and routing scheme to exploit path diversity on the internet</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H</forename><surname>Han</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><surname>Shakkottai</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><forename type="middle">V</forename><surname>Hollot</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">R</forename><surname>Srikant</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><surname>Towsley</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE/ACM Trans. on Networking</title>
		<imprint>
			<date type="published" when="2007" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
